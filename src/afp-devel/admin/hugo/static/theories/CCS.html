<div id="Agent">
<div class="head"><h1>Theory Agent</h1>
<span class="command">theory</span> <span class="name">Agent</span><br/>
<span class="keyword">imports</span> <a href="../../HOL/HOL-Nominal/Nominal.html"><span class="name">Nominal</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Agent</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"HOL-Nominal.Nominal"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">atom_decl</span></span><span> </span><span>name</span><span>
</span><span>
</span><span class="keyword1"><span class="command">nominal_datatype</span></span><span> </span><span>act</span><span> </span><span class="delimiter">=</span><span> </span><span>actAction</span><span> </span><span>name</span><span>      </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"‚¶á_‚¶à"</span></span></span><span> </span><span>100</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>actCoAction</span><span> </span><span>name</span><span>    </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"‚ü®_‚ü©"</span></span></span><span> </span><span>100</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>actTau</span><span>              </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"œÑ"</span></span></span><span> </span><span>100</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">nominal_datatype</span></span><span> </span><span>ccs</span><span> </span><span class="delimiter">=</span><span> </span><span>CCSNil</span><span>           </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"ùü¨"</span></span></span><span> </span><span>115</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>Action</span><span> </span><span>act</span><span> </span><span>ccs</span><span>   </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_._"</span></span></span><span> </span><span class="delimiter">[</span><span>120</span><span class="delimiter">,</span><span> </span><span>110</span><span class="delimiter">]</span><span> </span><span>110</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>Sum</span><span> </span><span>ccs</span><span> </span><span>ccs</span><span>      </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">infixl</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚äï"</span></span></span><span> </span><span>90</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>Par</span><span> </span><span>ccs</span><span> </span><span>ccs</span><span>      </span><span class="delimiter">(</span><span class="keyword2"><span class="keyword">infixl</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚à•"</span></span></span><span> </span><span>85</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>Res</span><span> </span><span class="string"><span class="delete"><span class="delete">"¬´name¬ª ccs"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩ_‚¶à_"</span></span></span><span> </span><span class="delimiter">[</span><span>105</span><span class="delimiter">,</span><span> </span><span>100</span><span class="delimiter">]</span><span> </span><span>100</span><span class="delimiter">)</span><span>
</span><span>                     </span><span class="delimiter">|</span><span> </span><span>Bang</span><span> </span><span>ccs</span><span>         </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"!_"</span></span></span><span> </span><span class="delimiter">[</span><span>95</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">nominal_primrec</span></span><span> </span><span>coAction</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"act ‚áí act"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"coAction (‚¶áa‚¶à) = (‚ü®a‚ü©)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="string"><span class="delete"><span class="delete">"coAction (‚ü®a‚ü©)= (‚¶áa‚¶à)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span class="string"><span class="delete"><span class="delete">"coAction (œÑ) = œÑ"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>TrueI</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>coActionEqvt</span><span class="delimiter">[</span><span>eqvt</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>p</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"name prm"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(p ‚àô coAction a) = coAction(p ‚àô a)"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>a</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>act.strong_induct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>eqvts</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>coActionSimps</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"coAction(coAction a) = a"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"(coAction a = œÑ) = (a = œÑ)"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span> </span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>act.strong_induct</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>coActSimp</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span> </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"coAction Œ± ‚â† œÑ = (Œ± ‚â† œÑ)"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(coAction Œ± = œÑ) = (Œ± = œÑ)"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>Œ±</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>act.strong_induct</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>    
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>coActFresh</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ coAction a = x ‚ôØ a"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>a</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>act.strong_induct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span class="delimiter">)</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>alphaRes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"y ‚ôØ P"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP = ‚¶áŒΩy‚¶à([(x, y)] ‚àô P)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span> </span><span>alpha</span><span> </span><span>fresh_left</span><span> </span><span>calc_atm</span><span> </span><span>pt_swap_bij</span><span class="delimiter">[</span><span>OF</span><span> </span><span>pt_name_inst</span><span class="delimiter">,</span><span> </span><span>OF</span><span> </span><span>at_name_inst</span><span class="delimiter">]</span><span>pt3</span><span class="delimiter">[</span><span>OF</span><span> </span><span>pt_name_inst</span><span class="delimiter">,</span><span> </span><span>OF</span><span> </span><span>at_ds1</span><span class="delimiter">[</span><span>OF</span><span> </span><span>at_name_inst</span><span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">inductive</span></span><span> </span><span>semantics</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí act ‚áí ccs ‚áí bool"</span></span></span><span>    </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚üº_ ‚â∫ _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span>Action</span><span class="delimiter">:</span><span>   </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚üºŒ± ‚â∫ P"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Sum1</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P' ‚üπ P ‚äï Q ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Sum2</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üºŒ± ‚â∫ Q' ‚üπ P ‚äï Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Par1</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P' ‚üπ P ‚à• Q ‚üºŒ± ‚â∫ P' ‚à• Q"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Par2</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üºŒ± ‚â∫ Q' ‚üπ P ‚à• Q ‚üºŒ± ‚â∫ P ‚à• Q'"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Comm</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ü¶P ‚üºa ‚â∫ P'; Q ‚üº(coAction a) ‚â∫ Q'; a ‚â† œÑ‚üß ‚üπ P ‚à• Q ‚üºœÑ ‚â∫ P' ‚à• Q'"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Res</span><span class="delimiter">:</span><span>      </span><span class="string"><span class="delete"><span class="delete">"‚ü¶P ‚üºŒ± ‚â∫ P'; x ‚ôØ Œ±‚üß ‚üπ ‚¶áŒΩx‚¶àP ‚üºŒ± ‚â∫ ‚¶áŒΩx‚¶àP'"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Bang</span><span class="delimiter">:</span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üºŒ± ‚â∫ P' ‚üπ !P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">equivariance</span></span><span> </span><span>semantics</span><span>
</span><span>
</span><span class="keyword1"><span class="command">nominal_inductive</span></span><span> </span><span>semantics</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>abs_fresh</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>semanticsInduct</span><span class="delimiter">:</span><span>
</span><span class="string"><span class="delete"><span class="delete">"‚ü¶R ‚üºŒ≤ ‚â∫ R'; ‚ãÄŒ± P ùíû. Prop ùíû (Œ±.(P)) Œ± P;
 ‚ãÄP Œ± P' Q ùíû. ‚ü¶P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû P Œ± P'‚üß ‚üπ Prop ùíû (ccs.Sum P Q) Œ± P';
 ‚ãÄQ Œ± Q' P ùíû. ‚ü¶Q ‚üºŒ± ‚â∫ Q'; ‚ãÄùíû. Prop ùíû Q Œ± Q'‚üß ‚üπ Prop ùíû (ccs.Sum P Q) Œ± Q';
 ‚ãÄP Œ± P' Q ùíû. ‚ü¶P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû P Œ± P'‚üß ‚üπ Prop ùíû (P ‚à• Q) Œ± (P' ‚à• Q);
 ‚ãÄQ Œ± Q' P ùíû. ‚ü¶Q ‚üºŒ± ‚â∫ Q'; ‚ãÄùíû. Prop ùíû Q Œ± Q'‚üß ‚üπ Prop ùíû (P ‚à• Q) Œ± (P ‚à• Q');
 ‚ãÄP a P' Q Q' ùíû.
    ‚ü¶P ‚üºa ‚â∫ P'; ‚ãÄùíû. Prop ùíû P a P'; Q ‚üº(coAction a) ‚â∫ Q';
     ‚ãÄùíû. Prop ùíû Q (coAction a) Q'; a ‚â† œÑ‚üß
    ‚üπ Prop ùíû (P ‚à• Q) (œÑ) (P' ‚à• Q');
 ‚ãÄP Œ± P' x ùíû.
    ‚ü¶x ‚ôØ ùíû; P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû P Œ± P'; x ‚ôØ Œ±‚üß ‚üπ Prop ùíû (‚¶áŒΩx‚¶àP) Œ± (‚¶áŒΩx‚¶àP');
 ‚ãÄP Œ± P' ùíû. ‚ü¶P ‚à• !P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû (P ‚à• !P) Œ± P'‚üß ‚üπ Prop ùíû !P Œ± P'‚üß

‚üπ Prop (ùíû::'a::fs_name) R Œ≤ R'"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>erule_tac</span><span> </span><span>z</span><span class="delimiter">=</span><span>ùíû</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>semantics.strong_induct</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>NilTrans</span><span class="delimiter">[</span><span>dest</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"ùü¨ ‚üºŒ± ‚â∫ P' ‚üπ False"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"(‚¶áb‚¶à).P ‚üº‚ü®c‚ü© ‚â∫ P' ‚üπ False"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"(‚¶áb‚¶à).P ‚üºœÑ ‚â∫ P' ‚üπ False"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"(‚ü®b‚ü©).P ‚üº‚¶ác‚¶à ‚â∫ P' ‚üπ False"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"(‚ü®b‚ü©).P ‚üºœÑ ‚â∫ P' ‚üπ False"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"ùü¨ ‚üºŒ± ‚â∫ P'"</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áb‚¶à).P ‚üº‚ü®c‚ü© ‚â∫ P'"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áb‚¶à).P ‚üºœÑ ‚â∫ P'"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚ü®b‚ü©).P ‚üº‚¶ác‚¶à ‚â∫ P'"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚ü®b‚ü©).P ‚üºœÑ ‚â∫ P'"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>freshDerivative</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>  </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>semantics.strong_induct</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.fresh</span><span> </span><span>abs_fresh</span><span class="delimiter">)</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cAct</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ≤</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚üºŒ≤ ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Prop Œ± P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop Œ≤ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚üºŒ≤ ‚â∫ P'"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSum1</span><span> </span><span>cSum2</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üºŒ± ‚â∫ R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP'. P ‚üºŒ± ‚â∫ P' ‚üπ Prop P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄQ'. Q ‚üºŒ± ‚â∫ Q' ‚üπ Prop Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üºŒ± ‚â∫ R"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cPar1</span><span> </span><span>cPar2</span><span> </span><span>cComm</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üºŒ± ‚â∫ R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP'. P ‚üºŒ± ‚â∫ P' ‚üπ Prop Œ± (P' ‚à• Q)"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄQ'. Q ‚üºŒ± ‚â∫ Q' ‚üπ Prop Œ± (P ‚à• Q')"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP' Q' a. ‚ü¶P ‚üºa ‚â∫ P'; Q ‚üº(coAction a) ‚â∫ Q'; a ‚â† œÑ; Œ± = œÑ‚üß ‚üπ Prop (œÑ) (P' ‚à• Q')"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop Œ± R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üºŒ± ‚â∫ R"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cRes</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span>  </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP'. ‚ü¶P ‚üºŒ± ‚â∫ P'; x ‚ôØ Œ±‚üß ‚üπ Prop (‚¶áŒΩx‚¶àP')"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ‚¶áŒΩx‚¶àP ‚üºŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P'"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>freshDerivative</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>abs_fresh</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>cases</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>semantics.strong_cases</span><span class="delimiter">[</span><span>of</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>_</span><span> </span><span>x</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>abs_fresh</span><span> </span><span>ccs.inject</span><span> </span><span>alpha</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">inductive</span></span><span> </span><span>bangPred</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí ccs ‚áí bool"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span>aux1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (!P)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>aux2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (P ‚à• !P)"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangInduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cPar1</span><span> </span><span>cPar2</span><span> </span><span>cComm</span><span> </span><span>cBang</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>ùíû</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"'a::fs_name"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rPar1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± P' ùíû. ‚ü¶P ‚üºŒ± ‚â∫ P'‚üß ‚üπ Prop ùíû (P ‚à• !P) Œ± (P' ‚à• !P)"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rPar2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± P' ùíû. ‚ü¶!P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû (!P) Œ± P'‚üß ‚üπ Prop ùíû (P ‚à• !P) Œ± (P ‚à• P')"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rComm</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄa P' P'' ùíû. ‚ü¶P ‚üºa ‚â∫ P'; !P ‚üº(coAction a) ‚â∫ P''; ‚ãÄùíû. Prop ùíû (!P) (coAction a) P''; a ‚â† œÑ‚üß ‚üπ Prop ùíû (P ‚à• !P) (œÑ) (P' ‚à• P'')"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rBang</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± P' ùíû. ‚ü¶P ‚à• !P ‚üºŒ± ‚â∫ P'; ‚ãÄùíû. Prop ùíû (P ‚à• !P) Œ± P'‚üß ‚üπ Prop ùíû (!P) Œ± P'"</span></span></span><span>
</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop ùíû (!P) Œ± P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>X</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚üºŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P X"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop ùíû X Œ± P'"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>avoiding</span><span class="delimiter">:</span><span> </span><span>ùíû</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>semantics.strong_induct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Action</span><span> </span><span>Œ±</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> 
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Œ±.(Pa))"</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sum1</span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Pa ‚äï Q)"</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sum2</span><span> </span><span>Q</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Pa ‚äï Q)"</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Par1</span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>-</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Pa ‚à• Q)"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>rPar1</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Par2</span><span> </span><span>Q</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>-</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Pa ‚à• Q)"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>rPar2</span><span> </span><span>aux1</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Comm</span><span> </span><span>Pa</span><span> </span><span>a</span><span> </span><span>P'</span><span> </span><span>Q</span><span> </span><span>Q'</span><span> </span><span>C</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>-</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (Pa ‚à• Q)"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>rComm</span><span> </span><span>aux1</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Res</span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span> </span><span>x</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (‚¶áŒΩx‚¶àPa)"</span></span></span><span class="delimiter">)</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Bang</span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>P'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>-</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangPred P (!Pa)"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>rBang</span><span> </span><span>aux2</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ!P ‚üºŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bangPred.aux1</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">inductive_set</span></span><span> </span><span>bangRel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set ‚áí (ccs √ó ccs) set"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">for</span></span><span> </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span>BRBang</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel ‚üπ (!P, !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>BRPar</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(R, T) ‚àà Rel ‚üπ (P, Q) ‚àà (bangRel Rel) ‚üπ (R ‚à• P, T ‚à• Q) ‚àà (bangRel Rel)"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>BRBangCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>BRBang</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>F</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí bool"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP. (P, Q) ‚àà Rel ‚üπ F (!P)"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"F P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, !Q) ‚àà bangRel Rel"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>BRParCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>BRPar</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>F</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí bool"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP R. ‚ü¶(P, Q) ‚àà Rel; (R, !Q) ‚àà bangRel Rel‚üß ‚üπ F (P ‚à• R)"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"F P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>-</span><span> </span><span class="delimiter">(</span><span>ind_cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span class="delimiter">,</span><span> </span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>ccs.inject</span><span class="delimiter">)</span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangRelSubset</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà Rel ‚üπ (P, Q) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà bangRel Rel'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span>  </span><span>bangRel.induct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>BRBang</span><span> </span><span>BRPar</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Tau_Chain">
<div class="head"><h1>Theory Tau_Chain</h1>
<span class="command">theory</span> <span class="name">Tau_Chain</span><br/>
<span class="keyword">imports</span> <a href="Agent.html"><span class="name">Agent</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Tau_Chain</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Agent</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>tauChain</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí ccs ‚áí bool"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P' ‚â° (P, P') ‚àà {(P, P') | P P'. P ‚üºœÑ ‚â∫ P'}^*"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainInduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>Base</span><span> </span><span>Step</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Prop P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP' P''. ‚ü¶P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'; P' ‚üºœÑ ‚â∫ P''; Prop P'‚üß ‚üπ Prop P''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>rtrancl_induct</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainRefl</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainCons</span><span class="delimiter">[</span><span>dest</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P''</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P' ‚üºœÑ ‚â∫ P''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>rtrancl_trans</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainCons2</span><span class="delimiter">[</span><span>dest</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P''</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P' ‚üºœÑ ‚â∫ P''"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>rtrancl_trans</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainAppend</span><span class="delimiter">[</span><span>dest</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P''</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'‚Ä∫</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainSum1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚â† P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span> 
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Step</span><span> </span><span>P'</span><span> </span><span>P''</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"P=P'"</span></span></span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainSum2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚â† Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span> 
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Step</span><span> </span><span>Q'</span><span> </span><span>Q''</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q=Q'"</span></span></span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum2</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainPar1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P' ‚à• Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainPar2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P ‚à• Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainRes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>  </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> ‚¶áŒΩx‚¶àP'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>Res</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainRepl</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P' ‚â† P ‚à• !P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"P' ‚â† P ‚à• !P"</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>drule</span><span> </span><span>Bang</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Cong_Semantics">
<div class="head"><h1>Theory Weak_Cong_Semantics</h1>
<span class="command">theory</span> <span class="name">Weak_Cong_Semantics</span><br/>
<span class="keyword">imports</span> <a href="Tau_Chain.html"><span class="name">Tau_Chain</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Cong_Semantics</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Tau_Chain</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>weakCongTrans</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí act ‚áí ccs ‚áí bool"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚üπ_ ‚â∫ _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P' ‚â° ‚àÉP'' P'''. P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'' ‚àß P'' ‚üºŒ± ‚â∫ P''' ‚àß P''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongTransE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P''</span><span> </span><span>P'''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚üºŒ± ‚â∫ P'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongTransI</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P''</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>    </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'''</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P'' ‚üºŒ± ‚â∫ P'''"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongAction</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚üπŒ± ‚â∫ P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Action</span><span> </span><span>tauChainRefl</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongSum1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"P=P''"</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>tauChainSum1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongSum2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπŒ± ‚â∫ Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q=P''"</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>Sum2</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>tauChainSum2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongPar1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπŒ± ‚â∫ P' ‚à• Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>tauChainPar1</span><span> </span><span>Par1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongPar2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπŒ± ‚â∫ P ‚à• Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>tauChainPar2</span><span> </span><span>Par2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongSync</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ(coAction Œ±) ‚â∫ Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Œ± ‚â† œÑ"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπœÑ ‚â∫ P' ‚à• Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>x</span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚à• P''a"</span></span></span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>exI</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>tauChainPar1</span><span> </span><span>tauChainPar2</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>x</span><span class="delimiter">=</span><span class="string"><span class="delete"><span class="delete">"P''' ‚à• P'''a"</span></span></span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>exI</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Comm</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>P'</span><span class="delimiter">=</span><span class="string"><span class="delete"><span class="delete">"P' ‚à• P'''a"</span></span></span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>tauChainAppend</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>tauChainPar1</span><span> </span><span>tauChainPar2</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongRes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>  </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚üπŒ± ‚â∫ ‚¶áŒΩx‚¶àP'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>tauChainRes</span><span> </span><span>Res</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongRepl</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>case_tac</span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' = P ‚à• !P"</span></span></span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Bang</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>tauChainRepl</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Semantics">
<div class="head"><h1>Theory Weak_Semantics</h1>
<span class="command">theory</span> <span class="name">Weak_Semantics</span><br/>
<span class="keyword">imports</span> <a href="Weak_Cong_Semantics.html"><span class="name">Weak_Cong_Semantics</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Semantics</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Cong_Semantics</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>weakTrans</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí act ‚áí ccs ‚áí bool"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚üπ<span class="hidden">‚áß</span><sup>^</sup>_ ‚â∫ _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚â° P ‚üπŒ± ‚â∫ P' ‚à® (Œ± = œÑ ‚àß P = P')"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakEmptyTrans</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakTransCases</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>Base</span><span> </span><span>Step</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ü¶Œ± = œÑ; P = P'‚üß ‚üπ Prop (œÑ) P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P' ‚üπ Prop Œ± P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop Œ± P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongTransitionWeakTransition</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitionWeakTransition</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>transitionWeakCongTransition</span><span> </span><span>weakCongTransitionWeakTransition</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakAction</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>a</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongAction</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSum1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P ‚â† P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSum1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSum2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚â† Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSum2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakPar1</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚à• Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongPar1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakPar2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P ‚à• Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongPar2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSync</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>(coAction Œ±) ‚â∫ Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Œ± ‚â† œÑ"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P' ‚à• Q'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSync</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakRes</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>  </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ ‚¶áŒΩx‚¶àP'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongRes</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakRepl</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>  </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P'</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"P' ‚â† P ‚à• !P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongRepl</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Strong_Sim">
<div class="head"><h1>Theory Strong_Sim</h1>
<span class="command">theory</span> <span class="name">Strong_Sim</span><br/>
<span class="keyword">imports</span> <a href="Agent.html"><span class="name">Agent</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Sim</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Agent</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>simulation</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí (ccs √ó ccs) set ‚áí ccs ‚áí bool"</span></span></span><span>   </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚Üù[_] _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q ‚â° ‚àÄa Q'. Q ‚üºa ‚â∫ Q' ‚ü∂ (‚àÉP'. P ‚üºa ‚â∫ P' ‚àß (P', Q') ‚àà Rel)"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simI</span><span class="delimiter">[</span><span>case_names</span><span> </span><span>Sim</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± Q'. Q ‚üºŒ± ‚â∫ Q' ‚üπ ‚àÉP'. P ‚üºŒ± ‚â∫ P' ‚àß (P', Q') ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>   </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel''</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù[Rel'] R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel O Rel' ‚äÜ Rel''"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel''] R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span><span>
</span><span>
</span></pre>
</div>
</div><div id="Weak_Sim">
<div class="head"><h1>Theory Weak_Sim</h1>
<span class="command">theory</span> <span class="name">Weak_Sim</span><br/>
<span class="keyword">imports</span> <a href="Weak_Semantics.html"><span class="name">Weak_Semantics</span></a> <a href="Strong_Sim.html"><span class="name">Strong_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Sim</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Semantics</span><span> </span><span>Strong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>weakSimulation</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí (ccs √ó ccs) set ‚áí ccs ‚áí bool"</span></span></span><span>   </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;_&gt; _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q ‚â° ‚àÄa Q'. Q ‚üºa ‚â∫ Q' ‚ü∂ (‚àÉP'. P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>a ‚â∫ P' ‚àß (P', Q') ‚àà Rel)"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSimI</span><span class="delimiter">[</span><span>case_names</span><span> </span><span>Sim</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± Q'. Q ‚üºŒ± ‚â∫ Q' ‚üπ ‚àÉP'. P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚àß (P', Q') ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSimE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>   </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simTauChain</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>Sim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; S"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>arbitrary</span><span class="delimiter">:</span><span> </span><span>thesis</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Base</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Step</span><span> </span><span>Q''</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P'', Q'') ‚àà Rel"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Step</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P'', Q'') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Sim</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ'' ‚üºœÑ ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P''‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span>thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>weakCongTrans_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Step</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simE2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>   </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>Sim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; S"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>Goal</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP'. ‚ü¶P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'; (P', Q') ‚àà Rel‚üß ‚üπ thesis"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚àÉP'. P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚àß (P', Q') ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakTransCases</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>force</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Step</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üπŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>Q'''</span><span> </span><span>Q''</span><span>
</span><span>    </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>QChain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Q'''Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q''' ‚üºŒ± ‚â∫ Q''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Q''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongTransE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>QChain</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span>Sim</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>PChain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P''', Q''') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simTauChain</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P''', Q''') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q'''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Sim</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P'''Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P'', Q'') ‚àà Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Q'''Trans</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>Q''Chain</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P'', Q'') ‚àà Rel‚Ä∫</span></span></span><span> </span><span>Sim</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simTauChain</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>P'''Trans</span><span> </span><span>P''Chain</span><span> </span><span>Step</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakTransCases</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>PChain</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P'"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>          </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>        </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>          </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Step</span><span> </span><span>P'</span><span> </span><span>P''</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Step</span><span> </span><span>P'''</span><span> </span><span>P''</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Step</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span>PChain</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>x</span><span class="delimiter">=</span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>exI</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span> </span><span>weakCongTrans_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>transitionWeakCongTransition</span><span> </span><span>weakCongTransitionWeakTransition</span><span class="delimiter">)</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel''</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel O Rel' ‚äÜ Rel''"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T. (S, T) ‚àà Rel ‚üπ S ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; T"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel''&gt; R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>R'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>drule_tac</span><span> </span><span>Q</span><span class="delimiter">=</span><span>R</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>weakSimE</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>drule_tac</span><span> </span><span>Q</span><span class="delimiter">=</span><span>Q</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>simE2</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakMonotonic</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>A</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>B</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;A&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"A ‚äÜ B"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;B&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simWeakSim</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>weakSimI</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>simE</span><span> </span><span>transitionWeakTransition</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Cong_Sim">
<div class="head"><h1>Theory Weak_Cong_Sim</h1>
<span class="command">theory</span> <span class="name">Weak_Cong_Sim</span><br/>
<span class="keyword">imports</span> <a href="Weak_Sim.html"><span class="name">Weak_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Cong_Sim</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Cong_Semantics</span><span> </span><span>Weak_Sim</span><span> </span><span>Strong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>weakCongSimulation</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí (ccs √ó ccs) set ‚áí ccs ‚áí bool"</span></span></span><span>   </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚Üù&lt;_&gt; _"</span></span></span><span> </span><span class="delimiter">[</span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">,</span><span> </span><span>80</span><span class="delimiter">]</span><span> </span><span>80</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q ‚â° ‚àÄa Q'. Q ‚üºa ‚â∫ Q' ‚ü∂ (‚àÉP'. P ‚üπa ‚â∫ P' ‚àß (P', Q') ‚àà Rel)"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSimI</span><span class="delimiter">[</span><span>case_names</span><span> </span><span>Sim</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄŒ± Q'. Q ‚üºŒ± ‚â∫ Q' ‚üπ ‚àÉP'. P ‚üπŒ± ‚â∫ P' ‚àß (P', Q') ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakSimE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>   </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simWeakSim</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>weakSimI</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>simE</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongSimWeakSim</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>Weak_Sim.weakSimI</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span> </span><span>weakCongTransitionWeakTransition</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>test</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P = P' ‚à® (‚àÉP''. P ‚üºœÑ ‚â∫ P'' ‚àß P'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P')"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainInduct</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>tauChainCasesSym</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cTauNil</span><span> </span><span>cTauStep</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Prop P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP''. ‚ü¶P ‚üºœÑ ‚â∫ P''; P'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'‚üß ‚üπ Prop P'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop P'"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>test</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>simE2</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span>   </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q'</span><span>  </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπŒ± ‚â∫ Q'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>Sim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; S"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">obtains</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span>Goal</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP'. ‚ü¶P ‚üπŒ± ‚â∫ P'; (P', Q') ‚àà Rel‚üß ‚üπ thesis"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üπŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>Q'''</span><span> </span><span>Q''</span><span>
</span><span>    </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>QChain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Q'''Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q''' ‚üºŒ± ‚â∫ Q''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Q''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongTransE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>QChain</span><span> </span><span>Q'''Trans</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>tauChainCasesSym</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>cTauNil</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q''‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>PTrans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P''', Q'') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>Q''Chain</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P''', Q'') ‚àà Rel‚Ä∫</span></span></span><span> </span><span>Sim</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simTauChain</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>PTrans</span><span> </span><span>P''Chain</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Goal</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cTauStep</span><span> </span><span>Q''''</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºœÑ ‚â∫ Q''''‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P''''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span>  </span><span>PChain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπœÑ ‚â∫ P''''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P'''', Q'''') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>drule_tac</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ'''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> Q'''‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P'''', Q'''') ‚àà Rel‚Ä∫</span></span></span><span> </span><span>Sim</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P''''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P'''' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P''', Q''') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simTauChain</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P''', Q''') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q'''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Sim</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P''</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P'''Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P''' ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P''"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P'', Q'') ‚àà Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Q'''Trans</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Sim.weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>Q''Chain</span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P'', Q'') ‚àà Rel‚Ä∫</span></span></span><span> </span><span>Sim</span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>P''Chain</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P'' ‚üπ<span class="hidden">‚á©</span><sub>œÑ</sub> P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simTauChain</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>PChain</span><span> </span><span>P''''Chain</span><span> </span><span>P'''Trans</span><span> </span><span>P''Chain</span><span>
</span><span>    </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>x</span><span class="delimiter">=</span><span>P''aa</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>exI</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">defer</span></span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>tauChain_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Goal</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongTrans_def</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>  
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel''</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù&lt;Rel'&gt; R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel O Rel' ‚äÜ Rel''"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T. (S, T) ‚àà Rel ‚üπ S ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; T"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel''&gt; R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>R'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>drule_tac</span><span> </span><span>Q</span><span class="delimiter">=</span><span>R</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>weakSimE</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>drule_tac</span><span> </span><span>Q</span><span class="delimiter">=</span><span>Q</span><span> </span><span class="keyword2"><span class="keyword">in</span></span><span> </span><span>simE2</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakMonotonic</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>A</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>B</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;A&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"A ‚äÜ B"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;B&gt; Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Strong_Sim_SC">
<div class="head"><h1>Theory Strong_Sim_SC</h1>
<span class="command">theory</span> <span class="name">Strong_Sim_SC</span><br/>
<span class="keyword">imports</span> <a href="Strong_Sim.html"><span class="name">Strong_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Sim_SC</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Strong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resNilLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àùü¨ ‚Üù[Rel] ùü¨"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resNilRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"ùü¨ ‚Üù[Rel] ‚¶áŒΩx‚¶àùü¨"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>test</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ [x].P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>abs_fresh</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExtSumLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄy R. y ‚ôØ R ‚üπ (‚¶áŒΩy‚¶àR, R) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(P ‚äï Q) ‚Üù[Rel] P ‚äï ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>elim</span><span> </span><span>sumCases</span><span> </span><span>resCases</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span> </span><span>C1</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>freshDerivative</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExtSumRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄy R. y ‚ôØ R ‚üπ (R, ‚¶áŒΩy‚¶àR) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï ‚¶áŒΩx‚¶àQ ‚Üù[Rel] ‚¶áŒΩx‚¶à(P ‚äï Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>elim</span><span> </span><span>sumCases</span><span> </span><span>resCases</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span> </span><span>C1</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>freshDerivative</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExtLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄy R T. y ‚ôØ R ‚üπ (‚¶áŒΩy‚¶à(R ‚à• T), R ‚à• ‚¶áŒΩy‚¶àT) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(P ‚à• Q) ‚Üù[Rel] P ‚à• ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span> </span><span>C1</span><span> </span><span>Par1</span><span> </span><span>Par2</span><span> </span><span>Comm</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>freshDerivative</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExtRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄy R T. y ‚ôØ R ‚üπ (R ‚à• ‚¶áŒΩy‚¶àT, ‚¶áŒΩy‚¶à(R ‚à• T)) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ‚¶áŒΩx‚¶àQ ‚Üù[Rel] ‚¶áŒΩx‚¶à(P ‚à• Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span> </span><span>C1</span><span> </span><span>Par1</span><span> </span><span>Par2</span><span> </span><span>Comm</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>freshDerivative</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚Üù[Rel] Q ‚äï P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumAssocLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï Q) ‚äï R ‚Üù[Rel] P ‚äï (Q ‚äï R)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumAssocRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">" P ‚äï (Q ‚äï R) ‚Üù[Rel] (P ‚äï Q) ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>intro</span><span> </span><span>simI</span><span class="delimiter">,</span><span> </span><span>elim</span><span> </span><span>sumCases</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumIdLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï ùü¨ ‚Üù[Rel] P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumIdRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] P ‚äï ùü¨"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR T. (R ‚à• T, T ‚à• R) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚Üù[Rel] Q ‚à• P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par1</span><span> </span><span>Par2</span><span> </span><span>Comm</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parAssocLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. ((S ‚à• T) ‚à• U, S ‚à• (T ‚à• U)) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• Q) ‚à• R ‚Üù[Rel] P ‚à• (Q ‚à• R)"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par1</span><span> </span><span>Par2</span><span> </span><span>Comm</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parAssocRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. (S ‚à• (T ‚à• U), (S ‚à• T) ‚à• U) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• (Q ‚à• R) ‚Üù[Rel] (P ‚à• Q) ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par1</span><span> </span><span>Par2</span><span> </span><span>Comm</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parIdLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄQ. (Q ‚à• ùü¨, Q) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ùü¨ ‚Üù[Rel] P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par1</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parIdRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄQ. (Q, Q ‚à• ùü¨) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] P ‚à• ùü¨"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>parCases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">declare</span></span><span> </span><span>fresh_atm</span><span class="delimiter">[</span><span>simp</span><span class="delimiter">]</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resActLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(Œ±.(P)) ‚Üù[Rel] (Œ±.(‚¶áŒΩx‚¶àP))"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>actCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span> </span><span>Action</span><span class="delimiter">)</span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resActRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(‚¶áŒΩx‚¶àP) ‚Üù[Rel] ‚¶áŒΩx‚¶à(Œ±.(P))"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span> </span><span>actCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Action</span><span class="delimiter">)</span><span> 
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄQ. (‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àQ), ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àQ)) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP) ‚Üù[Rel] ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">inductive_cases</span></span><span> </span><span>bangCases</span><span class="delimiter">[</span><span>simplified</span><span> </span><span>ccs.distinct</span><span> </span><span>act.distinct</span><span class="delimiter">]</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üºŒ± ‚â∫ P'"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangUnfoldLeft</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚Üù[Rel] !P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>ccs.inject</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>bangCases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangUnfoldRight</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù[Rel] P ‚à• !P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>ccs.inject</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Bang</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span> 
</span><span>
</span></pre>
</div>
</div><div id="Strong_Bisim">
<div class="head"><h1>Theory Strong_Bisim</h1>
<span class="command">theory</span> <span class="name">Strong_Bisim</span><br/>
<span class="keyword">imports</span> <a href="Strong_Sim.html"><span class="name">Strong_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Bisim</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Strong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>monotonic</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>A</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>B</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[A] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"A ‚äÜ B"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[B] Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>monoCoinduct</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄx y xa xb P Q.
                      x ‚â§ y ‚üπ
                      (Q ‚Üù[{(xb, xa). x xb xa}] P) ‚ü∂
                     (Q ‚Üù[{(xb, xa). y xb xa}] P)"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>monotonic</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>le_funE</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">coinductive_set</span></span><span> </span><span>bisim</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"‚ü¶P ‚Üù[bisim] Q; (Q, P) ‚àà bisim‚üß ‚üπ (P, Q) ‚àà bisim"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">monos</span></span><span> </span><span>monoCoinduct</span><span>
</span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span>
</span><span>  </span><span>bisimJudge</span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚àº _"</span></span></span><span> </span><span class="delimiter">[</span><span>70</span><span class="delimiter">,</span><span> </span><span>70</span><span class="delimiter">]</span><span> </span><span>65</span><span class="delimiter">)</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q ‚â° (P, Q) ‚àà bisim"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimCoinductAux</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù[(X ‚à™ bisim)] Q ‚àß (Q, P) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ bisim = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà bisim}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>coinduct</span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimCoinduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ R ‚Üù[(X ‚à™ bisim)] S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ (S, R) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ bisim = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà bisim}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>coinduct</span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimWeakCoinductAux</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ R ‚Üù[X] S ‚àß (S, R) ‚àà X"</span></span></span><span> 
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinductAux</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>monotonic</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimWeakCoinduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù[X] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ (Q, P) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ bisim = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà bisim}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>monotonic</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[bisim] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"Q ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bisim.cases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimI</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[bisim] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚àº P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bisim.intros</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, P) ‚àà Id"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>symmetric</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>  
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚àº R"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, R) ‚àà bisim O bisim"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>transitive</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimTransCoinduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rSim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ R ‚Üù[(bisim O X O bisim)] S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>rSym</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ (S, R) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà bisim O X O bisim"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimWeakCoinduct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà bisim O X O bisim‚Ä∫</span></span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R</span><span> </span><span>S</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº R"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R, S) ‚àà X"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"S ‚àº Q"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚àº R‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[bisim] R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, S) ‚àà X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚Üù[(bisim O X O bisim)] S"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>rSim</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"bisim O (bisim O X O bisim) ‚äÜ bisim O X O bisim"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[(bisim O X O bisim)] S"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Strong_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπS ‚àº Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"S ‚Üù[bisim] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(bisim O X O bisim) O bisim ‚äÜ bisim O X O bisim"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Strong_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>symmetric</span><span> </span><span>rSym</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Strong_Sim_Pres">
<div class="head"><h1>Theory Strong_Sim_Pres</h1>
<span class="command">theory</span> <span class="name">Strong_Sim_Pres</span><br/>
<span class="keyword">imports</span> <a href="Strong_Sim.html"><span class="name">Strong_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Sim_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Strong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span>    </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚Üù[Rel] Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>actCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Action</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel ‚äÜ Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚Üù[Rel'] Q ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Sum1</span><span> </span><span>Sum2</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPresAux</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"R ‚Üù[Rel'] T"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(R, T) ‚àà Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP' Q' R' T'. ‚ü¶(P', Q') ‚àà Rel; (R', T') ‚àà Rel'‚üß ‚üπ (P' ‚à• R', Q' ‚à• T') ‚àà Rel''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚Üù[Rel''] Q ‚à• T"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>simI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>a</span><span> </span><span>QT</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚à• T ‚üºa ‚â∫ QT‚Ä∫</span></span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>parCases</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù[Rel] Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºa ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºa ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üºa ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºa ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, T) ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• T) ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>T'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚Üù[Rel'] T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπT ‚üºa ‚â∫ T'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üºa ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', T') ‚àà Rel'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üºa ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºa ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par2</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', T') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• T') ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>Q'</span><span> </span><span>T'</span><span> </span><span>a</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù[Rel] Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºa ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºa ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚Üù[Rel'] T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπT ‚üº(coAction a) ‚â∫ T'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üº(coAction a) ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', T') ‚àà Rel'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üºa ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üº(coAction a) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπa ‚â† œÑ‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºœÑ ‚â∫ P' ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Comm</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', T') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• T') ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. (S, T) ‚àà Rel ‚üπ (S ‚à• U, T ‚à• U) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚Üù[Rel'] Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>parPresAux</span><span class="delimiter">[</span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>Rel''</span><span class="delimiter">=</span><span>Rel'</span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Rel'</span><span class="delimiter">=</span><span>Id</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>   </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S y. (R, S) ‚àà Rel ‚üπ (‚¶áŒΩy‚¶àR, ‚¶áŒΩy‚¶àS) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚Üù[Rel'] ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>simulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Res</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù[Rel] S"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù[bangRel Rel] !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>simI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(Pa, !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚àÉP'. Pa ‚üºŒ± ‚â∫ P' ‚àß (P', Q') ‚àà bangRel Rel"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>arbitrary</span><span class="delimiter">:</span><span> </span><span>Pa</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bangInduct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> 
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üºŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºŒ± ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üºŒ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q') ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cPar2</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üºŒ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºŒ± ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par2</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q') ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• Q') ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>a</span><span> </span><span>Q'</span><span> </span><span>Q''</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[Rel] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºa ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üºa ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>simE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üº(coAction a) ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q'') ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cComm</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üºa ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üº(coAction a) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπa ‚â† œÑ‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üºœÑ ‚â∫ P' ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Comm</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q'') ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• Q'') ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cBang</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRBangCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRBang</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• !P, Q ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üºŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cBang</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚à• !P ‚üºŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üºŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Bang</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ!Q ‚üº Œ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Strong_Bisim_Pres">
<div class="head"><h1>Theory Strong_Bisim_Pres</h1>
<span class="command">theory</span> <span class="name">Strong_Bisim_Pres</span><br/>
<span class="keyword">imports</span> <a href="Strong_Bisim.html"><span class="name">Strong_Bisim</span></a> <a href="Strong_Sim_Pres.html"><span class="name">Strong_Sim_Pres</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Bisim_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Strong_Bisim</span><span> </span><span>Strong_Sim_Pres</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚àº Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(Œ±.(P), Œ±.(Q)) | P Q. P ‚àº Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(Œ±.(P), Œ±.(Q)) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>actPres</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚àº Q ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(P ‚äï R, Q ‚äï R) | P Q R. P ‚àº Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï R, Q ‚äï R) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>sumPres</span><span> </span><span>reflexive</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚àº Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(P ‚à• R, Q ‚à• R) | P Q R. P ‚àº Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R, Q ‚à• R) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>parPres</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚àº ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(‚¶áŒΩx‚¶àP, ‚¶áŒΩx‚¶àQ) | x P Q. P ‚àº Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶àP, ‚¶áŒΩx‚¶àQ) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>resPres</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚àº !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel bisim"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimWeakCoinduct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà bangRel bisim‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚àº Q‚Ä∫</span></span></span><span> </span><span>bisimE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù[bangRel bisim] !Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangPres</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>R</span><span> </span><span>T</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚àº T‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚Üù[bisim] T"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚àº T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù[bangRel bisim] Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà bangRel bisim‚Ä∫</span></span></span><span> </span><span>bangRel.BRPar</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Strong_Sim_Pres.parPresAux</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>induct</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>BRPar</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Struct_Cong">
<div class="head"><h1>Theory Struct_Cong</h1>
<span class="command">theory</span> <span class="name">Struct_Cong</span><br/>
<span class="keyword">imports</span> <a href="Agent.html"><span class="name">Agent</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Struct_Cong</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Agent</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">inductive</span></span><span> </span><span>structCong</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí ccs ‚áí bool"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚â°<span class="hidden">‚á©</span><sub>s</sub> _"</span></span></span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span>Refl</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚â°<span class="hidden">‚á©</span><sub>s</sub> P"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Sym</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q ‚üπ Q ‚â°<span class="hidden">‚á©</span><sub>s</sub> P"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ü¶P ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q; Q ‚â°<span class="hidden">‚á©</span><sub>s</sub> R‚üß ‚üπ P ‚â°<span class="hidden">‚á©</span><sub>s</sub> R"</span></span></span><span>
</span><span>
</span><span class="delimiter">|</span><span> </span><span>ParComm</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q ‚à• P"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ParAssoc</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• Q) ‚à• R ‚â°<span class="hidden">‚á©</span><sub>s</sub> P ‚à• (Q ‚à• R)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ParId</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ùü¨ ‚â°<span class="hidden">‚á©</span><sub>s</sub> P"</span></span></span><span>
</span><span>
</span><span class="delimiter">|</span><span> </span><span>SumComm</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q ‚äï P"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>SumAssoc</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï Q) ‚äï R ‚â°<span class="hidden">‚á©</span><sub>s</sub> P ‚äï (Q ‚äï R)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>SumId</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï ùü¨ ‚â°<span class="hidden">‚á©</span><sub>s</sub> P"</span></span></span><span>
</span><span>
</span><span class="delimiter">|</span><span> </span><span>ResNil</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àùü¨ ‚â°<span class="hidden">‚á©</span><sub>s</sub> ùü¨"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ScopeExtPar</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P ‚üπ ‚¶áŒΩx‚¶à(P ‚à• Q) ‚â°<span class="hidden">‚á©</span><sub>s</sub> P ‚à• ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ScopeExtSum</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P ‚üπ ‚¶áŒΩx‚¶à(P ‚äï Q) ‚â°<span class="hidden">‚á©</span><sub>s</sub> P ‚äï ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ScopeAct</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ± ‚üπ ‚¶áŒΩx‚¶à(Œ±.(P)) ‚â°<span class="hidden">‚á©</span><sub>s</sub> Œ±.(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span class="delimiter">|</span><span> </span><span>ScopeCommAux</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚â† y ‚üπ ‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP) ‚â°<span class="hidden">‚á©</span><sub>s</sub> ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span>
</span><span class="delimiter">|</span><span> </span><span>BangUnfold</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚â°<span class="hidden">‚á©</span><sub>s</sub> P ‚à• !P"</span></span></span><span>
</span><span class="keyword1"><span class="command">equivariance</span></span><span> </span><span>structCong</span><span>
</span><span class="keyword1"><span class="command">nominal_inductive</span></span><span> </span><span>structCong</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>abs_fresh</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>ScopeComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP) ‚â°<span class="hidden">‚á©</span><sub>s</sub> ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>cases</span><span> </span><span class="string"><span class="delete"><span class="delete">"x=y"</span></span></span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Refl</span><span> </span><span>ScopeCommAux</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span><span>
</span></pre>
</div>
</div><div id="Strong_Bisim_SC">
<div class="head"><h1>Theory Strong_Bisim_SC</h1>
<span class="command">theory</span> <span class="name">Strong_Bisim_SC</span><br/>
<span class="keyword">imports</span> <a href="Strong_Sim_SC.html"><span class="name">Strong_Sim_SC</span></a> <a href="Strong_Bisim_Pres.html"><span class="name">Strong_Bisim_Pres</span></a> <a href="Struct_Cong.html"><span class="name">Struct_Cong</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Strong_Bisim_SC</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Strong_Sim_SC</span><span> </span><span>Strong_Bisim_Pres</span><span> </span><span>Struct_Cong</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resNil</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àùü¨ ‚àº ùü¨"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶àùü¨, ùü¨) ‚àà {(‚¶áŒΩx‚¶àùü¨, ùü¨), (ùü¨, ‚¶áŒΩx‚¶àùü¨)}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>resNilLeft</span><span> </span><span>resNilRight</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExt</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(P ‚à• Q) ‚àº P ‚à• ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(‚¶áŒΩx‚¶à(P ‚à• Q), P ‚à• ‚¶áŒΩx‚¶àQ) | x P Q. x ‚ôØ P} ‚à™ {(P ‚à• ‚¶áŒΩx‚¶àQ, ‚¶áŒΩx‚¶à(P ‚à• Q)) | x P Q. x ‚ôØ P}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶à(P ‚à• Q), P ‚à• ‚¶áŒΩx‚¶àQ) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>scopeExtLeft</span><span> </span><span>scopeExtRight</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï Q ‚àº Q ‚äï P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï Q, Q ‚äï P) ‚àà {(P ‚äï Q, Q ‚äï P), (Q ‚äï P, P ‚äï Q)}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>sumComm</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumAssoc</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï Q) ‚äï R ‚àº P ‚äï (Q ‚äï R)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"((P ‚äï Q) ‚äï R, P ‚äï (Q ‚äï R)) ‚àà {((P ‚äï Q) ‚äï R, P ‚äï (Q ‚äï R)), (P ‚äï (Q ‚äï R), (P ‚äï Q) ‚äï R)}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>sumAssocLeft</span><span> </span><span>sumAssocRight</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumId</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï ùü¨ ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï ùü¨, P) ‚àà {(P ‚äï ùü¨, P), (P, P ‚äï ùü¨)}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>sumIdLeft</span><span> </span><span>sumIdRight</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span> 
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• Q ‚àº Q ‚à• P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• Q, Q ‚à• P) ‚àà {(P ‚à• Q, Q ‚à• P) | P Q. True} ‚à™ {(Q ‚à• P, P ‚à• Q) | P Q. True}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parAssoc</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• Q) ‚à• R ‚àº P ‚à• (Q ‚à• R)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"((P ‚à• Q) ‚à• R, P ‚à• (Q ‚à• R)) ‚àà {((P ‚à• Q) ‚à• R, P ‚à• (Q ‚à• R)) | P Q R. True} ‚à™  
                                     {(P ‚à• (Q ‚à• R), (P ‚à• Q) ‚à• R) | P Q R. True}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>parAssocLeft</span><span> </span><span>parAssocRight</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parId</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ùü¨ ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• ùü¨, P) ‚àà {(P ‚à• ùü¨, P) | P. True} ‚à™ {(P, P ‚à• ùü¨) | P. True}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>parIdLeft</span><span> </span><span>parIdRight</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeFresh</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚àº P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚àº ‚¶áŒΩx‚¶àP ‚à• ùü¨"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parId</span><span class="delimiter">[</span><span>THEN</span><span> </span><span>symmetric</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚à• ùü¨ ‚àº ùü¨ ‚à• ‚¶áŒΩx‚¶àP"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"ùü¨ ‚à• ‚¶áŒΩx‚¶àP ‚àº ‚¶áŒΩx‚¶à(ùü¨ ‚à• P)"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>scopeExt</span><span class="delimiter">[</span><span>THEN</span><span> </span><span>symmetric</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(ùü¨ ‚à• P) ‚àº ‚¶áŒΩx‚¶à(P ‚à• ùü¨)"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>resPres</span><span class="delimiter">[</span><span>OF</span><span> </span><span>parComm</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπx ‚ôØ P‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(P ‚à• ùü¨) ‚àº P ‚à• ‚¶áŒΩx‚¶àùü¨"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>scopeExt</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span>  </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ‚¶áŒΩx‚¶àùü¨ ‚àº ‚¶áŒΩx‚¶àùü¨ ‚à• P"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àùü¨ ‚à• P ‚àº ùü¨ ‚à• P"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parPres</span><span class="delimiter">[</span><span>OF</span><span> </span><span>resNil</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"ùü¨ ‚à• P ‚àº P ‚à• ùü¨"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• ùü¨ ‚àº P"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parId</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>metis</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>scopeExtSum</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(P ‚äï Q) ‚àº P ‚äï ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶à(P ‚äï Q), P ‚äï ‚¶áŒΩx‚¶àQ) ‚àà {(‚¶áŒΩx‚¶à(P ‚äï Q), P ‚äï ‚¶áŒΩx‚¶àQ), (P ‚äï ‚¶áŒΩx‚¶àQ, ‚¶áŒΩx‚¶à(P ‚äï Q))}"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπx ‚ôØ P‚Ä∫</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>scopeExtSumLeft</span><span> </span><span>scopeExtSumRight</span><span> </span><span>reflexive</span><span> </span><span>scopeFresh</span><span> </span><span>scopeFresh</span><span class="delimiter">[</span><span>THEN</span><span> </span><span>symmetric</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resAct</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"x ‚ôØ Œ±"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(Œ±.(P)) ‚àº Œ±.(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶à(Œ±.(P)), Œ±.(‚¶áŒΩx‚¶àP)) ‚àà {(‚¶áŒΩx‚¶à(Œ±.(P)), Œ±.(‚¶áŒΩx‚¶àP)), (Œ±.(‚¶áŒΩx‚¶àP), ‚¶áŒΩx‚¶à(Œ±.(P)))}"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπx ‚ôØ Œ±‚Ä∫</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>resActLeft</span><span> </span><span>resActRight</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resComm</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>y</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP) ‚àº ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP), ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)) ‚àà {(‚¶áŒΩx‚¶à(‚¶áŒΩy‚¶àP), ‚¶áŒΩy‚¶à(‚¶áŒΩx‚¶àP)) | x y P. True}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>resComm</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangUnfold</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚àº P ‚à• !P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, P ‚à• !P) ‚àà {(!P, P ‚à• !P), (P ‚à• !P, !P)}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bisimCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bangUnfoldLeft</span><span> </span><span>bangUnfoldRight</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimStructCong</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>Struct_Cong.strong_induct</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span> </span><span>symmetric</span><span> </span><span>transitive</span><span> </span><span>parComm</span><span> </span><span>parAssoc</span><span> </span><span>parId</span><span> </span><span>sumComm</span><span>
</span><span>   </span><span>sumAssoc</span><span> </span><span>sumId</span><span> </span><span>resNil</span><span> </span><span>scopeExt</span><span> </span><span>scopeExtSum</span><span> </span><span>resAct</span><span> </span><span>resComm</span><span> </span><span>bangUnfold</span><span class="delimiter">)</span><span>   
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>  
</span><span>
</span></pre>
</div>
</div><div id="Weak_Bisim">
<div class="head"><h1>Theory Weak_Bisim</h1>
<span class="command">theory</span> <span class="name">Weak_Bisim</span><br/>
<span class="keyword">imports</span> <a href="Weak_Sim.html"><span class="name">Weak_Sim</span></a> <a href="Strong_Bisim_SC.html"><span class="name">Strong_Bisim_SC</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Bisim</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Sim</span><span> </span><span>Strong_Bisim_SC</span><span> </span><span>Struct_Cong</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakMonoCoinduct</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄx y xa xb P Q.
                         x ‚â§ y ‚üπ
                         (Q ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;{(xb, xa). x xb xa}&gt; P) ‚ü∂
                        (Q ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;{(xb, xa). y xb xa}&gt; P)"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakMonotonic</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>le_funE</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">coinductive_set</span></span><span> </span><span>weakBisimulation</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"‚ü¶P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; Q; (Q, P) ‚àà weakBisimulation‚üß ‚üπ (P, Q) ‚àà weakBisimulation"</span></span></span><span>
</span><span class="keyword2"><span class="keyword">monos</span></span><span> </span><span>weakMonoCoinduct</span><span>
</span><span>
</span><span class="keyword1"><span class="command">abbreviation</span></span><span>
</span><span>  </span><span>weakBisimJudge</span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚âà _"</span></span></span><span> </span><span class="delimiter">[</span><span>70</span><span class="delimiter">,</span><span> </span><span>70</span><span class="delimiter">]</span><span> </span><span>65</span><span class="delimiter">)</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q ‚â° (P, Q) ‚àà weakBisimulation"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimulationCoinductAux</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;(X ‚à™ weakBisimulation)&gt; Q ‚àß (Q, P) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ weakBisimulation = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà weakBisimulation}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>coinduct</span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;(X ‚à™ weakBisimulation)&gt; S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ (S, R) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ weakBisimulation = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà weakBisimulation}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>coinduct</span><span> </span><span>simp</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimWeakCoinductAux</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;X&gt; Q ‚àß (Q, P) ‚àà X"</span></span></span><span> 
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinductAux</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakMonotonic</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimWeakCoinduct</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>X</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;X&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ (Q, P) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"X ‚à™ weakBisim = {(P, Q). (P, Q) ‚àà X ‚à® (P, Q) ‚àà weakBisim}"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">with</span></span><span> </span><span>assms</span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakMonotonic</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"Q ‚âà P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakBisimulation.cases</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimulationI</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚âà P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakBisimulation.intros</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà P"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, P) ‚àà Id"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Weak_Sim.reflexive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>symmetric</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚âà P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>  
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚âà R"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, R) ‚àà weakBisimulation O weakBisimulation"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, R) ‚àà weakBisimulation O weakBisimulation‚Ä∫</span></span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>Q</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚âà R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà Q‚Ä∫</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚âà R‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O weakBisimulation ‚äÜ (weakBisimulation O weakBisimulation) ‚à™ weakBisimulation"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>symmetric</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimWeakBisimulation</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimWeakCoinduct</span><span class="delimiter">[</span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>X</span><span class="delimiter">=</span><span>bisim</span><span class="delimiter">]</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span> </span><span>simWeakSim</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>structCongWeakBisimulation</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bisimWeakBisimulation</span><span> </span><span>bisimStructCong</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>strongAppend</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel''</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>PSimQ</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>QSimR</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù[Rel'] R"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>Trans</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Rel O Rel' ‚äÜ Rel''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel''&gt; R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span> </span><span>simulation_def</span><span class="delimiter">)</span><span> </span><span>blast</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimWeakUpto</span><span class="delimiter">[</span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">,</span><span> </span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>p</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>rSim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà X ‚üπ P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;(weakBisimulation O X O bisim)&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>rSym</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄ P Q. (P, Q) ‚àà X ‚üπ (Q, P) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O X O weakBisimulation"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?Y</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O X O bisim"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Strong_Bisim.reflexive</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimWeakCoinduct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>P</span><span> </span><span>P'</span><span> </span><span>Q'</span><span> </span><span>Q</span><span>
</span><span>      </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà X"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q' ‚âà Q"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span> </span><span>Strong_Bisim.reflexive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ' ‚âà Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"?Y O weakBisimulation ‚äÜ ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimWeakBisimulation</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>        </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>P</span><span> </span><span>Q</span><span>
</span><span>        </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?Y"</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span>Q'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà X"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q' ‚àº Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?Y&gt; Q'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>rSim</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ' ‚àº Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q' ‚Üù[bisim] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"?Y O bisim ‚äÜ ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>Strong_Bisim.transitive</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?Y&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>strongAppend</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà P'‚Ä∫</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O ?Y ‚äÜ ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?Y&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>Weak_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P' ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?X&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà P'‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O ?X ‚äÜ ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?X&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>Weak_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà ?X‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> 
</span><span>      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span> </span><span>auto</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>bisimE</span><span> </span><span>rSym</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimUpto</span><span class="delimiter">[</span><span>case_names</span><span> </span><span>cSim</span><span> </span><span>cSym</span><span class="delimiter">,</span><span> </span><span>consumes</span><span> </span><span>1</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span>p</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>rSim</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;(weakBisimulation O (X ‚à™ weakBisimulation) O bisim)&gt; S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>rSym</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà X ‚üπ (S, R) ‚àà X"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>p</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà X ‚à™ weakBisimulation"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimWeakUpto</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>rSim</span><span> </span><span>rSym</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakMonotonic</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>relcomp_unfold</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>metis</span><span> </span><span>reflexive</span><span> </span><span>Strong_Bisim.reflexive</span><span> </span><span>transitive</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Cong">
<div class="head"><h1>Theory Weak_Cong</h1>
<span class="command">theory</span> <span class="name">Weak_Cong</span><br/>
<span class="keyword">imports</span> <a href="Weak_Cong_Sim.html"><span class="name">Weak_Cong_Sim</span></a> <a href="Weak_Bisim.html"><span class="name">Weak_Bisim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Cong</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Cong_Sim</span><span> </span><span>Weak_Bisim</span><span> </span><span>Strong_Bisim_SC</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">definition</span></span><span> </span><span>weakCongruence</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs ‚áí ccs ‚áí bool"</span></span></span><span> </span><span class="delimiter">(</span><span class="string"><span class="delete"><span class="delete">"_ ‚âÖ _"</span></span></span><span> </span><span class="delimiter">[</span><span>70</span><span class="delimiter">,</span><span> </span><span>70</span><span class="delimiter">]</span><span> </span><span>65</span><span class="delimiter">)</span><span>
</span><span class="keyword2"><span class="keyword">where</span></span><span>
</span><span>  </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q ‚â° P ‚Üù&lt;weakBisimulation&gt; Q ‚àß Q ‚Üù&lt;weakBisimulation&gt; P"</span></span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongruenceE</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù&lt;weakBisimulation&gt; P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongruence_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongruenceI</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"ccs"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù&lt;weakBisimulation&gt; P"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongruence_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongISym</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSym</span><span> </span><span>cSim</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Prop P Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. Prop P Q ‚üπ Prop Q P"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. Prop P Q ‚üπ (F P) ‚Üù&lt;weakBisimulation&gt; (F Q)"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"F P ‚âÖ F Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongruence_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongISym2</span><span class="delimiter">[</span><span>consumes</span><span> </span><span>1</span><span class="delimiter">,</span><span> </span><span>case_names</span><span> </span><span>cSim</span><span class="delimiter">]</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. P ‚âÖ Q ‚üπ (F P) ‚Üù&lt;weakBisimulation&gt; (F Q)"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"F P ‚âÖ F Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongruence_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>reflexive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ P"</span></span></span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongruenceI</span><span> </span><span>Weak_Bisim.reflexive</span><span> </span><span>Weak_Cong_Sim.reflexive</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>symmetric</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚âÖ P"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>  
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongruence_def</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>transitive</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Q ‚âÖ R"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?Prop</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"ŒªP R. ‚àÉQ. P ‚âÖ Q ‚àß Q ‚âÖ R"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"?Prop P R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>symmetric</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ?Prop P R‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>Q</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚âÖ R"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚âÖ R‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q ‚Üù&lt;weakBisimulation&gt; R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>Weak_Bisim.transitive</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O weakBisimulation ‚äÜ weakBisimulation"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Cong_Sim.transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bisimWeakCongruence</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚àº Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚àº Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[bisim] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bisimE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù[weakBisimulation] Q"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>bisimWeakBisimulation</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>monotonic</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>simWeakSim</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>structCongWeakCongruence</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚â°<span class="hidden">‚á©</span><sub>s</sub> Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bisimWeakCongruence</span><span> </span><span>bisimStructCong</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakCongruenceWeakBisimulation</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(P, Q) | P Q. P ‚âÖ Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà ?X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Cong.weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;(?X ‚à™ weakBisimulation)&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Weak_Cong_Sim.weakMonotonic</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongSimWeakSim</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà ?X‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>symmetric</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Sim_Pres">
<div class="head"><h1>Theory Weak_Sim_Pres</h1>
<span class="command">theory</span> <span class="name">Weak_Sim_Pres</span><br/>
<span class="keyword">imports</span> <a href="Weak_Sim.html"><span class="name">Weak_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Sim_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span>    </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>actCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakAction</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel ‚äÜ Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. (S, T) ‚àà Rel ‚üπ (S ‚äï U, T) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; Q ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>QR</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚äï R ‚üºŒ± ‚â∫ QR‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSum1</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> 
</span><span>    </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakTransCases</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>      </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P ‚äï R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚äï R, Q') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Step</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongSum1</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπRel ‚äÜ Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSum2</span><span> </span><span>R'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üºŒ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπŒ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚üπŒ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongSum2</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπId ‚äÜ Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPresAux</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>T</span><span>     </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>   </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel''</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; T"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(R, T) ‚àà Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP' Q' R' T'. ‚ü¶(P', Q') ‚àà Rel; (R', T') ‚àà Rel'‚üß ‚üπ (P' ‚à• R', Q' ‚à• T') ‚àà Rel''"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel''&gt; Q ‚à• T"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>QT</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚à• T ‚üºŒ± ‚â∫ QT‚Ä∫</span></span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>parCases</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakPar1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, T) ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• T) ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>T'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπT ‚üºŒ± ‚â∫ T'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', T') ‚àà Rel'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakPar2</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', T') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• T') ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>Q'</span><span> </span><span>T'</span><span> </span><span>Œ±</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπT ‚üº(coAction Œ±) ‚â∫ T'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>(coAction Œ±) ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', T') ‚àà Rel'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπ<span class="hidden">‚áß</span><sup>^</sup>(coAction Œ±) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπŒ± ‚â† œÑ‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπœÑ ‚â∫ P' ‚à• R'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSync</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P' ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', T') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• T') ‚àà Rel''"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. (S, T) ‚àà Rel ‚üπ (S ‚à• U, T ‚à• U) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>parPresAux</span><span class="delimiter">[</span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span>Rel'</span><span class="delimiter">=</span><span>Id</span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span>Rel''</span><span class="delimiter">=</span><span>Rel'</span><span class="delimiter">]</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>   </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S y. (R, S) ‚àà Rel ‚üπ (‚¶áŒΩy‚¶àR, ‚¶áŒΩy‚¶àS) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakSimulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakRes</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>Par</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S T U. ‚ü¶(R, S) ‚àà Rel; (T, U) ‚àà Rel'‚üß ‚üπ (R ‚à• T, S ‚à• U) ‚àà Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangRel Rel ‚äÜ Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C3</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R ‚à• !R, S) ‚àà Rel' ‚üπ (!R, S) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel'&gt; !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(Pa, !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚àÉP'. Pa ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚àß (P', Q') ‚àà Rel'"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>arbitrary</span><span class="delimiter">:</span><span> </span><span>Pa</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bangInduct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> 
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakPar1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span>C2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• !Q) ‚àà Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Par</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cPar2</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakPar2</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• Q') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>a</span><span> </span><span>Q'</span><span> </span><span>Q''</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;Rel&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºa ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>a ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>(coAction a) ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q'') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cComm</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπ<span class="hidden">‚áß</span><sup>^</sup>a ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπ<span class="hidden">‚áß</span><sup>^</sup>(coAction a) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπa ‚â† œÑ‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ P' ‚à• R'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSync</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q'') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• Q'') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Par</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cBang</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRBangCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRBang</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• !P, Q ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cBang</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚à• !P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'‚Ä∫</span></span></span><span> 
</span><span>        </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>        </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakTransCases</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Base</span><span>
</span><span>          </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>œÑ ‚â∫ !P"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>simp</span><span>
</span><span>          </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚à• !P = P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, Q') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>C3</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>          </span><span class="keyword3"><span class="command">case</span></span><span> </span><span>Step</span><span>
</span><span>          </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚à• !P ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongRepl</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπ<span class="hidden">‚áß</span><sup>^</sup>Œ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakTrans_def</span><span class="delimiter">)</span><span>
</span><span>          </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ!Q ‚üº Œ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Bisim_Pres">
<div class="head"><h1>Theory Weak_Bisim_Pres</h1>
<span class="command">theory</span> <span class="name">Weak_Bisim_Pres</span><br/>
<span class="keyword">imports</span> <a href="Weak_Bisim.html"><span class="name">Weak_Bisim</span></a> <a href="Weak_Sim_Pres.html"><span class="name">Weak_Sim_Pres</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Bisim_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Bisim</span><span> </span><span>Weak_Sim_Pres</span><span> </span><span>Strong_Bisim_SC</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚âà Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(Œ±.(P), Œ±.(Q)) | P Q. P ‚âà Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(Œ±.(P), Œ±.(Q)) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span> 
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakBisimulationE</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>actPres</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚âà Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(P ‚à• R, Q ‚à• R) | P Q R. P ‚âà Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R, Q ‚à• R) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">,</span><span> </span><span>auto</span><span class="delimiter">)</span><span> 
</span><span>      </span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>parPres</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span class="delimiter">+</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚âà ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(‚¶áŒΩx‚¶àP, ‚¶áŒΩx‚¶àQ) | x P Q. P ‚âà Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(‚¶áŒΩx‚¶àP, ‚¶áŒΩx‚¶àQ) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimulationCoinduct</span><span class="delimiter">)</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>resPres</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚âà !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>-</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangRel weakBisimulation"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?Y</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"weakBisimulation O ?X O bisim"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>R</span><span> </span><span>T</span><span> </span><span>P</span><span> </span><span>Q</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚âà T"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?Y"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà ?Y‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span>Q'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà ?X"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Q' ‚àº Q"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚à• P ‚âà R ‚à• P'"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>metis</span><span> </span><span>parPres</span><span> </span><span>bisimWeakBisimulation</span><span> </span><span>transitive</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚âà T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà ?X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R ‚à• P', T ‚à• Q') ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>BRPar</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ' ‚àº Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"T ‚à• Q' ‚àº T ‚à• Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>metis</span><span> </span><span>Strong_Bisim_Pres.parPres</span><span> </span><span>Strong_Bisim.transitive</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R ‚à• P, T ‚à• Q) ‚àà ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span>BRParAux</span><span> </span><span class="delimiter">=</span><span> </span><span>this</span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span>assms</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?thesis</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>coinduct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakBisimWeakUpto</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà bangRel weakBisimulation‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà Q‚Ä∫</span></span></span><span> </span><span>weakBisimulationE</span><span class="delimiter">(</span><span>1</span><span class="delimiter">)</span><span> </span><span>BRParAux</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"?X ‚äÜ ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Strong_Bisim.reflexive</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>        </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>P</span><span> </span><span>Q</span><span>
</span><span>        </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• !P, Q) ‚àà ?Y"</span></span></span><span>
</span><span>        </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, Q) ‚àà ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>bangUnfold</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>Strong_Bisim.transitive</span><span> </span><span>transitive</span><span> </span><span>bisimWeakBisimulation</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangPres</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>R</span><span> </span><span>T</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚âà T‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;weakBisimulation&gt; T"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakBisimulationE</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">note</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚âà T‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù<span class="hidden">‚áß</span><sup>^</sup>&lt;?Y&gt; Q‚Ä∫</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà ?X‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?Y"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>Strong_Bisim.reflexive</span><span> </span><span>reflexive</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>BRParAux</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Sim_Pres.parPresAux</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSym</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>induct</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakBisimulationE</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>BRPar</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span><span>
</span></pre>
</div>
</div><div id="Weak_Cong_Sim_Pres">
<div class="head"><h1>Theory Weak_Cong_Sim_Pres</h1>
<span class="command">theory</span> <span class="name">Weak_Cong_Sim_Pres</span><br/>
<span class="keyword">imports</span> <a href="Weak_Cong_Sim.html"><span class="name">Weak_Cong_Sim</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Cong_Sim_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Cong_Sim</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>a</span><span>    </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚Üù&lt;Rel&gt; Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>actCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongAction</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Rel ‚äÜ Rel'"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"Id ‚äÜ Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚Üù&lt;Rel'&gt; Q ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>force</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>sumCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongSum1</span><span> </span><span>weakCongSum2</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄS T U. (S, T) ‚àà Rel ‚üπ (S ‚à• U, T ‚à• U) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚Üù&lt;Rel'&gt; Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>QR</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚à• R ‚üºŒ± ‚â∫ QR‚Ä∫</span></span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>parCases</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπŒ± ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongPar1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• R) ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>R'</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üºŒ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπŒ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπŒ± ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongPar2</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• R') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>Q'</span><span> </span><span>R'</span><span> </span><span>Œ±</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚Üù&lt;Rel&gt; Q‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel"</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üº(coAction Œ±) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ(coAction Œ±) ‚â∫ R'"</span></span></span><span>
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>transitionWeakCongTransition</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπœÑ ‚â∫ P' ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπŒ± ‚â† œÑ‚Ä∫</span></span></span><span> 
</span><span>      </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongSync</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• R') ‚àà Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>   </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span>   </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel&gt; Q"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S y. (R, S) ‚àà Rel ‚üπ (‚¶áŒΩy‚¶àR, ‚¶áŒΩy‚¶àS) ‚àà Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚Üù&lt;Rel'&gt; ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>fastforce</span><span> </span><span>simp</span><span> </span><span>add</span><span class="delimiter">:</span><span> </span><span>weakCongSimulation_def</span><span> </span><span>elim</span><span class="delimiter">:</span><span> </span><span>resCases</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongRes</span><span class="delimiter">)</span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span>    </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel</span><span>  </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Rel'</span><span> </span><span class="delimiter">::</span><span> </span><span class="string"><span class="delete"><span class="delete">"(ccs √ó ccs) set"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà Rel"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C1</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄR S. (R, S) ‚àà Rel ‚üπ R ‚Üù&lt;Rel'&gt; S"</span></span></span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>     </span><span>C2</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"Rel ‚äÜ Rel'"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù&lt;bangRel Rel'&gt; !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakSimI</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>Sim</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">{</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>Pa</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span>
</span><span>    </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!Q ‚üºŒ± ‚â∫ Q'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(Pa, !Q) ‚àà bangRel Rel"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚àÉP'. Pa ‚üπŒ± ‚â∫ P' ‚àß (P', Q') ‚àà bangRel Rel'"</span></span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>nominal_induct</span><span> </span><span>arbitrary</span><span class="delimiter">:</span><span> </span><span>Pa</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bangInduct</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar1</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> 
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel'&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºŒ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπŒ± ‚â∫ P' ‚à• R"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongPar1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span>C2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R, !Q) ‚àà bangRel Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>induct</span><span> </span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bangRel.BRPar</span><span> </span><span>bangRel.BRBang</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R, Q' ‚à• !Q) ‚àà bangRel Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cPar2</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπŒ± ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q') ‚àà bangRel Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cPar2</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπŒ± ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπŒ± ‚â∫ P ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongPar2</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q') ‚àà bangRel Rel'‚Ä∫</span></span></span><span> </span><span>C2</span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• R', Q ‚à• Q') ‚àà bangRel Rel'"</span></span></span><span> 
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cComm</span><span> </span><span>a</span><span> </span><span>Q'</span><span> </span><span>Q''</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, Q ‚à• !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRParCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>P</span><span> </span><span>R</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;Rel'&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>C1</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπQ ‚üºa ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚üπa ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>blast</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakSimE</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>R'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚üπ(coAction a) ‚â∫ R'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(R', Q'') ‚àà bangRel Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cComm</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚üπa ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚üπ(coAction a) ‚â∫ R'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπa ‚â† œÑ‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚üπœÑ ‚â∫ P' ‚à• R'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongSync</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà Rel'‚Ä∫</span></span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(R', Q'') ‚àà bangRel Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P' ‚à• R', Q' ‚à• Q'') ‚àà bangRel Rel'"</span></span></span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cBang</span><span> </span><span>Œ±</span><span> </span><span>Q'</span><span> </span><span>Pa</span><span class="delimiter">)</span><span>
</span><span>      </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(Pa, !Q) ‚àà bangRel Rel‚Ä∫</span></span></span><span>
</span><span>      </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span>
</span><span>      </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>BRBangCases</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRBang</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">with</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P ‚à• !P, Q ‚à• !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangRel.BRPar</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword1"><span class="command">then</span></span><span> </span><span class="keyword3"><span class="command">obtain</span></span><span> </span><span>P'</span><span> </span><span class="keyword2"><span class="keyword">where</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• !P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword2"><span class="keyword">and</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P', Q') ‚àà bangRel Rel'"</span></span></span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>cBang</span><span>
</span><span>          </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>        </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚à• !P ‚üπŒ± ‚â∫ P'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚üπŒ± ‚â∫ P'"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongRepl</span><span class="delimiter">)</span><span>
</span><span>        </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P', Q') ‚àà bangRel Rel'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span>      </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>    </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">}</span></span><span>
</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ(P, Q) ‚àà Rel‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(!P, !Q) ‚àà bangRel Rel"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>BRBang</span><span class="delimiter">)</span><span> 
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚Äπ!Q ‚üº Œ± ‚â∫ Q'‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>blast</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div><div id="Weak_Cong_Pres">
<div class="head"><h1>Theory Weak_Cong_Pres</h1>
<span class="command">theory</span> <span class="name">Weak_Cong_Pres</span><br/>
<span class="keyword">imports</span> <a href="Weak_Cong.html"><span class="name">Weak_Cong</span></a> <a href="Weak_Bisim_Pres.html"><span class="name">Weak_Bisim_Pres</span></a> <a href="Weak_Cong_Sim_Pres.html"><span class="name">Weak_Cong_Sim_Pres</span></a><br/>
</div>
<div class="source">
<pre class="source"><span class="comment"><span class="delete"><span class="delete"><span class="delete"><span class="delete">(* 
   Title: The Calculus of Communicating Systems   
   Author/Maintainer: Jesper Bengtson (jebe@itu.dk), 2012
*)</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command">theory</span></span><span> </span><span>Weak_Cong_Pres</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">imports</span></span><span> </span><span>Weak_Cong</span><span> </span><span>Weak_Bisim_Pres</span><span> </span><span>Weak_Cong_Sim_Pres</span><span>
</span><span class="keyword2"><span class="keyword">begin</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>actPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Œ±</span><span> </span><span class="delimiter">::</span><span> </span><span>act</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"Œ±.(P) ‚âÖ Œ±.(Q)"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceWeakBisimulation</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>actPres</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>sumPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚äï R ‚âÖ Q ‚äï R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Weak_Bisim.reflexive</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule_tac</span><span> </span><span>sumPres</span><span class="delimiter">)</span><span> </span><span>auto</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>parPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>R</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• R ‚âÖ Q ‚à• R"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceWeakBisimulation</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Weak_Bisim_Pres.parPres</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>parPres</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>resPres</span><span class="delimiter">:</span><span> 
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>x</span><span> </span><span class="delimiter">::</span><span> </span><span>name</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚¶áŒΩx‚¶àP ‚âÖ ‚¶áŒΩx‚¶àQ"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>Weak_Bisim_Pres.resPres</span><span>
</span><span>    </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>resPres</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>weakBisimBangRel</span><span class="delimiter">:</span><span> </span><span class="string"><span class="delete"><span class="delete">"bangRel weakBisimulation ‚äÜ weakBisimulation"</span></span></span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword3"><span class="command">fix</span></span><span> </span><span>P</span><span> </span><span>Q</span><span>
</span><span>  </span><span class="keyword3"><span class="command">assume</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà bangRel weakBisimulation"</span></span></span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âà Q"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>bangRel.induct</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRBang</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà Q‚Ä∫</span></span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚âà !Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Bisim_Pres.bangPres</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">next</span></span><span>
</span><span>    </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>BRPar</span><span> </span><span>R</span><span> </span><span>T</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπR ‚âà T‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚à• P ‚âà T ‚à• P"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Bisim_Pres.parPres</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âà Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚à• T ‚âà Q ‚à• T"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Bisim_Pres.parPres</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">hence</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"T ‚à• P ‚âà T ‚à• Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>metis</span><span> </span><span>bisimWeakBisimulation</span><span> </span><span>Weak_Bisim.transitive</span><span> </span><span>parComm</span><span class="delimiter">)</span><span>
</span><span>    </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword3"><span class="command">show</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"R ‚à• P ‚âà T ‚à• Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Bisim.transitive</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword1"><span class="command">lemma</span></span><span> </span><span>bangPres</span><span class="delimiter">:</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">fixes</span></span><span> </span><span>P</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">and</span></span><span>   </span><span>Q</span><span> </span><span class="delimiter">::</span><span> </span><span>ccs</span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">assumes</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"P ‚âÖ Q"</span></span></span><span>
</span><span>
</span><span>  </span><span class="keyword2"><span class="keyword">shows</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚âÖ !Q"</span></span></span><span>
</span><span class="keyword1"><span class="command">using</span></span><span> </span><span>assms</span><span>
</span><span class="keyword1"><span class="command">proof</span></span><span class="delimiter">(</span><span>induct</span><span> </span><span>rule</span><span class="delimiter">:</span><span> </span><span>weakCongISym2</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">case</span></span><span class="delimiter">(</span><span>cSim</span><span> </span><span>P</span><span> </span><span>Q</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">let</span></span><span> </span><span class="var">?X</span><span> </span><span class="delimiter">=</span><span> </span><span class="string"><span class="delete"><span class="delete">"{(P, Q) | P Q. P ‚âÖ Q}"</span></span></span><span>
</span><span>  </span><span class="keyword1"><span class="command">from</span></span><span> </span><span class="cartouche"><span class="delete"><span class="delete">‚ÄπP ‚âÖ Q‚Ä∫</span></span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"(P, Q) ‚àà ?X"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span> </span><span>auto</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"‚ãÄP Q. (P, Q) ‚àà ?X ‚üπ P ‚Üù&lt;weakBisimulation&gt; Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>dest</span><span class="delimiter">:</span><span> </span><span>weakCongruenceE</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">moreover</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"?X ‚äÜ weakBisimulation"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>auto</span><span> </span><span>intro</span><span class="delimiter">:</span><span> </span><span>weakCongruenceWeakBisimulation</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword1"><span class="command">ultimately</span></span><span> </span><span class="keyword1"><span class="command">have</span></span><span> </span><span class="string"><span class="delete"><span class="delete">"!P ‚Üù&lt;bangRel weakBisimulation&gt; !Q"</span></span></span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>bangPres</span><span class="delimiter">)</span><span>
</span><span>  </span><span class="keyword3"><span class="command">thus</span></span><span> </span><span class="var">?case</span><span> </span><span class="keyword1"><span class="command">using</span></span><span> </span><span>weakBisimBangRel</span><span> </span><span class="keyword1"><span class="command">by</span></span><span class="delimiter">(</span><span>rule</span><span> </span><span>Weak_Cong_Sim.weakMonotonic</span><span class="delimiter">)</span><span>
</span><span class="keyword1"><span class="command">qed</span></span><span>
</span><span>
</span><span class="keyword2"><span class="keyword">end</span></span><span>
</span></pre>
</div>
</div>