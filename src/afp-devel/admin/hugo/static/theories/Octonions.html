<div id="Cross_Product_7">
<div class="head">
<h1>Theory Cross_Product_7</h1>
</div>
<pre class="source"><span class="comment1">(* Title:      Cross_Product_7.thy
   Author:     Angeliki Koutsoukou-Argyraki, University of Cambridge
   Date:       September 2018
*)</span>
<span class="keyword1"><span class="command">section</span></span><span class="quoted"><span class="plain_text">‹Vector Cross Product in 7 Dimensions›</span></span>
<span class="keyword1"><span class="command">theory</span></span> Cross_Product_7
  <span class="keyword2"><span class="keyword">imports</span></span> <span class="quoted">"<a href="../../HOL/HOL-Analysis/Multivariate_Analysis.html">HOL-Analysis.Multivariate_Analysis</a>"</span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Elementary auxiliary lemmas.›</span></span>

<span class="keyword1" id="Cross_Product_7-exhaust_7"><span class="command">lemma</span></span> exhaust_7<span class="main">:</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">x</span> <span class="main">::</span> <span class="quoted"><span class="numeral">7</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">1</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">2</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">3</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">4</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">5</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">6</span>  <span class="main">∨</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">7</span> "</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">x</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span> <span class="main">(</span>of_int <span class="skolem">z</span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">≤</span> <span class="skolem">z</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span> <span class="main">&lt;</span> <span class="numeral">7</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span> <span class="main">=</span> <span class="main">0</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="main">1</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="numeral">2</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="numeral">3</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="numeral">4</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span><span class="numeral">5</span><span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="numeral">6</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span><span class="numeral">7</span>   "</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Cross_Product_7-forall_7"><span class="command">lemma</span></span> forall_7<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∀</span><span class="bound">i</span><span class="main">::</span><span class="numeral">7</span><span class="main">.</span> <span class="free">P</span> <span class="bound">i</span><span class="main">)</span> <span class="main">⟷</span> <span class="free">P</span> <span class="main">1</span> <span class="main">∧</span> <span class="free">P</span> <span class="numeral">2</span> <span class="main">∧</span> <span class="free">P</span> <span class="numeral">3</span><span class="main">∧</span> <span class="free">P</span> <span class="numeral">4</span> <span class="main">∧</span> <span class="free">P</span> <span class="numeral">5</span> <span class="main">∧</span> <span class="free">P</span> <span class="numeral">6</span><span class="main">∧</span> <span class="free">P</span> <span class="numeral">7</span>  "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> exhaust_7<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-vector_7"><span class="command">lemma</span></span> vector_7 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="main">1</span> <span class="main">=</span> <span class="free">x1</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">2</span> <span class="main">=</span> <span class="free">x2</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">3</span> <span class="main">=</span> <span class="free">x3</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">4</span> <span class="main">=</span> <span class="free">x4</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">5</span> <span class="main">=</span> <span class="free">x5</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">6</span> <span class="main">=</span> <span class="free">x6</span>"</span></span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span>vector <span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> <span class="main">::</span><span class="main">(</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">)</span><span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">$</span><span class="numeral">7</span> <span class="main">=</span> <span class="free">x7</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> vector_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Cross_Product_7-forall_vector_7"><span class="command">lemma</span></span> forall_vector_7<span class="main">:</span>
 <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">∀</span><span class="bound">v</span><span class="main">::</span><span class="tfree">'a</span><span class="main">::</span>zero<span class="main">^</span><span class="numeral">7</span><span class="main">.</span> <span class="free">P</span> <span class="bound">v</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="main">∀</span><span class="bound">x1</span> <span class="bound">x2</span> <span class="bound">x3</span> <span class="bound">x4</span> <span class="bound">x5</span> <span class="bound">x6</span> <span class="bound">x7</span><span class="main">.</span> <span class="free">P</span><span class="main">(</span>vector<span class="main">[</span><span class="bound">x1</span><span class="main">,</span> <span class="bound">x2</span><span class="main">,</span> <span class="bound">x3</span><span class="main">,</span> <span class="bound">x4</span><span class="main">,</span> <span class="bound">x5</span><span class="main">,</span> <span class="bound">x6</span><span class="main">,</span> <span class="bound">x7</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="main">1</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">2</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">3</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">4</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">5</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">6</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">erule_tac</span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="improper">v</span><span class="main">$</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">in</span></span></span> allE<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subgoal_tac</span> <span class="quoted"><span class="quoted">"vector <span class="main">[</span><span class="improper">v</span><span class="main">$</span><span class="main">1</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">2</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">3</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">4</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">5</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">6</span><span class="main">,</span> <span class="improper">v</span><span class="main">$</span><span class="numeral">7</span><span class="main">]</span> <span class="main">=</span> <span class="improper">v</span>"</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">vector</span> vector_def<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> forall_7<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1" id="Cross_Product_7-UNIV_7"><span class="command">lemma</span></span> UNIV_7<span class="main">:</span> <span class="quoted"><span class="quoted">"UNIV <span class="main">=</span> <span class="main">{</span><span class="main">1</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">2</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">3</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">4</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">5</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">6</span><span class="main">::</span><span class="numeral">7</span><span class="main">,</span> <span class="numeral">7</span><span class="main">::</span><span class="numeral">7</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> exhaust_7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Cross_Product_7-sum_7"><span class="command">lemma</span></span> sum_7<span class="main">:</span> <span class="quoted"><span class="quoted">"sum <span class="free">f</span> <span class="main">(</span>UNIV<span class="main">::</span><span class="numeral">7</span> set<span class="main">)</span> <span class="main">=</span> <span class="free">f</span> <span class="main">1</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">2</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">3</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">4</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">5</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">6</span> <span class="main">+</span> <span class="free">f</span> <span class="numeral">7</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> UNIV_7 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">ac_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-not_equal_vector7"><span class="command">lemma</span></span> not_equal_vector7 <span class="main">:</span> 
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">x</span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="free">y</span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span>  
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> vector<span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> "</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">=</span> vector <span class="main">[</span><span class="free">y1</span><span class="main">,</span><span class="free">y2</span><span class="main">,</span><span class="free">y3</span><span class="main">,</span><span class="free">y4</span><span class="main">,</span><span class="free">y5</span><span class="main">,</span><span class="free">y6</span><span class="main">,</span><span class="free">y7</span><span class="main">]</span>"</span></span>
<span class="keyword2"><span class="keyword">and</span></span>  <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">∨</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">∨</span> <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">∨</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">∨</span> <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">∨</span> <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">∨</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">≠</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span>    "</span></span>
<span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">≠</span> <span class="free">y</span>"</span></span>  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1" id="Cross_Product_7-equal_vector7"><span class="command">lemma</span></span> equal_vector7<span class="main">:</span>
  <span class="keyword2"><span class="keyword">fixes</span></span>  <span class="free">x</span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>  <span class="free">y</span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span>  
 <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> vector<span class="main">[</span><span class="free">x1</span><span class="main">,</span><span class="free">x2</span><span class="main">,</span><span class="free">x3</span><span class="main">,</span><span class="free">x4</span><span class="main">,</span><span class="free">x5</span><span class="main">,</span><span class="free">x6</span><span class="main">,</span><span class="free">x7</span><span class="main">]</span> "</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">y</span><span class="main">=</span> vector <span class="main">[</span><span class="free">y1</span><span class="main">,</span><span class="free">y2</span><span class="main">,</span><span class="free">y3</span><span class="main">,</span><span class="free">y4</span><span class="main">,</span><span class="free">y5</span><span class="main">,</span><span class="free">y6</span><span class="main">,</span><span class="free">y7</span><span class="main">]</span>"</span></span>
<span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
<span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">∧</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">∧</span> <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">∧</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">∧</span> <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">∧</span> <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">∧</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">=</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span>    "</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1" id="Cross_Product_7-numeral_4_eq_4"><span class="command">lemma</span></span> numeral_4_eq_4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">4</span> <span class="main">=</span> Suc<span class="main">(</span> Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> eval_nat_numeral<span class="main">)</span>
<span class="keyword1" id="Cross_Product_7-numeral_5_eq_5"><span class="command">lemma</span></span> numeral_5_eq_5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">5</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span> Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> eval_nat_numeral<span class="main">)</span>
<span class="keyword1" id="Cross_Product_7-numeral_6_eq_6"><span class="command">lemma</span></span> numeral_6_eq_6<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">6</span> <span class="main">=</span> Suc<span class="main">(</span> Suc<span class="main">(</span>Suc<span class="main">(</span> Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> eval_nat_numeral<span class="main">)</span>
<span class="keyword1" id="Cross_Product_7-numeral_7_eq_7"><span class="command">lemma</span></span> numeral_7_eq_7<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">7</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span> Suc<span class="main">(</span>Suc<span class="main">(</span> Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> eval_nat_numeral<span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹The definition of the 7D cross product and related lemmas›</span></span>

<span class="keyword1"><span class="command">context</span></span> <span class="keyword2"><span class="keyword">includes</span></span> no_Set_Product_syntax 
<span class="keyword2"><span class="keyword">begin</span></span> <span class="comment1">(* locally disable syntax for set product, to avoid warnings *)</span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹Note: in total there exist 480 equivalent  multiplication tables for the definition,
 the following is based on the one most widely used: ›</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">cross7</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="main">[</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">,</span> real<span class="main">^</span><span class="numeral">7</span><span class="main">]</span> <span class="main">⇒</span> real<span class="main">^</span><span class="numeral">7</span>"</span></span>  <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×<span class="hidden">⇩</span><sub>7</sub></span>"</span> 80<span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main"><span class="free">×<span class="hidden">⇩</span><sub>7</sub></span></span> <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">≡</span>
    vector <span class="main">[</span><span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">7</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">,</span>
            <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="main">1</span> <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">2</span>  <span class="main">+</span>  <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">a</span></span></span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">$</span><span class="numeral">4</span> <span class="main">]</span>"</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">bundle</span></span> cross7_syntax <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">notation</span></span> cross7 <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×<span class="hidden">⇩</span><sub>7</sub></span>"</span> 80<span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> Product_Type.Times <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×<span class="hidden">⇩</span><sub>7</sub></span>"</span> 80<span class="main">)</span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">bundle</span></span> no_cross7_syntax <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">no_notation</span></span> cross7 <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×<span class="hidden">⇩</span><sub>7</sub></span>"</span> 80<span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> Product_Type.Times <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×<span class="hidden">⇩</span><sub>7</sub></span>"</span> 80<span class="main">)</span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">unbundle</span></span> cross7_syntax

<span class="keyword1"><span class="command">lemmas</span></span> cross7_simps <span class="main">=</span> cross7_def inner_vec_def sum_7 det_def vec_eq_iff vector_def <span class="dynamic"><span class="dynamic">algebra_simps</span></span>

<span class="keyword1" id="Cross_Product_7-dot_cross7_self"><span class="command">lemma</span></span> dot_cross7_self<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∙</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∙</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">∙</span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span><span class="main">)</span> <span class="main">∙</span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> orthogonal_def cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-orthogonal_cross7"><span class="command">lemma</span></span> orthogonal_cross7<span class="main">:</span> <span class="quoted"><span class="quoted">"orthogonal <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"orthogonal <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="free">y</span>"</span></span>
                         <span class="quoted"><span class="quoted">"orthogonal <span class="free">y</span> <span class="main">(</span><span class="free">x</span><span class="main">×<span class="hidden">⇩</span><sub>7</sub></span>  <span class="free">y</span><span class="main">)</span>"</span></span> <span class="quoted"><span class="quoted">"orthogonal <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> orthogonal_def dot_cross7_self<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_zero_left"><span class="command">lemma</span></span> cross7_zero_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span> <span class="main">=</span> <span class="main">0</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span> cross7_zero_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_skew"><span class="command">lemma</span></span> cross7_skew<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_refl"><span class="command">lemma</span></span> cross7_refl <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span> <span class="main">=</span> <span class="main">0</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_add_left"><span class="command">lemma</span></span> cross7_add_left<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="free">y</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span> <span class="main">+</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span>   cross7_add_right<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">y</span> <span class="main">+</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">+</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_mult_left"><span class="command">lemma</span></span> cross7_mult_left<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="free">x</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="free">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span>"</span></span> 
  <span class="keyword2"><span class="keyword">and</span></span>  cross7_mult_right<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_minus_left"><span class="command">lemma</span></span> cross7_minus_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span>"</span></span> 
<span class="keyword2"><span class="keyword">and</span></span> cross7_minus_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">-</span><span class="free">y</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-left_diff_distrib"><span class="command">lemma</span></span> left_diff_distrib<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span> <span class="main">=</span> <span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span> <span class="main">-</span> <span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span>  right_diff_distrib<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">y</span> <span class="main">-</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">-</span> <span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span>"</span></span>  
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>

<span class="keyword1"><span class="command">hide_fact</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">open</span></span><span class="main">)</span> left_diff_distrib right_diff_distrib
 
<span class="keyword1" id="Cross_Product_7-cross7_triple1"><span class="command">lemma</span></span> cross7_triple1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">∙</span> <span class="free">z</span> <span class="main">=</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span> <span class="main">∙</span> <span class="free">x</span>"</span></span> 
<span class="keyword2"><span class="keyword">and</span></span>  cross7_triple2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">∙</span> <span class="free">z</span> <span class="main">=</span> <span class="free">x</span> <span class="main">∙</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span>  "</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_def inner_vec_def sum_7 vec_eq_iff <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-scalar7_triple1"><span class="command">lemma</span></span> scalar7_triple1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∙</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="free">y</span> <span class="main">∙</span> <span class="main">(</span><span class="free">z</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span><span class="main">)</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span>  scalar7_triple2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∙</span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="free">z</span> <span class="main">∙</span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">)</span>   "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_def inner_vec_def sum_7 vec_eq_iff <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_components"><span class="command">lemma</span></span> cross7_components<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="main">1</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">2</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">3</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">4</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">5</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">6</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">7</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">7</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span>  "</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">$</span><span class="numeral">7</span> <span class="main">=</span> <span class="free">x</span><span class="main">$</span><span class="main">1</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">3</span> <span class="main">-</span> <span class="free">x</span><span class="main">$</span><span class="numeral">3</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="main">1</span> <span class="main">+</span> <span class="free">x</span><span class="main">$</span><span class="numeral">4</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">5</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">5</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">4</span> <span class="main">+</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">6</span> <span class="main">-</span>  <span class="free">x</span><span class="main">$</span><span class="numeral">6</span> <span class="main">*</span> <span class="free">y</span><span class="main">$</span><span class="numeral">2</span>  "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_def inner_vec_def sum_7 vec_eq_iff <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹Nonassociativity of the 7D cross product showed using a counterexample›</span></span>

<span class="keyword1" id="Cross_Product_7-cross7_nonassociative"><span class="command">lemma</span></span> cross7_nonassociative<span class="main">:</span> 
   <span class="quoted"><span class="quoted">" <span class="main">¬</span> <span class="main">(</span><span class="main">∀</span> <span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">.</span>  <span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span>  <span class="main">(</span><span class="bound">a</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span><span class="main">)</span> "</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> *<span class="main">:</span> <span class="quoted"><span class="quoted">" <span class="main">∃</span> <span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">.</span>  <span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span>  <span class="main">(</span><span class="bound">a</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span><span class="main">)</span> <span class="main">≠</span> <span class="main">(</span><span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> "</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">f</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">=</span> vector<span class="main">[</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span>"</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">g</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">=</span> vector<span class="main">[</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span> <span class="main">]</span>"</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">h</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span> <span class="main">=</span> vector<span class="main">[</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span> <span class="main">]</span>"</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">u</span><span class="main">=</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">v</span><span class="main">=</span> <span class="main">(</span><span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span><span class="main">)</span> "</span></span>
  
  <span class="keyword1"><span class="command">have</span></span> 1<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">u</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def g_def h_def f_def u_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> 3<span class="main">:</span><span class="quoted"><span class="quoted">"  <span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">u</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span> <span class="main">]</span> "</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def f_def  <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

  <span class="keyword1"><span class="command">have</span></span> 2<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">v</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def g_def h_def f_def v_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span>  4<span class="main">:</span><span class="quoted"><span class="quoted">"  <span class="skolem">v</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span> "</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def h_def  <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">x</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">]</span>  "</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">y</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span><span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">1</span><span class="main">]</span>  "</span></span>

    <span class="keyword1"><span class="command">have</span></span> *<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="skolem">x</span><span class="main">$</span><span class="numeral">2</span> <span class="main">=</span>  <span class="main">1</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> x_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">have</span></span> **<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span><span class="main">$</span><span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> y_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
 
    <span class="keyword1"><span class="command">have</span></span> ***<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">≠</span> <span class="skolem">y</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> * ** <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> 5<span class="main">:</span> <span class="quoted"><span class="quoted">" <span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">u</span> <span class="main">≠</span>  <span class="skolem">v</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span>"</span></span> 
      <span class="keyword1"><span class="command">unfolding</span></span> x_def y_def 
      <span class="keyword1"><span class="command">using</span></span> ***
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"3"</span> <span class="quoted">"4"</span> x_def y_def<span class="main">)</span>

<span class="keyword1"><span class="command">have</span></span>  6<span class="main">:</span><span class="quoted"><span class="quoted">"  <span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span>  <span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> <span class="main">≠</span> <span class="main">(</span><span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span> "</span></span> <span class="keyword1"><span class="command">using</span></span> 5  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> u_def v_def<span class="main">)</span>

 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">unfolding</span></span> f_def g_def h_def <span class="keyword1"><span class="command">using</span></span> 6 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> * <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹The 7D cross product does not satisfy the Jacobi Identity(shown using a counterexample) ›</span></span>

<span class="keyword1" id="Cross_Product_7-cross7_not_Jacobi"><span class="command">lemma</span></span> cross7_not_Jacobi<span class="main">:</span> 
   <span class="quoted"><span class="quoted">" <span class="main">¬</span> <span class="main">(</span><span class="main">∀</span> <span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">.</span> <span class="main">(</span><span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">+</span>   <span class="main">(</span><span class="bound">b</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">c</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> 
<span class="main">+</span>  <span class="main">(</span><span class="bound">a</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">c</span> <span class="main">=</span><span class="main">0</span>     <span class="main">)</span> "</span></span>

<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> *<span class="main">:</span> <span class="quoted"><span class="quoted">" <span class="main">∃</span> <span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">.</span> <span class="main">(</span><span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">+</span>   <span class="main">(</span><span class="bound">b</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">c</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> 
<span class="main">+</span>  <span class="main">(</span><span class="bound">a</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">c</span> <span class="main">≠</span><span class="main">0</span>      "</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>

  <span class="keyword3"><span class="command">define</span></span>  <span class="skolem"><span class="skolem">f</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span>  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">f</span><span class="main">=</span> vector<span class="main">[</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span>  <span class="skolem"><span class="skolem">g</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span>  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">g</span><span class="main">=</span> vector<span class="main">[</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span> <span class="main">]</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span>  <span class="skolem"><span class="skolem">h</span></span><span class="main">::</span><span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">h</span><span class="main">=</span> vector<span class="main">[</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span> <span class="main">]</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">u</span><span class="main">=</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">v</span><span class="main">=</span> <span class="main">(</span><span class="skolem">f</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span><span class="main">)</span> "</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">w</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">" <span class="skolem">w</span> <span class="main">=</span> <span class="main">(</span><span class="skolem">h</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span><span class="main">)</span>  "</span></span>

  <span class="keyword1"><span class="command">have</span></span> 1<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">u</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def g_def h_def f_def u_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> 3<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span><span class="main">-</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span><span class="main">-</span> <span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span> "</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def f_def  <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 

  <span class="keyword1"><span class="command">have</span></span> 2<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">v</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def g_def h_def f_def v_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span>  4<span class="main">:</span><span class="quoted"><span class="quoted">"  <span class="skolem">v</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span> "</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def h_def  <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> 8<span class="main">:</span> <span class="quoted"><span class="quoted">" <span class="skolem">w</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def  h_def f_def w_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> 9<span class="main">:</span> <span class="quoted"><span class="quoted">"  <span class="skolem">w</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span>  <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">1</span><span class="main">]</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> cross7_def  h_def f_def w_def g_def <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">simp</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>
  <span class="keyword1"><span class="command">have</span></span> &amp;<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span><span class="main">)</span><span class="main">$</span><span class="numeral">2</span><span class="main">+</span><span class="main">(</span> <span class="skolem">v</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> <span class="main">$</span><span class="numeral">2</span><span class="main">+</span><span class="main">(</span> <span class="skolem">w</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span><span class="main">)</span> <span class="main">$</span><span class="numeral">2</span> <span class="main">=</span><span class="main">-</span><span class="numeral">3</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 3 4 9 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">have</span></span> &amp;&amp;<span class="main">:</span> <span class="quoted"><span class="quoted">" <span class="skolem">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">+</span> <span class="skolem">v</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span> <span class="main">+</span>  <span class="skolem">w</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">g</span> <span class="main">≠</span> <span class="main">0</span> "</span></span> <span class="keyword1"><span class="command">using</span></span> &amp;
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> vector_add_component zero_index zero_neq_neg_numeral<span class="main">)</span>

  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>  <span class="keyword1"><span class="command">using</span></span> &amp;&amp; u_def v_def w_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> * <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The vector triple product property fulfilled for the 3D cross product does not hold
for the 7D cross product. Shown below with a counterexample.  ›</span></span>

<span class="keyword1" id="Cross_Product_7-cross7_not_vectortriple"><span class="command">lemma</span></span> cross7_not_vectortriple<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main">∀</span> <span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">.</span><span class="main">(</span> <span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span> <span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">=</span> <span class="main">(</span><span class="bound">c</span>  <span class="main">∙</span> <span class="bound">b</span> <span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="bound">a</span> <span class="main">-</span>  <span class="main">(</span><span class="bound">c</span>  <span class="main">∙</span> <span class="bound">a</span> <span class="main">)</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="bound">b</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> *<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">∃</span><span class="main">(</span><span class="bound">c</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span><span class="bound">a</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span> <span class="main">(</span> <span class="bound">b</span><span class="main">::</span>real<span class="main">^</span><span class="numeral">7</span><span class="main">)</span><span class="main">.</span> <span class="main">(</span><span class="bound">c</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">a</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="bound">b</span> <span class="main">≠</span> <span class="main">(</span><span class="bound">c</span> <span class="main">∙</span> <span class="bound">b</span> <span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="bound">a</span> <span class="main">-</span>  <span class="main">(</span><span class="bound">c</span> <span class="main">∙</span> <span class="bound">a</span> <span class="main">)</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="bound">b</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">g</span></span><span class="main">::</span> <span class="quoted"><span class="quoted">"real <span class="main">^</span> <span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">g</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">h</span></span><span class="main">::</span> <span class="quoted"><span class="quoted">"real <span class="main">^</span> <span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">h</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">f</span></span><span class="main">::</span> <span class="quoted"><span class="quoted">"real <span class="main">^</span> <span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">f</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">1</span><span class="main">]</span>"</span></span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">u</span> <span class="main">=</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">u</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">-</span><span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">]</span>"</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> cross7_def g_def h_def f_def u_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">have</span></span> 2<span class="main">:</span><span class="quoted"><span class="quoted">" <span class="skolem">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">=</span> vector<span class="main">[</span><span class="main">0</span><span class="main">,</span><span class="main">-</span> <span class="main">1</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span> <span class="main">0</span><span class="main">,</span><span class="main">-</span> <span class="main">1</span><span class="main">,</span> <span class="main">1</span> <span class="main">]</span>"</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> cross7_def f_def <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span> 
    <span class="keyword1"><span class="command">have</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">f</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">h</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> g_def f_def  inner_vec_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> sum_7<span class="main">)</span>
    <span class="keyword1"><span class="command">have</span></span> 4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">h</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">f</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">unfolding</span></span> g_def h_def  inner_vec_def 
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> sum_7<span class="main">)</span>
    <span class="keyword1"><span class="command">have</span></span> 5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">f</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">h</span> <span class="main">-</span><span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">h</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">f</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> 3 4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">have</span></span> 6<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="skolem">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 2
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> one_neq_zero vector_7<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span> zero_index<span class="main">)</span>

    <span class="keyword1"><span class="command">have</span></span> 7<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword1"><span class="command">using</span></span> 2 6 u_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">have</span></span> 8<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="skolem">g</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">h</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="skolem">f</span> <span class="main">≠</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">f</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">h</span> <span class="main">-</span> <span class="main">(</span><span class="skolem">g</span> <span class="main">∙</span> <span class="skolem">h</span> <span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="skolem">f</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> 5 7 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> 8 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> * <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Cross_Product_7-axis_nth_neq"><span class="command">lemma</span></span> axis_nth_neq <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">≠</span> <span class="free">j</span> <span class="main">⟹</span> axis <span class="free">i</span> <span class="free">x</span> <span class="main">$</span> <span class="free">j</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> axis_def<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-cross7_basis"><span class="command">lemma</span></span> cross7_basis<span class="main">:</span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">4</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span>"</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">5</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">6</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="main">1</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">7</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">2</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">3</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">4</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">2</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">3</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">4</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">5</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="main">1</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">2</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">3</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">5</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">6</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">7</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">6</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="numeral">7</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> axis <span class="main">1</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> vec_eq_iff forall_7 cross7_components<span class="main">)</span>
 
<span class="keyword1" id="Cross_Product_7-cross7_basis_zero"><span class="command">lemma</span></span> cross7_basis_zero<span class="main">:</span>
 <span class="quoted"><span class="quoted">"  <span class="free">u</span><span class="main">=</span><span class="main">0</span>  <span class="main">⟹</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="main">1</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">2</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">3</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>
 <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">4</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">5</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span> <span class="main">)</span> <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">6</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span> <span class="main">)</span>
 <span class="main">∧</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">7</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>  "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Cross_Product_7-cross7_basis_nonzero"><span class="command">lemma</span></span> cross7_basis_nonzero<span class="main">:</span>
<span class="quoted"><span class="quoted">"<span class="main">¬</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="main">1</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">∨</span> <span class="main">¬</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">2</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">∨</span> <span class="main">¬</span> <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">3</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>
 <span class="main">∨</span> <span class="main">¬</span>   <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">4</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>  <span class="main">∨</span> <span class="main">¬</span>  <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">5</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span> <span class="main">)</span> <span class="main">∨</span> <span class="main">¬</span>   <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">6</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span> <span class="main">)</span>
 <span class="main">∨</span> <span class="main">¬</span>   <span class="main">(</span><span class="free">u</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> axis <span class="numeral">7</span> <span class="main">1</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>  <span class="main">⟹</span> <span class="free">u</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Pythagorean theorem/magnitude›</span></span>

<span class="keyword1" id="Cross_Product_7-norm_square_vec_eq"><span class="command">lemma</span></span> norm_square_vec_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">(</span><span class="main">∑</span><span class="bound">i</span><span class="main">∈</span>UNIV<span class="main">.</span> <span class="free">x</span> <span class="main">$</span> <span class="bound">i</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> norm_vec_def L2_set_def <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> sum_nonneg<span class="main">)</span>

<span class="keyword1" id="Cross_Product_7-norm_cross7_dot_magnitude"><span class="command">lemma</span></span> norm_cross7_dot_magnitude<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span>norm <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">=</span> <span class="main">(</span>norm <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">*</span> <span class="main">(</span>norm <span class="free">y</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">-</span> <span class="main">(</span><span class="free">x</span> <span class="main">∙</span> <span class="free">y</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> norm_square_vec_eq sum_7 cross7_components inner_vec_def real_norm_def inner_real_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>

<span class="keyword1" id="Cross_Product_7-cross7_eq_0"><span class="command">lemma</span></span> cross7_eq_0<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> collinear <span class="main">{</span><span class="main">0</span><span class="main">,</span> <span class="free">x</span><span class="main">,</span> <span class="free">y</span><span class="main">}</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> norm <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">...</span> <span class="main">⟷</span> <span class="main">(</span>norm <span class="free">x</span> <span class="main">*</span> norm <span class="free">y</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">∙</span> <span class="free">y</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> norm_cross7_dot_magnitude <span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="free">x</span></span> <span class="quoted"><span class="free">y</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> power_mult_distrib<span class="main">)</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">...</span> <span class="main">⟷</span> <span class="main">¦</span><span class="free">x</span> <span class="main">∙</span> <span class="free">y</span><span class="main">¦</span> <span class="main">=</span> norm <span class="free">x</span> <span class="main">*</span> norm <span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> power2_eq_iff
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>mono_tags<span class="main"><span class="main">,</span></span> hide_lams<span class="main"><span class="main">)</span></span> abs_minus abs_norm_cancel
              abs_power2 norm_mult power_abs real_norm_def<span class="main">)</span> 
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">...</span> <span class="main">⟷</span> collinear <span class="main">{</span><span class="main">0</span><span class="main">,</span> <span class="free">x</span><span class="main">,</span> <span class="free">y</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> norm_cauchy_schwarz_equal<span class="main">)</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Cross_Product_7-cross7_eq_self"><span class="command">lemma</span></span> cross7_eq_self<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⟷</span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> cross7_zero_left dot_cross7_self<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> inner_eq_zero_iff<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> cross7_zero_right dot_cross7_self<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> inner_eq_zero_iff<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1" id="Cross_Product_7-norm_and_cross7_eq_0"><span class="command">lemma</span></span> norm_and_cross7_eq_0<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">∙</span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span> <span class="main">∧</span> <span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="main">0</span> <span class="main">∨</span> <span class="free">y</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">is</span></span> <span class="quoted"><span class="quoted">"<span class="var">?lhs</span> <span class="main">=</span> <span class="var">?rhs</span>"</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">proof</span></span> 
  <span class="keyword3"><span class="command">assume</span></span> <span class="var"><span class="quoted"><span class="var">?lhs</span></span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?rhs</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> cross7_eq_0 norm_cauchy_schwarz_equal <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
<span class="keyword1"><span class="command">next</span></span>
<span class="keyword3"><span class="command">assume</span></span> <span class="var"><span class="quoted"><span class="var">?rhs</span></span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?lhs</span></span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Cross_Product_7-bilinear_cross7"><span class="command">lemma</span></span> bilinear_cross7<span class="main">:</span> <span class="quoted"><span class="quoted">"bilinear <span class="main">(×<span class="hidden">⇩</span><sub>7</sub>)</span>"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> bilinear_def linear_def<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cross7_add_right cross7_mult_right cross7_add_left cross7_mult_left<span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Continuity›</span></span>

<span class="keyword1" id="Cross_Product_7-continuous_cross7"><span class="command">lemma</span></span> continuous_cross7<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⟦</span>continuous <span class="free">F</span> <span class="free">f</span><span class="main">;</span> continuous <span class="free">F</span> <span class="free">g</span><span class="main">⟧</span> <span class="main">⟹</span> continuous <span class="free">F</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> <span class="free">f</span> <span class="bound">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">g</span> <span class="bound">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">subst</span> continuous_componentwise<span class="main">)</span><span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">continuous_intros</span></span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> cross7_simps<span class="main">)</span>
 
<span class="keyword1" id="Cross_Product_7-continuous_on_cross"><span class="command">lemma</span></span> continuous_on_cross<span class="main">:</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">f</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span><span class="main">::</span>t2_space <span class="main">⇒</span> real<span class="main">^</span><span class="numeral">7</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">⟦</span>continuous_on <span class="free">S</span> <span class="free">f</span><span class="main">;</span> continuous_on <span class="free">S</span> <span class="free">g</span><span class="main">⟧</span> <span class="main">⟹</span> continuous_on <span class="free">S</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> <span class="free">f</span> <span class="bound">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">g</span> <span class="bound">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> continuous_on_eq_continuous_within continuous_cross7<span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span></pre>
</div><div id="Octonions">
<div class="head">
<h1>Theory Octonions</h1>
</div>
<pre class="source"><span class="comment1">(* Title:      Octonions.thy
   Author:     Angeliki Koutsoukou-Argyraki, University of Cambridge
   Date:       September 2018
*)</span>
<span class="keyword1"><span class="command">section</span></span><span class="quoted"><span class="plain_text">‹Theory of Octonions›</span></span>
<span class="keyword1"><span class="command">theory</span></span> Octonions
  <span class="keyword2"><span class="keyword">imports</span></span> <a href="Cross_Product_7.html">Cross_Product_7</a> 
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Basic definitions›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹As with the complex numbers, coinduction is convenient.›</span></span>

<span class="keyword1"><span class="command">codatatype</span></span> octo <span class="main">=</span>
  Octo <span class="main">(</span><span class="free"><span class="entity">Ree</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im1</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im2</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im3</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im4</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> 
       <span class="main">(</span><span class="free"><span class="entity">Im5</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im6</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="entity">Im7</span></span><span class="main">:</span> <span class="quoted">real</span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_eqI"><span class="command">lemma</span></span> octo_eqI <span class="main">[</span><span class="operator">intro</span><span class="main"><span class="main"><span class="main"><span class="main">?</span></span></span></span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">⟦</span>Ree <span class="free">x</span> <span class="main">=</span> Ree <span class="free">y</span><span class="main">;</span> Im1 <span class="free">x</span> <span class="main">=</span> Im1 <span class="free">y</span><span class="main">;</span> Im2 <span class="free">x</span> <span class="main">=</span> Im2 <span class="free">y</span><span class="main">;</span> Im3 <span class="free">x</span> <span class="main">=</span> Im3 <span class="free">y</span><span class="main">;</span>
    Im4 <span class="free">x</span> <span class="main">=</span> Im4 <span class="free">y</span><span class="main">;</span>Im5 <span class="free">x</span> <span class="main">=</span> Im5 <span class="free">y</span><span class="main">;</span>  Im6 <span class="free">x</span> <span class="main">=</span> Im6 <span class="free">y</span><span class="main">;</span> Im7 <span class="free">x</span> <span class="main">=</span> Im7 <span class="free">y</span><span class="main">⟧</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> octo.expand<span class="main">)</span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-octo_eq_iff"><span class="command">lemma</span></span> octo_eq_iff<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⟷</span> Ree <span class="free">x</span> <span class="main">=</span> Ree <span class="free">y</span> <span class="main">∧</span> Im1 <span class="free">x</span> <span class="main">=</span> Im1 <span class="free">y</span> <span class="main">∧</span> Im2 <span class="free">x</span> <span class="main">=</span> Im2 <span class="free">y</span> <span class="main">∧</span> Im3 <span class="free">x</span> <span class="main">=</span> Im3 <span class="free">y</span> <span class="main">∧</span>
             Im4 <span class="free">x</span> <span class="main">=</span> Im4 <span class="free">y</span> <span class="main">∧</span> Im5 <span class="free">x</span> <span class="main">=</span> Im5 <span class="free">y</span> <span class="main">∧</span> Im6 <span class="free">x</span> <span class="main">=</span> Im6 <span class="free">y</span>  <span class="main">∧</span> Im7 <span class="free">x</span> <span class="main">=</span> Im7 <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> octo.expand<span class="main">)</span>

<span class="keyword1"><span class="command">context</span></span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e0</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e0</span>"</span><span class="main">)</span>
<span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e0</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e1</span> <span class="main">::</span> <span class="quoted">octo</span>  <span class="main">(</span><span class="quoted">"<span class="keyword1">e1</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e1</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e2</span> <span class="main">::</span> <span class="quoted">octo</span>  <span class="main">(</span><span class="quoted">"<span class="keyword1">e2</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e2</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e3</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e3</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e3</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e4</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e4</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e4</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e5</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e5</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e5</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e6</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e6</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e6</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">octo_e7</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="main">(</span><span class="quoted">"<span class="keyword1">e7</span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="keyword1"><span class="free">e7</span></span> <span class="main">=</span> <span class="main">1</span>"</span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Addition and Subtraction: An Abelian Group›</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span> <span class="quoted">ab_group_add</span>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">zero_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"Ree <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span><span class="quoted"><span class="quoted">"Im1 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
 <span class="main">|</span><span class="quoted"><span class="quoted">"Im4 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">plus_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Ree <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">uminus_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="main">-</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">minus_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Ree <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im3 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im4 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im5 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span> <span class="main">=</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> Im7 <span class="free"><span class="bound"><span class="entity">y</span></span></span>"</span></span>

<span class="keyword1"><span class="command">instance</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1" id="Octonions-octo_eq_0_iff"><span class="command">lemma</span></span> octo_eq_0_iff<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> Ree <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span>
               Im4 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span>  <span class="main">=</span> <span class="main">0</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>octo.Ree <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im1 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im2 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im3 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im4 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im5 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im6 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>
 <span class="main">+</span> <span class="main">(</span>Im7 <span class="free">x</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∀</span><span class="bound">qa</span><span class="main">.</span> <span class="bound">qa</span> <span class="main">-</span> <span class="free">x</span> <span class="main">=</span> <span class="bound">qa</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> add_nonneg_eq_0_iff minus_octo.ctr<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="operator">auto</span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹A Normed Vector Space›</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span> <span class="quoted">real_vector</span>

<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">scaleR_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>

<span class="keyword1"><span class="command">instance</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_eq_iff distrib_left distrib_right  scaleR_add_right<span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo<span class="main">::</span><span class="quoted">one</span>
<span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">one_octo</span></span>

  <span class="keyword2"><span class="keyword">where</span></span>
   <span class="quoted"><span class="quoted">"Ree <span class="main">1</span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span>  <span class="quoted"><span class="quoted">"Im1 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span>  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span>  <span class="quoted"><span class="quoted">"Im3 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span>
   <span class="quoted"><span class="quoted">"Im4 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span>  <span class="quoted"><span class="quoted">"Im5 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span>  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span> 

<span class="keyword1"><span class="command">instance</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">fun</span></span> <span class="entity">octo_proj</span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">0</span> <span class="main">=</span> <span class="main">(</span> Ree <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im1<span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im2 <span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im3<span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im4<span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc<span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im5<span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc<span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im6<span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">octo_proj</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">(</span>Suc<span class="main">(</span> Suc<span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span> Im7<span class="main">(</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main">)</span>"</span></span>

<span class="keyword1" id="Octonions-octo_proj_add"><span class="command">lemma</span></span> octo_proj_add<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">≤</span> <span class="numeral">7</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"octo_proj <span class="main">(</span><span class="free">x</span><span class="main">+</span><span class="free">y</span><span class="main">)</span> <span class="free">i</span> <span class="main">=</span> octo_proj <span class="free">x</span> <span class="free">i</span> <span class="main">+</span> octo_proj <span class="free">y</span> <span class="free">i</span>"</span></span> 
 
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">consider</span></span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">2</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">3</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">4</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">5</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">6</span>"</span></span> <span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="free">i</span> <span class="main">=</span> <span class="numeral">7</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span>  assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>

     <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">cases</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span>  numeral_2_eq_2 numeral_3_eq_3 numeral_4_eq_4 numeral_5_eq_5 
 numeral_6_eq_6  numeral_7_eq_7 numeral_7_eq_7<span class="main">)</span> 
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span><span class="quoted">real_normed_vector</span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">definition</span></span>  <span class="quoted"><span class="quoted">"norm <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> sqrt <span class="main">(</span><span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>  <span class="main">+</span>
  <span class="main">(</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span><span class="main">+</span> <span class="main">(</span>Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>  <span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span><span class="main">::</span><span class="quoted">octo</span> 

<span class="keyword1"><span class="command">definition</span></span> <span class="quoted"><span class="quoted">"sgn <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> norm <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="main">::</span> <span class="quoted">octo</span>

<span class="keyword1"><span class="command">definition</span></span> <span class="quoted"><span class="quoted">"dist <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> norm <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span> <span class="quoted">octo</span>

<span class="keyword1"><span class="command">definition</span></span> <span class="main">[</span><span class="operator">code</span> <span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword">del</span></span></span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span>uniformity <span class="main">::</span> <span class="main">(</span>octo <span class="main">×</span> octo<span class="main">)</span> filter<span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">INF</span> <span class="bound">e</span><span class="main">∈</span><span class="main">{</span><span class="main">0</span> <span class="main">&lt;..}</span><span class="main">.</span> principal <span class="main">{</span><span class="main">(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">y</span><span class="main">)</span><span class="main">.</span> dist <span class="bound">x</span> <span class="bound">y</span> <span class="main">&lt;</span> <span class="bound">e</span><span class="main">}</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="main">[</span><span class="operator">code</span> <span class="quasi_keyword"><span class="quasi_keyword"><span class="quasi_keyword">del</span></span></span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"open <span class="main">(</span><span class="free"><span class="bound"><span class="entity">U</span></span></span> <span class="main">::</span> octo set<span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="main">∀</span><span class="bound">x</span><span class="main">∈</span><span class="free"><span class="bound"><span class="entity">U</span></span></span><span class="main">.</span> eventually <span class="main">(</span><span class="main">λ</span><span class="main">(</span><span class="bound">x'</span><span class="main">,</span> <span class="bound">y</span><span class="main">)</span><span class="main">.</span> <span class="bound">x'</span> <span class="main">=</span> <span class="bound">x</span> <span class="main">⟶</span> <span class="bound">y</span> <span class="main">∈</span> <span class="free"><span class="bound"><span class="entity">U</span></span></span><span class="main">)</span> uniformity<span class="main">)</span>"</span></span>

<span class="keyword1" id="Octonions-norm_eq_L2"><span class="command">lemma</span></span> norm_eq_L2<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="free">x</span> <span class="main">=</span> L2_set <span class="main">(</span>octo_proj <span class="free">x</span><span class="main">)</span> <span class="main">{..</span><span class="numeral">7</span><span class="main">}</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_octo_def L2_set_def eval_nat_numeral<span class="main">)</span>

<span class="keyword1"><span class="command">instance</span></span> <span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span> <span class="main">::</span> <span class="quoted">real</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="main">::</span> <span class="quoted">octo</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem">S</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"octo set"</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span>norm <span class="skolem">x</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span> <span class="main">⟷</span> <span class="main">(</span><span class="skolem">x</span> <span class="main">=</span> <span class="main">0</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_octo_def octo_eq_iff add_nonneg_eq_0_iff<span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> eq<span class="main">:</span> <span class="quoted"><span class="quoted">"L2_set <span class="main">(</span>octo_proj <span class="main">(</span><span class="skolem">x</span> <span class="main">+</span> <span class="skolem">y</span><span class="main">)</span><span class="main">)</span> <span class="main">{..</span><span class="numeral">7</span><span class="main">}</span> <span class="main">=</span> L2_set <span class="main">(</span><span class="main">λ</span><span class="bound">i</span><span class="main">.</span> octo_proj <span class="skolem">x</span> <span class="bound">i</span> <span class="main">+</span> octo_proj <span class="skolem">y</span> <span class="bound">i</span><span class="main">)</span> <span class="main">{..</span><span class="numeral">7</span><span class="main">}</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> L2_set_cong<span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_proj_add<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="skolem">x</span> <span class="main">+</span> <span class="skolem">y</span><span class="main">)</span> <span class="main">≤</span> norm <span class="skolem">x</span> <span class="main">+</span> norm <span class="skolem">y</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_eq_L2 eq L2_set_triangle_ineq<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span>scaleR <span class="skolem">r</span> <span class="skolem">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">¦</span><span class="skolem">r</span><span class="main">¦</span> <span class="main">*</span> norm <span class="skolem">x</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_octo_def octo_eq_iff 
                  power_mult_distrib distrib_left <span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span> real_sqrt_mult<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="main">(</span><span class="operator">rule</span> sgn_octo_def dist_octo_def open_octo_def uniformity_octo_def<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1" id="Octonions-norm_octo_squared"><span class="command">lemma</span></span> norm_octo_squared<span class="main">:</span>
  <span class="quoted"><span class="quoted">"norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> Ree <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span>
     Im4 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_octo_def<span class="main">)</span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span> <span class="quoted">real_inner</span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity"><span class="class_parameter">inner_octo</span></span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">inner_octo</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">y</span></span></span>
      <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">+</span>  Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">y</span></span></span> "</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span><span class="main">::</span><span class="quoted">octo</span>

<span class="keyword1"><span class="command">instance</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> inner_octo_def <span class="dynamic"><span class="dynamic">algebra_simps</span></span> norm_octo_def 
                          power2_eq_square octo_eq_iff add_nonneg_eq_0_iff<span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1" id="Octonions-octo_inner_1"><span class="command">lemma</span></span> octo_inner_1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="main">1</span> <span class="free">x</span> <span class="main">=</span> Ree <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> octo_inner_1_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="main">1</span> <span class="main">=</span> Ree <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e1_left"><span class="command">lemma</span></span> octo_inner_e1_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e1</span> <span class="free">x</span> <span class="main">=</span> Im1 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> octo_inner_e1_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e1</span> <span class="main">=</span> Im1 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e2_left"><span class="command">lemma</span></span> octo_inner_e2_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e2</span> <span class="free">x</span> <span class="main">=</span> Im2 <span class="free">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_inner_e2_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e2</span> <span class="main">=</span> Im2 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e3_left"><span class="command">lemma</span></span> octo_inner_e3_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e3</span> <span class="free">x</span> <span class="main">=</span> Im3 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span>  octo_inner_e3_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e3</span> <span class="main">=</span> Im3 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e4_left"><span class="command">lemma</span></span> octo_inner_e4_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e4</span> <span class="free">x</span>  <span class="main">=</span> Im4 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> octo_inner_e4_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e4</span> <span class="main">=</span> Im4 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e5_left"><span class="command">lemma</span></span> octo_inner_e5_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e5</span> <span class="free">x</span>  <span class="main">=</span> Im5 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span>  octo_inner_e5_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e5</span> <span class="main">=</span> Im5 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e6_left"><span class="command">lemma</span></span> octo_inner_e6_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e6</span> <span class="free">x</span>  <span class="main">=</span> Im6 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> octo_inner_e6_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e6</span> <span class="main">=</span> Im6 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_inner_e7_left"><span class="command">lemma</span></span> octo_inner_e7_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="keyword1">e7</span> <span class="free">x</span>  <span class="main">=</span> Im7 <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> octo_inner_e7_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="keyword1">e7</span> <span class="main">=</span> Im7 <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> inner_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_norm_pow_2_inner"><span class="command">lemma</span></span> octo_norm_pow_2_inner<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span>norm <span class="free">x</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> inner <span class="free">x</span> <span class="free">x</span> "</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span><span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> dot_square_norm<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_norm_property"><span class="command">lemma</span></span> octo_norm_property<span class="main">:</span>
  <span class="quoted"><span class="quoted">"inner <span class="free">x</span> <span class="free">y</span> <span class="main">=</span> <span class="main">(</span><span class="main">1</span><span class="main">/</span><span class="numeral">2</span><span class="main">)</span><span class="main">*</span> <span class="main">(</span><span class="main">(</span>norm<span class="main">(</span><span class="free">x</span><span class="main">+</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">^</span><span class="numeral">2</span> <span class="main">-</span> <span class="main">(</span>norm<span class="main">(</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">^</span><span class="numeral">2</span> <span class="main">-</span> <span class="main">(</span>norm<span class="main">(</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">^</span><span class="numeral">2</span><span class="main">)</span> "</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> dot_norm norm_octo_def<span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹The Octonionic product and related properties and lemmas›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹The multiplication is defined following one of the 480 equivalent multiplication tables
in an analogy to the definition of the 7D cross product. ›</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span> <span class="quoted">times</span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity"><span class="class_parameter">times_octo</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="main">[</span>octo<span class="main">,</span> octo<span class="main">]</span> <span class="main">⇒</span> octo"</span></span> 
  <span class="keyword2"><span class="keyword">where</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">)</span> <span class="main">=</span>  <span class="main">(</span><span class="keyword1">let</span> 
    <span class="bound">t0</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">-</span> Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> 
          <span class="main">-</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">-</span> Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">-</span>Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">;</span> 
    <span class="bound">t1</span> <span class="main">=</span>  Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>   Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>
          Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2  <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">+</span>Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">;</span>
    <span class="bound">t2</span> <span class="main">=</span>  Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span>  Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span>  <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> 
          <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">-</span> Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span>Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">;</span>
    <span class="bound">t3</span> <span class="main">=</span>  Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span>Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span>
         <span class="main">+</span>  Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span>Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">;</span>
    <span class="bound">t4</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> 
        <span class="main">+</span>Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">;</span>
    <span class="bound">t5</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span>Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span>
         <span class="main">+</span>Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">+</span>Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span>  <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span><span class="main">;</span>
    <span class="bound">t6</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span>
        <span class="main">-</span>Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span>  <span class="main">;</span>
    <span class="bound">t7</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im7 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im3 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im2 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im6 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im3 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im1 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span> Im4 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im5 <span class="free"><span class="bound"><span class="entity">b</span></span></span>
          <span class="main">-</span>Im5 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im4 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Im2 <span class="free"><span class="bound"><span class="entity">b</span></span></span> <span class="main">+</span>Im7 <span class="free"><span class="bound"><span class="entity">a</span></span></span> <span class="main">*</span> Ree <span class="free"><span class="bound"><span class="entity">b</span></span></span> 
  <span class="keyword1">in</span> Octo <span class="bound">t0</span> <span class="bound">t1</span> <span class="bound">t2</span> <span class="bound">t3</span> <span class="bound">t4</span> <span class="bound">t5</span> <span class="bound">t6</span> <span class="bound">t7</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">instance</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">instantiation</span></span> octo <span class="main">::</span><span class="quoted">inverse</span>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity"><span class="class_parameter">inverse_octo</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
      <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span>   <span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
             <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
   <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span> <span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
     <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span>    <span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
        <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span>    <span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
   <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span><span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
       <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span>    <span class="main">)</span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>inverse <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span>Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">/</span> <span class="main">(</span>Ree <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im1 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im2 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im3 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span>
     <span class="main">+</span>Im4 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im5 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im6 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">+</span> Im7 <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">^</span><span class="numeral">2</span>    <span class="main">)</span>"</span></span>


<span class="keyword1"><span class="command">definition</span></span> <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="keyword1">div</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span>  <span class="main">*</span> <span class="main">(</span> inverse <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span> <span class="quoted">octo</span>

<span class="keyword1"><span class="command">instance</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">standard</span>
 
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1" id="Octonions-octo_mult_components"><span class="command">lemma</span></span> octo_mult_components<span class="main">:</span> 
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="free">x</span> <span class="main">*</span>  <span class="free">y</span> <span class="main">)</span> <span class="main">=</span>  Ree <span class="free">x</span> <span class="main">*</span>  Ree <span class="free">y</span> <span class="main">-</span> Im1 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">-</span>  Im2 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span> <span class="main">-</span> Im3 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span>
   <span class="main">-</span> Im4 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">-</span> Im5 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span> <span class="main">-</span> Im6 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span><span class="main">-</span>  Im7 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="free">x</span>  <span class="main">*</span>  <span class="free">y</span> <span class="main">)</span>  <span class="main">=</span>  Ree <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">+</span>   Im1 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span> <span class="main">+</span> Im2 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">+</span>Im3 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">-</span>
     Im4 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span>    <span class="main">+</span>Im5 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span> <span class="main">-</span> Im6 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span> <span class="main">-</span> Im7 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> "</span></span>    
   <span class="quoted"><span class="quoted">" Im2 <span class="main">(</span><span class="free">x</span>  <span class="main">*</span>  <span class="free">y</span> <span class="main">)</span>  <span class="main">=</span>  Ree <span class="free">x</span> <span class="main">*</span>  Im2 <span class="free">y</span> <span class="main">-</span> Im1 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span><span class="main">+</span> Im2 <span class="free">x</span>  <span class="main">*</span> Ree <span class="free">y</span> <span class="main">+</span> Im3 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span> 
          <span class="main">+</span> Im4 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span>  <span class="main">-</span> Im5 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> <span class="main">+</span> Im6 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">-</span> Im7 <span class="free">x</span> <span class="main">*</span>Im6 <span class="free">y</span>  "</span></span>    
   <span class="quoted"><span class="quoted">" Im3 <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">)</span> <span class="main">=</span>  Ree <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> <span class="main">-</span>Im1 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">-</span>Im2 <span class="free">x</span> <span class="main">*</span>Im5 <span class="free">y</span> <span class="main">+</span>Im3 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span> <span class="main">+</span> Im4 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span>
         <span class="main">+</span>  Im5 <span class="free">x</span> <span class="main">*</span>Im2 <span class="free">y</span>  <span class="main">-</span> Im6 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">+</span> Im7 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> "</span></span>   
   <span class="quoted"><span class="quoted">"Im4  <span class="main">(</span><span class="free">x</span> <span class="main">*</span><span class="free">y</span> <span class="main">)</span> <span class="main">=</span>  Ree <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">+</span> Im1 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span> <span class="main">-</span> Im2 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">-</span>Im3 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span> <span class="main">+</span> Im4 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span> 
        <span class="main">+</span>Im5 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">+</span>Im6 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> <span class="main">-</span>Im7 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span>  "</span></span>   
   <span class="quoted"><span class="quoted">"Im5  <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">)</span> <span class="main">=</span> Ree <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span> <span class="main">-</span> Im1 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span> <span class="main">+</span>Im2 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> <span class="main">-</span>Im3 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span> <span class="main">-</span>Im4 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span>
         <span class="main">+</span>Im5 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span>  <span class="main">+</span>Im6 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">+</span> Im7 <span class="free">x</span>  <span class="main">*</span> Im4 <span class="free">y</span>  "</span></span>    
   <span class="quoted"><span class="quoted">" Im6  <span class="main">(</span><span class="free">x</span> <span class="main">*</span>  <span class="free">y</span><span class="main">)</span> <span class="main">=</span> Ree <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span> <span class="main">+</span> Im1 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span> <span class="main">-</span> Im2 <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">+</span>Im3 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">-</span> Im4 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span>
        <span class="main">-</span>Im5 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">+</span> Im6 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span> <span class="main">+</span> Im7 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span>   "</span></span>    
    <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span>  <span class="main">=</span> Ree <span class="free">x</span> <span class="main">*</span> Im7 <span class="free">y</span> <span class="main">+</span> Im1 <span class="free">x</span> <span class="main">*</span> Im3 <span class="free">y</span> <span class="main">+</span>Im2 <span class="free">x</span> <span class="main">*</span> Im6 <span class="free">y</span> <span class="main">-</span> Im3 <span class="free">x</span> <span class="main">*</span> Im1 <span class="free">y</span> <span class="main">+</span> Im4 <span class="free">x</span> <span class="main">*</span> Im5 <span class="free">y</span>
   <span class="main">-</span>Im5 <span class="free">x</span> <span class="main">*</span> Im4 <span class="free">y</span> <span class="main">-</span> Im6 <span class="free">x</span> <span class="main">*</span> Im2 <span class="free">y</span> <span class="main">+</span>Im7 <span class="free">x</span> <span class="main">*</span> Ree <span class="free">y</span>  "</span></span>
 <span class="keyword1"><span class="command">unfolding</span></span> times_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-octo_distrib_left"><span class="command">lemma</span></span> octo_distrib_left <span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">a</span> <span class="main">*</span> <span class="main">(</span><span class="free">b</span> <span class="main">+</span> <span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span> <span class="main">*</span> <span class="free">b</span> <span class="main">+</span> <span class="free">a</span> <span class="main">*</span> <span class="free">c</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">a</span> <span class="free">b</span> <span class="free">c</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">unfolding</span></span> times_octo_def  plus_octo_def minus_octo_def uminus_octo_def scaleR_octo_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span> 

<span class="keyword1" id="Octonions-octo_distrib_right"><span class="command">lemma</span></span> octo_distrib_right <span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">b</span> <span class="main">+</span> <span class="free">c</span><span class="main">)</span> <span class="main">*</span> <span class="free">a</span> <span class="main">=</span> <span class="free">b</span> <span class="main">*</span> <span class="free">a</span> <span class="main">+</span> <span class="free">c</span> <span class="main">*</span> <span class="free">a</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">a</span> <span class="free">b</span> <span class="free">c</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">unfolding</span></span> times_octo_def  plus_octo_def minus_octo_def uminus_octo_def scaleR_octo_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span> 

<span class="keyword1" id="Octonions-multiplicative_norm_octo"><span class="command">lemma</span></span> multiplicative_norm_octo<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> norm <span class="free">x</span> <span class="main">*</span> norm <span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span><span class="quoted">octo</span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">*</span> norm <span class="free">y</span> <span class="main">^</span> <span class="numeral">2</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> norm_octo_squared octo_mult_components <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">...</span> <span class="main">=</span> <span class="main">(</span>norm <span class="free">x</span> <span class="main">*</span> norm <span class="free">y</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> power_mult_distrib<span class="main">)</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Octonions-mult_1_right_octo"><span class="command">lemma</span></span> mult_1_right_octo <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">*</span> <span class="main">1</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span> mult_1_left_octo <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">1</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> times_octo_def<span class="main">)</span>

<span class="keyword1"><span class="command">instance</span></span> octo <span class="main">::</span> <span class="quoted">power</span> <span class="keyword1"><span class="command">..</span></span>

<span class="keyword1" id="Octonions-power2_eq_square_octo"><span class="command">lemma</span></span> power2_eq_square_octo<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_2_eq_2 times_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_product_alternative_left"><span class="command">lemma</span></span> octo_product_alternative_left<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">*</span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span> <span class="main">*</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_eq_iff octo_mult_components <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>

<span class="keyword1" id="Octonions-octo_product_alternative_right"><span class="command">lemma</span></span> octo_product_alternative_right<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">*</span> <span class="main">(</span><span class="free">y</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">::</span> octo<span class="main">)</span> <span class="main">*</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_eq_iff octo_mult_components <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>

<span class="keyword1" id="Octonions-octo_product_flexible"><span class="command">lemma</span></span> octo_product_flexible<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> <span class="main">(</span><span class="free">y</span> <span class="main">*</span> <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_eq_iff octo_mult_components <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>

<span class="keyword1" id="Octonions-octo_power_commutes"><span class="command">lemma</span></span> octo_power_commutes<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">^</span> <span class="free">y</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> <span class="main">(</span><span class="free">x</span> <span class="main">^</span> <span class="free">y</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induction</span> <span class="quoted"><span class="free">y</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_product_flexible<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_product_noncommutative"><span class="command">lemma</span></span> octo_product_noncommutative<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound">x</span> <span class="bound">y</span><span class="main">::</span>octo<span class="main">.</span> <span class="main">(</span><span class="bound">x</span> <span class="main">*</span> <span class="bound">y</span> <span class="main">=</span> <span class="bound">y</span> <span class="main">*</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>

  <span class="keyword1"><span class="command">using</span></span> inverse_1 left_inverse mult_not_zero octo.sel<span class="main">(</span>8<span class="main">)</span> octo_e4.sel<span class="main">(</span>2<span class="main">)</span>
  octo_e4.sel<span class="main">(</span>3<span class="main">)</span>   octo_e4.sel<span class="main">(</span>5<span class="main">)</span>  octo_e5.sel<span class="main">(</span>1<span class="main">)</span> octo_e5.sel<span class="main">(</span>2<span class="main">)</span>
  octo_e5.sel<span class="main">(</span>3<span class="main">)</span> octo_e5.sel<span class="main">(</span>5<span class="main">)</span> octo_e5.sel<span class="main">(</span>6<span class="main">)</span> octo_e5.sel<span class="main">(</span>8<span class="main">)</span> times_octo_def
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">smt</span>

<span class="keyword1" id="Octonions-octo_product_nonassociative"><span class="command">lemma</span></span> octo_product_nonassociative <span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="main">¬</span><span class="main">(</span><span class="main">∀</span> <span class="bound">x</span> <span class="bound">y</span> <span class="bound">z</span><span class="main">::</span>octo<span class="main">.</span> <span class="bound">x</span> <span class="main">*</span> <span class="main">(</span><span class="bound">y</span> <span class="main">*</span> <span class="bound">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="bound">x</span> <span class="main">*</span> <span class="bound">y</span><span class="main">)</span> <span class="main">*</span> <span class="bound">z</span><span class="main">)</span>"</span></span> 
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">=</span> Octo <span class="main">1</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">1</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span>"</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">y</span> <span class="main">=</span> Octo <span class="main">1</span> <span class="numeral">3</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">1</span> <span class="main">0</span> <span class="main">0</span>"</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">z</span> <span class="main">=</span> Octo <span class="main">0</span> <span class="main">1</span> <span class="main">0</span> <span class="main">1</span> <span class="main">1</span> <span class="main">1</span> <span class="main">0</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">*</span> <span class="main">(</span><span class="skolem">y</span> <span class="main">*</span> <span class="skolem">z</span><span class="main">)</span> <span class="main">≠</span> <span class="main">(</span><span class="skolem">x</span> <span class="main">*</span> <span class="skolem">y</span><span class="main">)</span> <span class="main">*</span> <span class="skolem">z</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components x_def y_def z_def<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Embedding of the Reals into the Octonions›</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">octo_of_real</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"real <span class="main">⇒</span>  octo"</span></span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free">octo_of_real</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">=</span> scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">1</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">octo_of_nat</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"nat <span class="main">⇒</span>  octo"</span></span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free">octo_of_nat</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">=</span> scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">1</span>"</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">octo_of_int</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"int <span class="main">⇒</span>  octo"</span></span>
  <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">"<span class="free">octo_of_int</span> <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">=</span> scaleR <span class="free"><span class="bound"><span class="entity">r</span></span></span> <span class="main">1</span>"</span></span>

<span class="keyword1" id="Octonions-octo_of_nat_sel"><span class="command">lemma</span></span> octo_of_nat_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> of_nat <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_nat_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_sel"><span class="command">lemma</span></span> octo_of_real_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_int_sel"><span class="command">lemma</span></span> octo_of_int_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> of_int <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_int_def<span class="main">)</span>

<span class="keyword1" id="Octonions-scaleR_conv_octo_of_real"><span class="command">lemma</span></span> scaleR_conv_octo_of_real<span class="main">:</span> <span class="quoted"><span class="quoted">"scaleR <span class="free">r</span> <span class="free">x</span> <span class="main">=</span> octo_of_real <span class="free">r</span> <span class="main">*</span> <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_0"><span class="command">lemma</span></span> octo_of_real_0 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_1"><span class="command">lemma</span></span> octo_of_real_1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">1</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_add"><span class="command">lemma</span></span> octo_of_real_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">x</span> <span class="main">+</span> octo_of_real <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def scaleR_left_distrib<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_minus"><span class="command">lemma</span></span> octo_of_real_minus <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="main">-</span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> octo_of_real <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_diff"><span class="command">lemma</span></span> octo_of_real_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">x</span> <span class="main">-</span> octo_of_real <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def scaleR_left_diff_distrib<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_mult"><span class="command">lemma</span></span> octo_of_real_mult <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">x</span> <span class="main">*</span> octo_of_real <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> scaleR_conv_octo_of_real scaleR_scaleR<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_sum"><span class="command">lemma</span></span> octo_of_real_sum<span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>sum <span class="free">f</span> <span class="free">s</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">∑</span><span class="bound">x</span><span class="main">∈</span><span class="free">s</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">s</span></span> <span class="quasi_keyword">rule</span><span class="main"><span class="main">:</span></span> infinite_finite_induct<span class="main">)</span> <span class="operator">auto</span> 

<span class="keyword1" id="Octonions-octo_of_real_power"><span class="command">lemma</span></span> octo_of_real_power <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">^</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>octo_of_real <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span> <span class="main">^</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">y</span></span><span class="main">)</span><span class="main">(</span><span class="operator">simp_all</span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_eq_iff"><span class="command">lemma</span></span> octo_of_real_eq_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">x</span> <span class="main">=</span> octo_of_real <span class="free">y</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def one_octo.code zero_octo.code<span class="main">)</span>

<span class="keyword1"><span class="command">lemmas</span></span> octo_of_real_eq_0_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> octo_of_real_eq_iff <span class="main">[</span><span class="operator">of</span> <span class="main">_</span> <span class="quoted"><span class="main">0</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> octo_of_real_eq_1_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> octo_of_real_eq_iff <span class="main">[</span><span class="operator">of</span> <span class="main">_</span> <span class="quoted"><span class="main">1</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span>

<span class="keyword1" id="Octonions-minus_octo_of_real_eq_octo_of_real_iff"><span class="command">lemma</span></span> minus_octo_of_real_eq_octo_of_real_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span>octo_of_real <span class="free">x</span> <span class="main">=</span> octo_of_real <span class="free">y</span> <span class="main">⟷</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_eq_iff<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="free">x</span>"</span></span> <span class="quoted"><span class="free">y</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">only</span><span class="main"><span class="main">:</span></span> octo_of_real_minus<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_eq_minus_of_real_iff"><span class="command">lemma</span></span> octo_of_real_eq_minus_of_real_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">x</span> <span class="main">=</span> <span class="main">-</span>octo_of_real <span class="free">y</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_eq_iff<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="free">x</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="free">y</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">only</span><span class="main"><span class="main">:</span></span> octo_of_real_minus<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_of_nat_eq"><span class="command">lemma</span></span> octo_of_real_of_nat_eq <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> octo_of_nat <span class="free">x</span>"</span></span> 
  <span class="keyword1"><span class="command">unfolding</span></span> octo_of_real_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_nat_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_of_int_eq"><span class="command">lemma</span></span> octo_of_real_of_int_eq <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>of_int <span class="free">z</span><span class="main">)</span> <span class="main">=</span> octo_of_int <span class="free">z</span>"</span></span>
 <span class="keyword1"><span class="command">unfolding</span></span> octo_of_real_def
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_int_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_int_of_nat"><span class="command">lemma</span></span> octo_of_int_of_nat<span class="main">:</span>  <span class="quoted"><span class="quoted">"octo_of_int <span class="main">(</span>of_nat <span class="free">n</span><span class="main">)</span> <span class="main">=</span> octo_of_nat <span class="free">n</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_nat_add"><span class="command">lemma</span></span> octo_of_nat_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_nat <span class="main">(</span><span class="free">a</span> <span class="main">+</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_nat <span class="free">a</span> <span class="main">+</span> octo_of_nat <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_nat_mult <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_nat <span class="main">(</span><span class="free">a</span> <span class="main">*</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_nat <span class="free">a</span> <span class="main">*</span> octo_of_nat <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_nat_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">≤</span> <span class="free">a</span> <span class="main">⟹</span> octo_of_nat <span class="main">(</span><span class="free">a</span> <span class="main">-</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_nat <span class="free">a</span> <span class="main">-</span> octo_of_nat <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_nat_0 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_nat <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_nat_1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_nat <span class="main">1</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_nat_Suc_0 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_nat <span class="main">(</span>Suc <span class="main">0</span><span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_int_add"><span class="command">lemma</span></span> octo_of_int_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_int <span class="main">(</span><span class="free">a</span> <span class="main">+</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_int <span class="free">a</span> <span class="main">+</span> octo_of_int <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_int_mult <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_int <span class="main">(</span><span class="free">a</span> <span class="main">*</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_int <span class="free">a</span> <span class="main">*</span> octo_of_int <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_int_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">b</span> <span class="main">≤</span> <span class="free">a</span> <span class="main">⟹</span> octo_of_int <span class="main">(</span><span class="free">a</span> <span class="main">-</span> <span class="free">b</span><span class="main">)</span> <span class="main">=</span> octo_of_int <span class="free">a</span> <span class="main">-</span> octo_of_int <span class="free">b</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_int_0 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_int <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> octo_of_int_1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_int <span class="main">1</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components<span class="main">)</span>

<span class="keyword1"><span class="command">instance</span></span> octo <span class="main">::</span> <span class="quoted">numeral</span> <span class="keyword1"><span class="command">..</span></span>

<span class="keyword1" id="Octonions-numeral_octo_conv_of_nat"><span class="command">lemma</span></span> numeral_octo_conv_of_nat<span class="main">:</span> <span class="quoted"><span class="quoted">"numeral <span class="free">x</span> <span class="main">=</span> octo_of_nat <span class="main">(</span>numeral <span class="free">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">induction</span> <span class="quoted"><span class="free">x</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span><span class="main">(</span>Bit0 <span class="skolem">x</span><span class="main">)</span> 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"numeral <span class="skolem">x</span><span class="main">+</span> numeral <span class="skolem">x</span> <span class="main">=</span> octo_of_nat<span class="main">(</span>numeral <span class="skolem">x</span><span class="main">+</span> numeral <span class="skolem">x</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> Bit0.IH octo_of_nat_add <span class="keyword1"><span class="command">..</span></span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_Bit0<span class="main">)</span>
<span class="keyword1"><span class="command">next</span></span> 
 <span class="keyword3"><span class="command">case</span></span><span class="main">(</span>Bit1 <span class="skolem">x</span><span class="main">)</span> 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"numeral <span class="skolem">x</span><span class="main">+</span> numeral <span class="skolem">x</span> <span class="main">+</span> numeral num.One<span class="main">=</span>
octo_of_nat <span class="main">(</span>numeral <span class="skolem">x</span> <span class="main">+</span> numeral <span class="skolem">x</span> <span class="main">+</span> numeral num.One<span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> Bit1.IH octo_of_nat_add <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_Bit1<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-numeral_octo_sel"><span class="command">lemma</span></span> numeral_octo_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> numeral <span class="free">n</span>"</span></span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>numeral <span class="free">n</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_octo_conv_of_nat<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_numeral"><span class="command">lemma</span></span> octo_of_real_numeral <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> numeral <span class="free">w</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_octo_conv_of_nat octo_of_real_def octo_of_nat_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_neg_numeral"><span class="command">lemma</span></span> octo_of_real_neg_numeral <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="main">-</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> numeral <span class="free">w</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-octo_of_real_times_commute"><span class="command">lemma</span></span> octo_of_real_times_commute<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">r</span> <span class="main">*</span> <span class="free">q</span> <span class="main">=</span> <span class="free">q</span> <span class="main">*</span> octo_of_real <span class="free">r</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_def times_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-octo_of_real_times_conv_scaleR"><span class="command">lemma</span></span> octo_of_real_times_conv_scaleR<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">=</span> scaleR <span class="free">x</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_mult_scaleR_left"><span class="command">lemma</span></span> octo_mult_scaleR_left<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">r</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="free">y</span> <span class="main">=</span> <span class="free">r</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_mult_scaleR_right"><span class="command">lemma</span></span> octo_mult_scaleR_right<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">*</span> <span class="main">(</span><span class="free">r</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">r</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components <span class="dynamic"><span class="dynamic">algebra_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-scaleR_octo_of_real"><span class="command">lemma</span></span> scaleR_octo_of_real <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"scaleR <span class="free">r</span> <span class="main">(</span>octo_of_real <span class="free">s</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="main">(</span><span class="free">r</span> <span class="main">*</span> <span class="free">s</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_times_left_commute"><span class="command">lemma</span></span> octo_of_real_times_left_commute<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">r</span> <span class="main">*</span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> <span class="main">(</span>octo_of_real <span class="free">r</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_of_real_times_conv_scaleR <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_scaleR_right<span class="main">)</span>

<span class="keyword1" id="Octonions-nonzero_octo_of_real_inverse"><span class="command">lemma</span></span> nonzero_octo_of_real_inverse<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">≠</span> <span class="main">0</span> <span class="main">⟹</span> octo_of_real <span class="main">(</span>inverse <span class="free">x</span><span class="main">)</span> <span class="main">=</span> inverse <span class="main">(</span>octo_of_real <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff power2_eq_square <span class="dynamic"><span class="dynamic">divide_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_inverse"><span class="command">lemma</span></span> octo_of_real_inverse <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>inverse <span class="free">x</span><span class="main">)</span> <span class="main">=</span> inverse <span class="main">(</span>octo_of_real <span class="free">x</span> <span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff power2_eq_square <span class="dynamic"><span class="dynamic">divide_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-nonzero_octo_of_real_divide"><span class="command">lemma</span></span> nonzero_octo_of_real_divide<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">≠</span> <span class="main">0</span> <span class="main">⟹</span> octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">/</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>octo_of_real <span class="free">x</span> <span class="main">/</span> octo_of_real <span class="free">y</span> <span class="main">::</span>octo<span class="main">)</span>"</span></span>
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> divide_inverse divide_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_divide"><span class="command">lemma</span></span> octo_of_real_divide <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span><span class="free">x</span> <span class="main">/</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>octo_of_real <span class="free">x</span> <span class="main">/</span> octo_of_real <span class="free">y</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> divide_inverse divide_octo_def octo_of_real_def octo_of_real_inverse
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> octo_of_real_mult<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_inverse_collapse"><span class="command">lemma</span></span> octo_of_real_inverse_collapse <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">c</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span>   <span class="quoted"><span class="quoted">"octo_of_real <span class="free">c</span> <span class="main">*</span> octo_of_real <span class="main">(</span>inverse <span class="free">c</span><span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
          <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>inverse <span class="free">c</span><span class="main">)</span> <span class="main">*</span> octo_of_real <span class="free">c</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components power2_eq_square<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_divide_numeral"><span class="command">lemma</span></span> octo_divide_numeral<span class="main">:</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">x</span><span class="main">::</span><span class="quoted">octo</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">/</span> numeral <span class="free">y</span> <span class="main">=</span> <span class="free">x</span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> numeral <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_times_commute<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="quoted">"inverse <span class="main">(</span>numeral <span class="free">y</span><span class="main">)</span>"</span></span><span class="main">]</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> scaleR_conv_octo_of_real divide_octo_def <span class="quasi_keyword">flip</span><span class="main"><span class="main">:</span></span> octo_of_real_numeral<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_divide_numeral_sel"><span class="command">lemma</span></span> octo_divide_numeral_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Ree <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im1 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im2 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im3 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im4 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im5 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im6 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span><span class="main">)</span> <span class="main">=</span> Im7 <span class="free">x</span> <span class="main">/</span> numeral <span class="free">w</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_divide_numeral <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp_all</span>

<span class="keyword1" id="Octonions-octo_norm_units"><span class="command">lemma</span></span> octo_norm_units <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"norm octo_e1 <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e2</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e3</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e4</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span> "</span></span>  <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e5</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span>   <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e6</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span><span class="keyword1">e7</span><span class="main">::</span>octo<span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> norm_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-e1_nz"><span class="command">lemma</span></span> e1_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e1</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e2_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e2</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e3_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e3</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e4_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e4</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e5_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e5</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e6_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e6</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e7_nz <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e7</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹"Expansion" into the traditional notation›</span></span>

<span class="keyword1" id="Octonions-octo_unfold"><span class="command">lemma</span></span> octo_unfold<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">=</span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e0</span> <span class="main">+</span> <span class="main">(</span>Im1 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e1</span> <span class="main">+</span> <span class="main">(</span>Im2 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e2</span> <span class="main">+</span> <span class="main">(</span>Im3 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e3</span>
      <span class="main">+</span> <span class="main">(</span>Im4 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e4</span> <span class="main">+</span> <span class="main">(</span>Im5 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e5</span> <span class="main">+</span> <span class="main">(</span>Im6 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e6</span> <span class="main">+</span> <span class="main">(</span>Im7 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span>  <span class="keyword1">e7</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_trad"><span class="command">lemma</span></span> octo_trad<span class="main">:</span> <span class="quoted"><span class="quoted">"Octo <span class="free">x</span> <span class="free">y</span> <span class="free">z</span> <span class="free">w</span> <span class="free">u</span> <span class="free">v</span> <span class="free">q</span> <span class="free">g</span> <span class="main">=</span>
     <span class="free">x</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e0</span> <span class="main">+</span> <span class="free">y</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e1</span> <span class="main">+</span>  <span class="free">z</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e2</span>  <span class="main">+</span>  <span class="free">w</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e3</span>  <span class="main">+</span>  <span class="free">u</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e4</span> <span class="main">+</span>  <span class="free">v</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e5</span> <span class="main">+</span>  <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e6</span>  <span class="main">+</span>  <span class="free">g</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e7</span> "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_eq_Octo"><span class="command">lemma</span></span> octo_of_real_eq_Octo<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="free">a</span> <span class="main">=</span> Octo <span class="free">a</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> <span class="main">0</span> "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-e1_squared"><span class="command">lemma</span></span> e1_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e1</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e2_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e2</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e3_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e3</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e4_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e4</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e5_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e5</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e6_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e6</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> e7_squared <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">e7</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> <span class="main">-</span><span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff power2_eq_square_octo octo_mult_components<span class="main">)</span>

<span class="keyword1" id="Octonions-inverse_e1"><span class="command">lemma</span></span> inverse_e1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e1</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e1</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e2 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e2</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e2</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e3 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e3</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e3</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e4 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e4</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e4</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e5 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e5</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e5</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e6 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e6</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e6</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> inverse_e7 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="keyword1">e7</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e7</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Conjugate of an octonion and related properties.›</span></span>

<span class="keyword1"><span class="command">primcorec</span></span> <span class="entity">cnj</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"octo <span class="main">⇒</span> octo"</span></span>
  <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">"Ree <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> Ree <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im1 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im2 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im3 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im4 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im5 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im6 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>
  <span class="main">|</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span><span class="free">cnj</span> <span class="free"><span class="bound"><span class="entity">z</span></span></span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> Im7 <span class="free"><span class="bound"><span class="entity">z</span></span></span>"</span></span>

<span class="keyword1" id="Octonions-cnj_cancel_iff"><span class="command">lemma</span></span> cnj_cancel_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">x</span> <span class="main">=</span> cnj <span class="free">y</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>

<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"cnj <span class="free">x</span> <span class="main">=</span> cnj <span class="free">y</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-cnj_cnj"><span class="command">lemma</span></span> cnj_cnj <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
   <span class="quoted"><span class="quoted">"cnj<span class="main">(</span>cnj <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="free">q</span>"</span></span>
 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_of_real"><span class="command">lemma</span></span> cnj_of_real <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj<span class="main">(</span>octo_of_real <span class="free">x</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span>  octo_eq_iff
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_of_real_eq_Octo<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_zero"><span class="command">lemma</span></span> cnj_zero <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_zero_iff"><span class="command">lemma</span></span> cnj_zero_iff <span class="main">[</span><span class="operator">iff</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">z</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> <span class="free">z</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
 <span class="keyword1"><span class="command">using</span></span> cnj_cnj   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> cnj_zero<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_one"><span class="command">lemma</span></span> cnj_one <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">1</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_one_iff"><span class="command">lemma</span></span> cnj_one_iff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">z</span> <span class="main">=</span> <span class="main">1</span> <span class="main">⟷</span> <span class="free">z</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_norm_cnj"><span class="command">lemma</span></span> octo_norm_cnj <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"norm<span class="main">(</span>cnj <span class="free">q</span><span class="main">)</span> <span class="main">=</span> norm <span class="free">q</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_add"><span class="command">lemma</span></span> cnj_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> cnj <span class="free">x</span> <span class="main">+</span> cnj <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span>  octo_eq_iff inner_real_def of_real_0 of_real_inner_1  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-cnj_sum"><span class="command">lemma</span></span> cnj_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">∑</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> cnj <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">S</span></span> <span class="quasi_keyword">rule</span><span class="main"><span class="main">:</span></span> infinite_finite_induct<span class="main">)</span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-cnj_diff"><span class="command">lemma</span></span> cnj_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="free">x</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> cnj <span class="free">x</span> <span class="main">-</span> cnj <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span>  octo_eq_iff
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> add.commute add_left_cancel cnj_add diff_add_cancel<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_minus"><span class="command">lemma</span></span> cnj_minus <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="main">-</span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> cnj <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span>  octo_eq_iff  cnj_cnj <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-cnj_inverse"><span class="command">lemma</span></span> cnj_inverse <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>inverse <span class="free">x</span><span class="main">)</span> <span class="main">=</span> inverse <span class="main">(</span>cnj <span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">using</span></span>  octo_eq_iff inner_real_def real_inner_1_right  <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-cnj_mult"><span class="command">lemma</span></span> cnj_mult <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> cnj <span class="free">y</span> <span class="main">*</span> cnj <span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">using</span></span> octo_eq_iff  times_octo_def octo_mult_components cnj_cnj
 mult_not_zero nonzero_inverse_mult_distrib  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-cnj_divide"><span class="command">lemma</span></span> cnj_divide <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="free">x</span> <span class="main">/</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>inverse <span class="main">(</span>cnj <span class="free">y</span><span class="main">)</span> <span class="main">)</span> <span class="main">*</span>  cnj <span class="free">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span> <span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">unfolding</span></span>  divide_octo_def times_octo_def
  <span class="keyword1"><span class="command">using</span></span> cnj_inverse cnj_mult octo_mult_components  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> times_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_power"><span class="command">lemma</span></span> cnj_power <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="free">x</span> <span class="main">^</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>cnj <span class="free">x</span><span class="main">)</span> <span class="main">^</span> <span class="free">y</span>"</span></span>  <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span><span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induction</span> <span class="quoted"><span class="free">y</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_power_commutes<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_of_nat"><span class="command">lemma</span></span> cnj_of_nat <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>octo_of_nat <span class="free">x</span><span class="main">)</span> <span class="main">=</span> octo_of_nat<span class="main">(</span> <span class="free">x</span><span class="main">)</span>"</span></span> 
   <span class="keyword1"><span class="command">using</span></span> cnj_of_real octo_of_real_of_nat_eq <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span> 

<span class="keyword1" id="Octonions-cnj_of_int"><span class="command">lemma</span></span> cnj_of_int <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>octo_of_int <span class="free">x</span><span class="main">)</span> <span class="main">=</span> octo_of_nat<span class="main">(</span> <span class="free">x</span><span class="main">)</span>"</span></span>
   <span class="keyword1"><span class="command">using</span></span>  octo_of_real_def  octo_of_real_of_int_eq  octo_of_int_def octo_of_nat_def
   cnj_of_real <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-cnj_numeral"><span class="command">lemma</span></span> cnj_numeral <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>numeral <span class="free">x</span><span class="main">)</span> <span class="main">=</span> numeral <span class="free">x</span>"</span></span> 
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_octo_conv_of_nat<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_neg_numeral"><span class="command">lemma</span></span> cnj_neg_numeral <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span><span class="main">-</span> numeral <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> numeral <span class="free">x</span>"</span></span>
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numeral_octo_conv_of_nat<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_scaleR"><span class="command">lemma</span></span> cnj_scaleR <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="main">(</span>scaleR <span class="free">r</span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> scaleR <span class="free">r</span> <span class="main">(</span>cnj <span class="free">x</span><span class="main">)</span>"</span></span>
   <span class="keyword1"><span class="command">using</span></span> octo_eq_iff inner_real_def ln_one of_real_inner_1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-cnj_units"><span class="command">lemma</span></span> cnj_units <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e1</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e1</span>"</span></span> <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e2</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e2</span>"</span></span> <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e3</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e3</span>"</span></span>
 <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e4</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e4</span>"</span></span>   <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e5</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e5</span>"</span></span>   <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e6</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e6</span>"</span></span>  <span class="quoted"><span class="quoted">"cnj <span class="keyword1">e7</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">e7</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-cnj_eq_of_real"><span class="command">lemma</span></span> cnj_eq_of_real<span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="free">x</span> <span class="main">⟷</span> <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"cnj <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="free">x</span> <span class="main">⟹</span> <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="free">x</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> cnj_of_real cnj_cnj<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-octo_trad_cnj"><span class="command">lemma</span></span> octo_trad_cnj <span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">q</span> <span class="main">=</span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e0</span> <span class="main">-</span> <span class="main">(</span>Im1 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e1</span> <span class="main">-</span> <span class="main">(</span>Im2 <span class="free">q</span><span class="main">)</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e2</span>  <span class="main">-</span> <span class="main">(</span>Im3 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e3</span>  <span class="main">-</span> 
 <span class="main">(</span>Im4 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e4</span> <span class="main">-</span>  <span class="main">(</span>Im5 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e5</span> <span class="main">-</span>  <span class="main">(</span>Im6 <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e6</span>  <span class="main">-</span>  <span class="main">(</span>Im7 <span class="free">q</span><span class="main">)</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e7</span> "</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">q</span><span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">using</span></span> cnj_cnj octo_unfold octo_trad cnj_def Octonions.cnj.code <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-octonion_conjugate_property"><span class="command">lemma</span></span> octonion_conjugate_property<span class="main">:</span>
  <span class="quoted"><span class="quoted">"cnj <span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">1</span><span class="main">/</span><span class="numeral">6</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="main">(</span><span class="keyword1">e1</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span>  <span class="keyword1">e1</span>  <span class="main">+</span>  <span class="main">(</span><span class="keyword1">e2</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e2</span> <span class="main">+</span>  <span class="main">(</span><span class="keyword1">e3</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e3</span> <span class="main">+</span>
     <span class="main">(</span><span class="keyword1">e4</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e4</span> <span class="main">+</span> <span class="main">(</span><span class="keyword1">e5</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e5</span> <span class="main">+</span>  <span class="main">(</span> <span class="keyword1">e6</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e6</span> <span class="main">+</span> <span class="main">(</span><span class="keyword1">e7</span> <span class="main">*</span> <span class="free">x</span><span class="main">)</span> <span class="main">*</span> <span class="keyword1">e7</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_add_cnj"><span class="command">lemma</span></span> octo_add_cnj<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">+</span> cnj <span class="free">q</span> <span class="main">=</span> <span class="numeral">2</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e0</span>"</span></span> <span class="quoted"><span class="quoted">"cnj <span class="free">q</span> <span class="main">+</span> <span class="free">q</span> <span class="main">=</span> <span class="main">(</span><span class="numeral">2</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e0</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_add_cnj1"><span class="command">lemma</span></span> octo_add_cnj1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">+</span> cnj <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="main">(</span><span class="numeral">2</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span><span class="main">)</span>"</span></span> 
                     <span class="quoted"><span class="quoted">"cnj <span class="free">q</span> <span class="main">+</span> <span class="free">q</span> <span class="main">=</span> octo_of_real <span class="main">(</span><span class="numeral">2</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_subtract_cnj"><span class="command">lemma</span></span> octo_subtract_cnj<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">-</span> cnj <span class="free">q</span> <span class="main">=</span> <span class="numeral">2</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Im1 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e1</span> <span class="main">+</span> Im2 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e2</span> <span class="main">+</span> Im3 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e3</span> <span class="main">+</span> 
                     Im4 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e4</span> <span class="main">+</span> Im5 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e5</span> <span class="main">+</span> Im6 <span class="free">q</span><span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e6</span> <span class="main">+</span> Im7 <span class="free">q</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="keyword1">e7</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_mult_cnj_commute"><span class="command">lemma</span></span> octo_mult_cnj_commute<span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> cnj <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> times_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-octo_cnj_mult_conv_norm"><span class="command">lemma</span></span> octo_cnj_mult_conv_norm<span class="main">:</span> <span class="quoted"><span class="quoted">"cnj <span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> octo_of_real <span class="main">(</span>norm <span class="free">x</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components norm_octo_def power2_eq_square
           <span class="quasi_keyword">flip</span><span class="main"><span class="main">:</span></span> octo_of_real_power<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_mult_cnj_conv_norm"><span class="command">lemma</span></span> octo_mult_cnj_conv_norm<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">*</span> cnj <span class="free">x</span> <span class="main">=</span> octo_of_real <span class="main">(</span>norm <span class="free">x</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components norm_octo_def power2_eq_square 
           <span class="quasi_keyword">flip</span><span class="main"><span class="main">:</span></span> octo_of_real_power<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_mult_cnj_conv_norm_aux"><span class="command">lemma</span></span> octo_mult_cnj_conv_norm_aux<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span>norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> cnj <span class="free">x</span> "</span></span> 
  <span class="keyword1"><span class="command">using</span></span> octo_mult_cnj_conv_norm<span class="main">[</span><span class="operator">of</span> <span class="quoted"><span class="free">x</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_cnj_commute<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_norm_conj"><span class="command">lemma</span></span> octo_norm_conj<span class="main">:</span> <span class="quoted"><span class="quoted">"octo_of_real <span class="main">(</span> inner <span class="free">x</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">1</span><span class="main">/</span><span class="numeral">2</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="main">(</span>cnj <span class="free">y</span><span class="main">)</span> <span class="main">+</span> <span class="free">y</span> <span class="main">*</span> <span class="main">(</span>cnj <span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components inner_octo_def<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_inverse_cnj"><span class="command">lemma</span></span> octo_inverse_cnj<span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="free">x</span> <span class="main">=</span> cnj <span class="free">x</span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_eq_iff norm_octo_def <span class="dynamic"><span class="dynamic">field_simps</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-inverse_octo_1"><span class="command">lemma</span></span> inverse_octo_1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">≠</span> <span class="main">0</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">*</span> inverse <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="main">1</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_scaleR_right octo_mult_cnj_conv_norm_aux <span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span> 
                <span class="dynamic"><span class="dynamic">divide_simps</span></span> octo_inverse_cnj
           <span class="quasi_keyword">del</span><span class="main"><span class="main">:</span></span> octo_of_real_power<span class="main">)</span>

<span class="keyword1" id="Octonions-inverse_octo_1_sym"><span class="command">lemma</span></span> inverse_octo_1_sym<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">≠</span> <span class="main">0</span> <span class="main">⟹</span> inverse <span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="main">1</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> cnj_cnj cnj_inverse cnj_mult cnj_one cnj_zero inverse_octo_1<span class="main">)</span>

<span class="keyword1" id="Octonions-inverse_0_octo"><span class="command">lemma</span></span> inverse_0_octo <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="main">0</span> <span class="main">=</span> <span class="main">(</span><span class="main">0</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-inverse_octo_commutes"><span class="command">lemma</span></span> inverse_octo_commutes<span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">*</span> <span class="main">(</span>inverse <span class="free">x</span> <span class="main">::</span> octo<span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">cases</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">0</span>"</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> inverse_octo_1 inverse_octo_1_sym<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_inverse_mult"><span class="command">lemma</span></span> octo_inverse_mult<span class="main">:</span> <span class="quoted"><span class="quoted">"inverse <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> inverse <span class="free">y</span> <span class="main">*</span> inverse <span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">x</span> <span class="free">y</span><span class="main">::</span><span class="quoted">octo</span>
<span class="keyword1"><span class="command">proof</span></span><span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"inverse <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span>cnj <span class="free">y</span> <span class="main">*</span> cnj <span class="free">x</span><span class="main">)</span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>norm <span class="main">(</span><span class="free">x</span> <span class="main">*</span> <span class="free">y</span><span class="main">)</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_inverse_cnj<span class="main">)</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span>cnj <span class="free">y</span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> norm <span class="free">y</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span> <span class="main">*</span> <span class="main">(</span>cnj <span class="free">x</span> <span class="keyword1">/<span class="hidden">⇩</span><sub>R</sub></span> norm <span class="free">x</span> <span class="main">^</span> <span class="numeral">2</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_scaleR_left octo_mult_scaleR_right multiplicative_norm_octo
                   power2_eq_square<span class="main">)</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> inverse <span class="free">y</span> <span class="main">*</span> inverse <span class="free">x</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_inverse_cnj<span class="main">)</span>
   <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Octonions-octo_inverse_eq_cnj"><span class="command">lemma</span></span> octo_inverse_eq_cnj<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="free">q</span> <span class="main">=</span> <span class="main">1</span> <span class="main">⟹</span> inverse <span class="free">q</span> <span class="main">=</span> cnj <span class="free">q</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="free">q</span><span class="main">::</span><span class="quoted">octo</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_inverse_cnj<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_in_Reals_if_Re"><span class="command">lemma</span></span> octo_in_Reals_if_Re<span class="main">:</span> <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">q</span> <span class="main">::</span><span class="quoted">real</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">" Ree<span class="main">(</span> octo_of_real<span class="main">(</span><span class="free">q</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">q</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-octo_in_Reals_if_Re_con"><span class="command">lemma</span></span> octo_in_Reals_if_Re_con<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>octo_of_real <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="free">q</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">∈</span> Reals"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Reals_of_real inner_real_def mult.right_neutral of_real_inner_1<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_in_Reals_if_cnj"><span class="command">lemma</span></span> octo_in_Reals_if_cnj<span class="main">:</span> <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free">q</span><span class="main">::</span> <span class="quoted">real</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">" cnj<span class="main">(</span> octo_of_real<span class="main">(</span> <span class="free">q</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">q</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-octo_in_Reals_if_cnj_con"><span class="command">lemma</span></span> octo_in_Reals_if_cnj_con<span class="main">:</span> <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">" cnj<span class="main">(</span> octo_of_real<span class="main">(</span> <span class="free">q</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> octo_of_real <span class="free">q</span>"</span></span> 
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">∈</span> Reals "</span></span>
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Reals_of_real inner_real_def mult.right_neutral of_real_inner_1<span class="main">)</span>

<span class="keyword1" id="Octonions-norm_power2"><span class="command">lemma</span></span> norm_power2<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="free">q</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> Ree <span class="main">(</span>cnj <span class="free">q</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_components norm_octo_def power2_eq_square<span class="main">)</span>

<span class="keyword1" id="Octonions-norm_power2_cnj"><span class="command">lemma</span></span> norm_power2_cnj<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="free">q</span> <span class="main">^</span> <span class="numeral">2</span> <span class="main">=</span> Ree <span class="main">(</span><span class="free">q</span> <span class="main">*</span> cnj <span class="free">q</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_mult_components norm_octo_def power2_eq_square<span class="main">)</span>

<span class="keyword1" id="Octonions-octo_norm_imaginary"><span class="command">lemma</span></span> octo_norm_imaginary<span class="main">:</span> <span class="quoted"><span class="quoted">"Ree <span class="free">x</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">*</span> <span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span>octo_of_real <span class="main">(</span>norm <span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components norm_octo_def power2_eq_square
           <span class="quasi_keyword">flip</span><span class="main"><span class="main">:</span></span> octo_of_real_power octo_of_real_mult<span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹ Linearity and continuity of the components.›</span></span>

<span class="keyword1" id="Octonions-bounded_linear_Ree"><span class="command">lemma</span></span> bounded_linear_Ree<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Ree"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im1<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im1"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im2<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im2"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im3<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im3"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im4<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im4"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im5<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im5"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im6<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im6"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> bounded_linear_Im7<span class="main">:</span> <span class="quoted"><span class="quoted">"bounded_linear Im7"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> bounded_linear_intro <span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> K<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="main">1</span></span><span class="main"><span class="main">]</span></span> norm_octo_def real_le_rsqrt add.assoc<span class="main">)</span>

<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Ree <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im1 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im2 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im3 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im4 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im5 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im6 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> Cauchy_Im7 <span class="main">=</span> bounded_linear.Cauchy <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Re <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im1 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im2 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im3 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im4 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im5 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im6 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> tendsto_Im7 <span class="main">[</span><span class="operator">tendsto_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.tendsto <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> isCont_Ree <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im2 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im3 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im4 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im5 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im6 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> isCont_Im7 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.isCont <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> continuous_Ree <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im2 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im3 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im4 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im5 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im6 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_Im7 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Ree <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im1 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im2 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im3 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im4 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im5 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im6 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> continuous_on_Im7 <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.continuous_on<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Ree <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im1 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im2 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im3 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im4 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im5 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im6 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> has_derivative_Im7 <span class="main">[</span><span class="operator">derivative_intros</span><span class="main">]</span> <span class="main">=</span> bounded_linear.has_derivative<span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">lemmas</span></span> sums_Ree <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Ree<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im1 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im1<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im2 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im2<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im3 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im3<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im4 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im4<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im5 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im5<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im6 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im6<span class="main">]</span>
<span class="keyword1"><span class="command">lemmas</span></span> sums_Im7 <span class="main">=</span> bounded_linear.sums <span class="main">[</span><span class="operator">OF</span> bounded_linear_Im7<span class="main">]</span>

<span class="keyword1"><span class="command">subsubsection</span></span><span class="quoted"><span class="plain_text">‹ Octonionic-specific theorems about sums.                                ›</span></span>

<span class="keyword1" id="Octonions-Ree_sum"><span class="command">lemma</span></span> Ree_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span>  Ree<span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im1_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im1 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im2_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im2 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im3_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im3 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im4_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im4 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im5_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im5 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im6_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im6 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword2"><span class="keyword">and</span></span> Im7_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> sum <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Im7 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="free">S</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">S</span></span> <span class="quasi_keyword">rule</span><span class="main"><span class="main">:</span></span> infinite_finite_induct<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>

<span class="keyword1"><span class="command">subsubsection</span></span><span class="quoted"><span class="plain_text">‹ Bound results for real and imaginary components of limits.                ›</span></span>

<span class="keyword1" id="Octonions-Ree_tendsto_upperbound"><span class="command">lemma</span></span> Ree_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> octo.Ree <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Ree <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Re<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im1_tendsto_upperbound"><span class="command">lemma</span></span> Im1_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im1 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im1 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im1<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im2_tendsto_upperbound"><span class="command">lemma</span></span> Im2_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im2 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im2 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im2<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im3_tendsto_upperbound"><span class="command">lemma</span></span> Im3_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im3 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im3 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im3<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im4_tendsto_upperbound"><span class="command">lemma</span></span> Im4_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im4 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im4 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im4<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im5_tendsto_upperbound"><span class="command">lemma</span></span> Im5_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im5 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im5 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im5<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im6_tendsto_upperbound"><span class="command">lemma</span></span> Im6_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im6 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im6 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im6<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im7_tendsto_upperbound"><span class="command">lemma</span></span> Im7_tendsto_upperbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> Im7 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span> <span class="main">≤</span> <span class="free">b</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> Im7 <span class="free">limit</span> <span class="main">≤</span> <span class="free">b</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_upperbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im7<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Ree_tendsto_lowerbound"><span class="command">lemma</span></span> Ree_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> octo.Ree <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Ree <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Re<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im1_tendsto_lowerbound"><span class="command">lemma</span></span> Im1_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im1 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im1 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im1<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im2_tendsto_lowerbound"><span class="command">lemma</span></span> Im2_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im2 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im2 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im2<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im3_tendsto_lowerbound"><span class="command">lemma</span></span> Im3_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im3 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im3 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im3<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im4_tendsto_lowerbound"><span class="command">lemma</span></span> Im4_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im4 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im4 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im4<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im5_tendsto_lowerbound"><span class="command">lemma</span></span> Im5_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im5 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im5 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im5<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im6_tendsto_lowerbound"><span class="command">lemma</span></span> Im6_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im6 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im6 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im6<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-Im7_tendsto_lowerbound"><span class="command">lemma</span></span> Im7_tendsto_lowerbound<span class="main">:</span>
   <span class="quoted"><span class="quoted">"<span class="main">⟦</span><span class="main">(</span><span class="free">f</span> <span class="main">⤏</span> <span class="free">limit</span><span class="main">)</span> <span class="free">net</span><span class="main">;</span> <span class="keyword1">∀<span class="hidden">⇩</span><sub>F</sub></span> <span class="bound">x</span> <span class="keyword1">in</span> <span class="free">net</span><span class="main">.</span> <span class="free">b</span> <span class="main">≤</span> Im7 <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">;</span> <span class="free">net</span> <span class="main">≠</span> bot<span class="main">⟧</span> <span class="main">⟹</span> <span class="free">b</span> <span class="main">≤</span> Im7 <span class="free">limit</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">blast</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> tendsto_lowerbound <span class="main"><span class="main">[</span></span><span class="operator">OF</span> tendsto_Im7<span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_continuous"><span class="command">lemma</span></span> octo_of_real_continuous <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"continuous <span class="free">net</span> <span class="free">f</span> <span class="main">⟹</span> continuous <span class="free">net</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_of_real_def <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">continuous_intros</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-octo_of_real_continuous_on"><span class="command">lemma</span></span> octo_of_real_continuous_on <span class="main">[</span><span class="operator">continuous_intros</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"continuous_on <span class="free">S</span> <span class="free">f</span> <span class="main">⟹</span> continuous_on <span class="free">S</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> octo_of_real_def <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">continuous_intros</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-of_real_continuous_iff"><span class="command">lemma</span></span> of_real_continuous_iff<span class="main">:</span> <span class="quoted"><span class="quoted">"continuous <span class="free">net</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⟷</span> continuous <span class="free">net</span> <span class="free">f</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">safe</span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"continuous <span class="free">net</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"continuous <span class="free">net</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Ree <span class="main">(</span>octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> continuous_Ree<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"continuous <span class="free">net</span> <span class="free">f</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">continuous_intros</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-of_real_continuous_on_iff"><span class="command">lemma</span></span> of_real_continuous_on_iff<span class="main">:</span>
   <span class="quoted"><span class="quoted">"continuous_on <span class="free">S</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real<span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⟷</span> continuous_on <span class="free">S</span> <span class="free">f</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">safe</span>
  <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"continuous_on <span class="free">S</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"continuous_on <span class="free">S</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> Ree <span class="main">(</span>octo_of_real <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> continuous_on_Ree<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">"continuous_on <span class="free">S</span> <span class="free">f</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">:</span></span> <span class="dynamic"><span class="dynamic">continuous_intros</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹Octonions for describing 7D isometries›</span></span>

<span class="keyword1"><span class="command">subsubsection</span></span><span class="quoted"><span class="plain_text">‹The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>HIm›</span></span></span></span> operator›</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">HIm</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"octo <span class="main">⇒</span> real<span class="main">^</span><span class="numeral">7</span>"</span></span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">HIm</span> <span class="free"><span class="bound"><span class="entity">q</span></span></span> <span class="main">≡</span> vector<span class="main">[</span>Im1 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im2 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im3 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im4 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im5 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im6 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">,</span> Im7 <span class="free"><span class="bound"><span class="entity">q</span></span></span><span class="main">]</span>"</span></span>

<span class="keyword1" id="Octonions-HIm_Octo"><span class="command">lemma</span></span> HIm_Octo<span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span>Octo <span class="free">w</span> <span class="free">x</span> <span class="free">y</span> <span class="free">z</span> <span class="free">u</span> <span class="free">v</span> <span class="free">q</span> <span class="free">g</span><span class="main">)</span> <span class="main">=</span> vector<span class="main">[</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">,</span><span class="free">z</span><span class="main">,</span> <span class="free">u</span><span class="main">,</span> <span class="free">v</span><span class="main">,</span> <span class="free">q</span><span class="main">,</span> <span class="free">g</span><span class="main">]</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def<span class="main">)</span>

<span class="keyword1" id="Octonions-him_eq"><span class="command">lemma</span></span> him_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="free">a</span> <span class="main">=</span> HIm <span class="free">b</span> <span class="main">⟷</span> Im1 <span class="free">a</span> <span class="main">=</span> Im1 <span class="free">b</span> <span class="main">∧</span> Im2 <span class="free">a</span> <span class="main">=</span> Im2 <span class="free">b</span> <span class="main">∧</span> Im3 <span class="free">a</span> <span class="main">=</span> Im3 <span class="free">b</span>
 <span class="main">∧</span> Im4 <span class="free">a</span> <span class="main">=</span> Im4 <span class="free">b</span> <span class="main">∧</span> Im5 <span class="free">a</span> <span class="main">=</span> Im5 <span class="free">b</span> <span class="main">∧</span> Im6 <span class="free">a</span> <span class="main">=</span> Im6 <span class="free">b</span> <span class="main">∧</span> Im7 <span class="free">a</span> <span class="main">=</span> Im7 <span class="free">b</span>"</span></span>

  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> HIm_def vector_7<span class="main">)</span>

<span class="keyword1" id="Octonions-him_of_real"><span class="command">lemma</span></span> him_of_real <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm<span class="main">(</span>octo_of_real <span class="free">a</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> 
 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span>octo_of_real_eq_Octo HIm_Octo vec_eq_iff vector_def<span class="main">)</span>

<span class="keyword1" id="Octonions-him_0"><span class="command">lemma</span></span> him_0 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> him_of_real octo_of_real_0<span class="main">)</span>

<span class="keyword1" id="Octonions-him_1"><span class="command">lemma</span></span> him_1 <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">1</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
 <span class="keyword1"><span class="command">using</span></span> HIm_def him_0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-him_cnj"><span class="command">lemma</span></span> him_cnj<span class="main">:</span> <span class="quoted"><span class="quoted">"HIm<span class="main">(</span>cnj <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> HIm <span class="free">q</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def vec_eq_iff vector_def<span class="main">)</span>

<span class="keyword1" id="Octonions-him_mult_left"><span class="command">lemma</span></span> him_mult_left <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span><span class="free">a</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="free">a</span>  <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> HIm <span class="free">q</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def vec_eq_iff vector_def<span class="main">)</span>

<span class="keyword1" id="Octonions-him_mult_right"><span class="command">lemma</span></span> him_mult_right <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span><span class="free">q</span> <span class="main">*</span> octo_of_real <span class="free">a</span><span class="main">)</span> <span class="main">=</span> HIm <span class="free">q</span> <span class="main">*</span> of_real <span class="free">a</span>"</span></span>
 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Octonions.scaleR_conv_octo_of_real Real_Vector_Spaces.scaleR_conv_of_real
 him_mult_left octo_of_real_times_commute semiring_normalization_rules<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span><span class="main">)</span>

<span class="keyword1" id="Octonions-him_add"><span class="command">lemma</span></span> him_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> HIm <span class="free">x</span> <span class="main">+</span> HIm <span class="free">y</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span>  him_minus <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span> HIm <span class="free">x</span>"</span></span>
 <span class="keyword2"><span class="keyword">and</span></span>  him_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span><span class="free">x</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> HIm <span class="free">x</span> <span class="main">-</span> HIm <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def vec_eq_iff vector_def<span class="main">)</span>

<span class="keyword1" id="Octonions-him_sum"><span class="command">lemma</span></span> him_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">∑</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> HIm <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">S</span></span> <span class="quasi_keyword">rule</span><span class="main"><span class="main">:</span></span> infinite_finite_induct<span class="main">)</span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-linear_him"><span class="command">lemma</span></span> linear_him<span class="main">:</span> <span class="quoted"><span class="quoted">"linear HIm"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> linearI<span class="main">)</span>

<span class="keyword1"><span class="command">subsubsection</span></span><span class="quoted"><span class="plain_text">‹The <span class="antiquoted"><span class="raw_text"><span class="antiquoted"><span class="raw_text"><span class="operator"><span class="operator">‹</span></span>Hv›</span></span></span></span> operator›</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">Hv</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"real<span class="main">^</span><span class="numeral">7</span> <span class="main">⇒</span> octo"</span></span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">Hv</span> <span class="free"><span class="bound"><span class="entity">v</span></span></span> <span class="main">≡</span> Octo <span class="main">0</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="main">1</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">2</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">3</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">4</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">5</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">6</span><span class="main">)</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">v</span></span></span><span class="main">$</span><span class="numeral">7</span><span class="main">)</span>  "</span></span>

<span class="keyword1" id="Octonions-Hv_sel"><span class="command">lemma</span></span> Hv_sel <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"Ree <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="main">0</span>"</span></span> <span class="quoted"><span class="quoted">"Im1 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="main">1</span>"</span></span> <span class="quoted"><span class="quoted">"Im2 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">2</span>"</span></span> <span class="quoted"><span class="quoted">"Im3 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">3</span>"</span></span>
  <span class="quoted"><span class="quoted">"Im4 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">4</span>"</span></span> <span class="quoted"><span class="quoted">"Im5 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">5</span>"</span></span> <span class="quoted"><span class="quoted">"Im6 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">6</span>"</span></span> <span class="quoted"><span class="quoted">"Im7 <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="free">v</span> <span class="main">$</span> <span class="numeral">7</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_vec"><span class="command">lemma</span></span> hv_vec<span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>vec <span class="free">r</span><span class="main">)</span> <span class="main">=</span> Octo <span class="main">0</span> <span class="free">r</span> <span class="free">r</span> <span class="free">r</span> <span class="free">r</span> <span class="free">r</span> <span class="free">r</span> <span class="free">r</span> "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_eq_zero"><span class="command">lemma</span></span> hv_eq_zero <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="free">v</span> <span class="main">=</span> <span class="main">0</span> <span class="main">⟷</span> <span class="free">v</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff vec_eq_iff<span class="main">)</span> <span class="main">(</span><span class="operator">metis</span> exhaust_7<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_zero"><span class="command">lemma</span></span> hv_zero <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="main">0</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1" id="Octonions-hv_vector"><span class="command">lemma</span></span> hv_vector <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>vector<span class="main">[</span><span class="free">x</span><span class="main">,</span><span class="free">y</span><span class="main">,</span><span class="free">z</span><span class="main">,</span><span class="free">u</span><span class="main">,</span><span class="free">v</span><span class="main">,</span><span class="free">q</span><span class="main">,</span><span class="free">g</span><span class="main">]</span><span class="main">)</span> <span class="main">=</span> Octo <span class="main">0</span> <span class="free">x</span> <span class="free">y</span> <span class="free">z</span> <span class="free">u</span> <span class="free">v</span> <span class="free">q</span> <span class="free">g</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_basis"><span class="command">lemma</span></span> hv_basis<span class="main">:</span>
  <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="main">1</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e1</span>"</span></span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">2</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e2</span>"</span></span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">3</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e3</span>"</span></span>
  <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">4</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e4</span>"</span></span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">5</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e5</span>"</span></span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">6</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e6</span>"</span></span>  <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>axis <span class="numeral">7</span> <span class="main">1</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">e7</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_add"><span class="command">lemma</span></span> hv_add <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span><span class="free">x</span> <span class="main">+</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> Hv <span class="free">x</span> <span class="main">+</span> Hv <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_minus"><span class="command">lemma</span></span> hv_minus <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span>Hv <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_diff"><span class="command">lemma</span></span> hv_diff <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span><span class="free">x</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> Hv <span class="free">x</span> <span class="main">-</span> Hv <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_cmult"><span class="command">lemma</span></span> hv_cmult <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
 <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>scaleR <span class="free">a</span>   <span class="free">x</span><span class="main">)</span> <span class="main">=</span> scaleR <span class="free">a</span>  <span class="main">(</span> Hv <span class="free">x</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_sum"><span class="command">lemma</span></span> hv_sum <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="main">(</span>sum <span class="free">f</span> <span class="free">S</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">∑</span><span class="bound">x</span><span class="main">∈</span><span class="free">S</span><span class="main">.</span> Hv <span class="main">(</span><span class="free">f</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">S</span></span> <span class="quasi_keyword">rule</span><span class="main"><span class="main">:</span></span> infinite_finite_induct<span class="main">)</span> <span class="operator">auto</span>

<span class="keyword1" id="Octonions-hv_inj"><span class="command">lemma</span></span> hv_inj<span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="free">x</span> <span class="main">=</span> Hv <span class="free">y</span> <span class="main">⟷</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def octo_eq_iff vec_eq_iff<span class="main">)</span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>full_types<span class="main"><span class="main">)</span></span> exhaust_7<span class="main">)</span>

<span class="keyword1" id="Octonions-linear_hv"><span class="command">lemma</span></span> linear_hv<span class="main">:</span> <span class="quoted"><span class="quoted">"linear Hv"</span></span>
  <span class="keyword1"><span class="command">using</span></span> octo_of_real_def <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> linearI<span class="main">)</span>

<span class="keyword1" id="Octonions-him_hv"><span class="command">lemma</span></span> him_hv <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"HIm<span class="main">(</span>Hv <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">using</span></span> HIm_def hv_inj octo_eq_iff <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>

<span class="keyword1" id="Octonions-cnj_hv"><span class="command">lemma</span></span> cnj_hv <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"cnj<span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span>Hv <span class="free">v</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_him"><span class="command">lemma</span></span> hv_him<span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>HIm <span class="free">q</span><span class="main">)</span> <span class="main">=</span> Octo <span class="main">0</span> <span class="main">(</span>Im1 <span class="free">q</span><span class="main">)</span> <span class="main">(</span>Im2 <span class="free">q</span><span class="main">)</span> <span class="main">(</span>Im3 <span class="free">q</span><span class="main">)</span>  <span class="main">(</span>Im4 <span class="free">q</span><span class="main">)</span> <span class="main">(</span>Im5 <span class="free">q</span><span class="main">)</span> <span class="main">(</span>Im6 <span class="free">q</span><span class="main">)</span>  <span class="main">(</span>Im7 <span class="free">q</span><span class="main">)</span>  "</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def<span class="main">)</span>

<span class="keyword1" id="Octonions-hv_him_eq"><span class="command">lemma</span></span> hv_him_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"Hv<span class="main">(</span>HIm <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="free">q</span> <span class="main">⟷</span> Ree <span class="free">q</span> <span class="main">=</span> <span class="main">0</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> hv_him octo_eq_iff<span class="main">)</span>

<span class="keyword1" id="Octonions-dot_hv"><span class="command">lemma</span></span> dot_hv <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="free">u</span> <span class="main">∙</span> Hv <span class="free">v</span> <span class="main">=</span> <span class="free">u</span> <span class="main">∙</span> <span class="free">v</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Hv_def inner_octo_def inner_vec_def sum_7<span class="main">)</span>

<span class="keyword1" id="Octonions-norm_hv"><span class="command">lemma</span></span> norm_hv <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span>Hv <span class="free">v</span><span class="main">)</span> <span class="main">=</span> norm <span class="free">v</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> norm_eq<span class="main">)</span>

<span class="keyword1"><span class="command">subsubsection</span></span><span class="quoted"><span class="plain_text">‹Related basic identities ›</span></span>

<span class="keyword1" id="Octonions-mult_hv_eq_cross_dot"><span class="command">lemma</span></span> mult_hv_eq_cross_dot<span class="main">:</span> <span class="quoted"><span class="quoted">"Hv <span class="free">x</span> <span class="main">*</span> Hv <span class="free">y</span> <span class="main">=</span> Hv<span class="main">(</span><span class="free">x</span>  <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">-</span> octo_of_real <span class="main">(</span>inner <span class="free">x</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff inner_octo_def cross7_components octo_mult_components
                inner_vec_def sum_7<span class="main">)</span>

<span class="keyword1" id="Octonions-octonion_identity1_cross7"><span class="command">lemma</span></span> octonion_identity1_cross7 <span class="main">:</span>
  <span class="quoted"><span class="quoted">"Hv <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">1</span><span class="main">/</span><span class="numeral">2</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span>Hv <span class="free">x</span> <span class="main">*</span> Hv <span class="free">y</span> <span class="main">-</span> Hv <span class="free">y</span> <span class="main">*</span> Hv <span class="free">x</span><span class="main">)</span>"</span></span> 
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_eq_iff octo_mult_components cross7_components<span class="main">)</span>

<span class="keyword1" id="Octonions-octonion_identity2_cross7"><span class="command">lemma</span></span> octonion_identity2_cross7<span class="main">:</span>
  <span class="quoted"><span class="quoted">"Hv <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">z</span><span class="main">)</span> <span class="main">+</span> <span class="free">y</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">z</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">x</span><span class="main">)</span> <span class="main">+</span> <span class="free">z</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="main">(</span><span class="free">x</span> <span class="main">×<span class="hidden">⇩</span><sub>7</sub></span> <span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span>
     <span class="main">-</span><span class="main">(</span><span class="numeral">3</span><span class="main">/</span><span class="numeral">2</span><span class="main">)</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="main">(</span>Hv <span class="free">x</span> <span class="main">*</span> Hv <span class="free">y</span><span class="main">)</span> <span class="main">*</span> Hv <span class="free">z</span> <span class="main">-</span> Hv <span class="free">x</span> <span class="main">*</span> <span class="main">(</span>Hv <span class="free">y</span> <span class="main">*</span> Hv <span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">unfolding</span></span> octo_eq_iff octo_mult_components cross7_components Hv_sel scaleR_octo.sel
            vector_add_component minus_octo.sel mult_zero_left mult_zero_right add_0_left
            add_0_right diff_0 diff_0_right
  <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>

<span class="keyword1"><span class="command">subsection</span></span><span class="quoted"><span class="plain_text">‹ Representing orthogonal transformations as conjugation or congruence with an octonion.›</span></span>

<span class="keyword1" id="Octonions-HIm_nth"><span class="command">lemma</span></span> HIm_nth <span class="main">[</span><span class="operator">simp</span><span class="main">]</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="main">1</span> <span class="main">=</span> Im1 <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">2</span> <span class="main">=</span> Im2 <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">3</span> <span class="main">=</span> Im3 <span class="free">x</span>"</span></span>  <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">4</span> <span class="main">=</span> Im4 <span class="free">x</span>"</span></span>
  <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">5</span> <span class="main">=</span> Im5 <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">6</span> <span class="main">=</span> Im6 <span class="free">x</span>"</span></span> <span class="quoted"><span class="quoted">"HIm <span class="free">x</span> <span class="main">$</span> <span class="numeral">7</span> <span class="main">=</span> Im7 <span class="free">x</span>"</span></span>               
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> HIm_def<span class="main">)</span>

<span class="keyword1" id="Octonions-orthogonal_transformation_octo_congruence"><span class="command">lemma</span></span> orthogonal_transformation_octo_congruence<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"norm <span class="free">q</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"orthogonal_transformation <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> HIm<span class="main">(</span>cnj <span class="free">q</span> <span class="main">*</span> Hv <span class="bound">x</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> nq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im1 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im2 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im3 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im4 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im5 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im6 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im7 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">=</span> <span class="main">1</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> assms norm_octo_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span> 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"Vector_Spaces.linear <span class="keyword1">(*<span class="hidden">⇩</span><sub>R</sub>)</span> <span class="keyword1">(*<span class="hidden">⇩</span><sub>R</sub>)</span> <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> HIm <span class="main">(</span>Octonions.cnj <span class="free">q</span> <span class="main">*</span> Hv <span class="bound">x</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">unfold_locales</span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> octo_distrib_left octo_distrib_right
                                     octo_mult_scaleR_left octo_mult_scaleR_right<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span>Octonions.cnj <span class="free">q</span> <span class="main">*</span> Hv <span class="skolem">v</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span> <span class="main">∙</span> HIm <span class="main">(</span>Octonions.cnj <span class="free">q</span> <span class="main">*</span> Hv <span class="skolem">w</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span> <span class="main">=</span>
                   <span class="main">(</span><span class="main">(</span>Ree <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im1 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im2 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im3 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span><span class="main">+</span> <span class="main">(</span>Im4 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im5 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span> <span class="main">(</span>Im6 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span> <span class="main">+</span>
                   <span class="main">(</span>Im7 <span class="free">q</span><span class="main">)</span><span class="main"><span class="hidden">⇧</span><sup>2</sup></span><span class="main">)</span><span class="main">^</span><span class="numeral">2</span> <span class="main">*</span> <span class="main">(</span><span class="skolem">v</span> <span class="main">∙</span> <span class="skolem">w</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">v</span> <span class="skolem">w</span>
    <span class="keyword1"><span class="command">unfolding</span></span> octo_mult_components cnj.sel Hv_sel inner_vec_def sum_7 HIm_nth inner_real_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">algebra</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> orthogonal_transformation_def linear_def nq<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1" id="Octonions-orthogonal_transformation_octo_conjugation"><span class="command">lemma</span></span> orthogonal_transformation_octo_conjugation<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"orthogonal_transformation <span class="main">(</span><span class="main">λ</span><span class="bound">x</span><span class="main">.</span> HIm <span class="main">(</span>inverse <span class="free">q</span> <span class="main">*</span> Hv <span class="bound">x</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="skolem"><span class="skolem">d</span></span> <span class="keyword2"><span class="keyword">where</span></span> eq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">=</span> octo_of_real <span class="skolem">c</span> <span class="main">*</span> <span class="skolem">d</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">"norm <span class="skolem">d</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">show</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">q</span> <span class="main">=</span> octo_of_real <span class="main">(</span>norm <span class="free">q</span><span class="main">)</span> <span class="main">*</span> <span class="main">(</span>inverse <span class="main">(</span>octo_of_real <span class="main">(</span>norm <span class="free">q</span><span class="main">)</span><span class="main">)</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> assms norm_eq_zero right_inverse multiplicative_norm_octo
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Octonions.scaleR_conv_octo_of_real octo_of_real_inverse scaleR_one scaleR_scaleR<span class="main">)</span>
    <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">"norm <span class="main">(</span>inverse <span class="main">(</span>octo_of_real <span class="main">(</span>norm <span class="free">q</span><span class="main">)</span><span class="main">)</span> <span class="main">*</span> <span class="free">q</span><span class="main">)</span> <span class="main">=</span> <span class="main">1</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> assms 1  norm_octo_def norm_mult inverse_octo_1 inverse_octo_1_sym
      nonzero_octo_of_real_inverse  octo_inverse_eq_cnj
      cnj_of_real mult_cancel_left2 multiplicative_norm_octo
      norm_eq_zero norm_octo_squared norm_power2_cnj octo_mult_cnj_conv_norm power2_eq_square_octo
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
   <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">using</span></span> assms eq <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Octonions.scaleR_conv_octo_of_real scale_zero_left<span class="main">)</span>

  <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"HIm <span class="main">(</span>Octonions.cnj <span class="skolem">d</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span> <span class="main">=</span>
               HIm <span class="main">(</span>inverse <span class="main">(</span>octo_of_real <span class="skolem">c</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="main">(</span>octo_of_real <span class="skolem">c</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quasi_keyword">flip</span><span class="main"><span class="main">:</span></span> octo_inverse_eq_cnj <span class="main"><span class="main">[</span></span><span class="operator">OF</span> 1<span class="main"><span class="main">]</span></span> of_real_inverse<span class="main">)</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">c</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"inverse <span class="skolem">d</span> <span class="main">=</span> inverse <span class="skolem">d</span> <span class="main">*</span> inverse <span class="main">(</span><span class="skolem">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">1</span><span class="main">)</span> <span class="main">*</span> <span class="skolem">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">1</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> octo_of_real_def octo_of_real_inverse octo_of_real_inverse_collapse<span class="main">(</span>1<span class="main">)</span>
            octo_of_real_times_commute octo_of_real_times_left_commute <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"inverse <span class="skolem">d</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="skolem">d</span> <span class="main">=</span> inverse <span class="main">(</span><span class="skolem">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">1</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="skolem">c</span> <span class="keyword1">*<span class="hidden">⇩</span><sub>R</sub></span> <span class="main">(</span><span class="skolem">d</span> <span class="main">*</span> <span class="main">1</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>no_types<span class="main"><span class="main">)</span></span> mult_1_right_octo octo_inverse_mult octo_mult_scaleR_left
                           octo_mult_scaleR_right<span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span>
      <span class="quoted"><span class="quoted">"HIm <span class="main">(</span>inverse <span class="skolem">d</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span> <span class="main">=</span> HIm <span class="main">(</span>inverse <span class="main">(</span>octo_of_real <span class="skolem">c</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span> <span class="main">*</span> Hv <span class="skolem">x</span> <span class="main">*</span> <span class="main">(</span>octo_of_real <span class="skolem">c</span> <span class="main">*</span> <span class="skolem">d</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> octo_mult_scaleR_right octo_of_real_def octo_of_real_times_commute <span class="keyword1"><span class="command">by</span></span> <span class="operator">presburger</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> orthogonal_transformation_octo_congruence <span class="main">[</span><span class="operator">OF</span> 1<span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> eq<span class="main">)</span> 
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">unbundle</span></span> no_cross7_syntax

<span class="keyword1"><span class="command">bundle</span></span> octonion_syntax
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">notation</span></span> octo_e0 <span class="main">(</span><span class="quoted">"<span class="keyword1">e0</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e1 <span class="main">(</span><span class="quoted">"<span class="keyword1">e1</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e2 <span class="main">(</span><span class="quoted">"<span class="keyword1">e2</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e3 <span class="main">(</span><span class="quoted">"<span class="keyword1">e3</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e4 <span class="main">(</span><span class="quoted">"<span class="keyword1">e4</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e5 <span class="main">(</span><span class="quoted">"<span class="keyword1">e5</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e6 <span class="main">(</span><span class="quoted">"<span class="keyword1">e6</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">notation</span></span> octo_e7 <span class="main">(</span><span class="quoted">"<span class="keyword1">e7</span>"</span><span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">bundle</span></span> no_octonion_syntax
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">no_notation</span></span> octo_e0 <span class="main">(</span><span class="quoted">"<span class="keyword1">e0</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e1 <span class="main">(</span><span class="quoted">"<span class="keyword1">e1</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e2 <span class="main">(</span><span class="quoted">"<span class="keyword1">e2</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e3 <span class="main">(</span><span class="quoted">"<span class="keyword1">e3</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e4 <span class="main">(</span><span class="quoted">"<span class="keyword1">e4</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e5 <span class="main">(</span><span class="quoted">"<span class="keyword1">e5</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e6 <span class="main">(</span><span class="quoted">"<span class="keyword1">e6</span>"</span><span class="main">)</span>
<span class="keyword1"><span class="command">no_notation</span></span> octo_e7 <span class="main">(</span><span class="quoted">"<span class="keyword1">e7</span>"</span><span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">unbundle</span></span> no_octonion_syntax
<span class="keyword1"><span class="command">hide_const</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">open</span></span><span class="main">)</span> Octonions.cnj

<span class="keyword2"><span class="keyword">end</span></span></pre>
</div>