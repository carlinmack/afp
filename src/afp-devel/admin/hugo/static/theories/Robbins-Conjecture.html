<div id="Robbins_Conjecture">
<div class="head">
<h1>Theory Robbins_Conjecture</h1>
</div>
<pre class="source"><span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Robbins Conjecture›</span></span>

<span class="keyword1"><span class="command">theory</span></span> Robbins_Conjecture
<span class="keyword2"><span class="keyword">imports</span></span> <a href="../../HOL/HOL/Main.html">Main</a>
<span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹The document gives a formalization of the proof of the Robbins 
        conjecture, following A. Mann, \emph{A Complete Proof of the 
        Robbins Conjecture}, 2003, DOI 10.1.1.6.7838›</span></span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Axiom Systems›</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹The following presents several axiom systems that shall be under study.

        The first axiom sets common systems that underly all of 
        the systems we shall be looking at.

        The second system is a reformulation of Boolean algebra.  We shall 
        follow pages 7--8 in S. Koppelberg. \emph{General Theory of Boolean 
        Algebras}, Volume 1 of \emph{Handbook of Boolean Algebras}. North 
        Holland, 1989. Note that our formulation deviates slightly from this, 
        as we only provide one distribution axiom, as the dual is redundant.

        The third system is Huntington's algebra and the fourth system is 
        Robbins' algebra.

        Apart from the common system, all of these systems are demonstrated 
        to be equivalent to the library formulation of Boolean algebra, under 
        appropriate interpretation.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Common Algebras›</span></span>

<span class="keyword1"><span class="command">class</span></span> common_algebra <span class="main">=</span> uminus <span class="main">+</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free"><span class="free"><span class="free">inf</span></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">⊓</span></span></span>"</span> 70<span class="main">)</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free"><span class="free"><span class="free">sup</span></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">⊔</span></span></span>"</span> 65<span class="main">)</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free"><span class="free"><span class="free">bot</span></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">⊥</span></span></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">fixes</span></span> <span class="free"><span class="free"><span class="free">top</span></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">⊤</span></span></span>"</span><span class="main">)</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> sup_assoc<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">⊔</span></span> <span class="main">(</span><span class="free">y</span> <span class="main"><span class="free">⊔</span></span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main"><span class="free">⊔</span></span> <span class="free">y</span><span class="main">)</span> <span class="main"><span class="free">⊔</span></span> <span class="free">z</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> sup_comm<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main"><span class="free">⊔</span></span> <span class="free">y</span> <span class="main">=</span> <span class="free">y</span> <span class="main"><span class="free">⊔</span></span> <span class="free">x</span>"</span></span> 

<span class="keyword1"><span class="command">context</span></span> common_algebra <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">less_eq</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> bool"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊑</span>"</span> 50<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
   <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main"><span class="free">⊑</span></span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">⊔</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">less</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> bool"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊏</span>"</span> 50<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
   <span class="quoted"><span class="quoted">"<span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main"><span class="free">⊏</span></span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">⊑</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">∧</span> <span class="main">¬</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">⊑</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">minus</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span>"</span></span>  <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">-</span>"</span> 65<span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span> 
   <span class="quoted"><span class="quoted">"<span class="free">minus</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="free"><span class="bound"><span class="entity">y</span></span></span> <span class="main">=</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">⊓</span> <span class="main">-</span> <span class="free"><span class="bound"><span class="entity">y</span></span></span><span class="main">)</span>"</span></span>

<span class="comment1">(* We shall need some object in order to define falsum and verum *)</span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">secret_object1</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ι</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">ι</span></span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">SOME</span> <span class="bound">x</span><span class="main">.</span> True<span class="main">)</span>"</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">class</span></span> ext_common_algebra <span class="main">=</span> common_algebra <span class="main">+</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> inf_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> top_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⊤</span> <span class="main">=</span> <span class="keyword1">ι</span> <span class="main">⊔</span> <span class="main">-</span> <span class="keyword1">ι</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> bot_eq<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⊥</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">ι</span> <span class="main">⊔</span> <span class="main">-</span> <span class="keyword1">ι</span><span class="main">)</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Boolean Algebra›</span></span>

<span class="keyword1"><span class="command">class</span></span> boolean_algebra_II <span class="main">=</span> 
  common_algebra <span class="main">+</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> inf_comm<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> inf_assoc<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊓</span> <span class="free">z</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> sup_absorb<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> inf_absorb<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> sup_inf_distrib1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> sup_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span> <span class="free">x</span> <span class="main">=</span> <span class="main">⊤</span>"</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> inf_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span> <span class="free">x</span> <span class="main">=</span> <span class="main">⊥</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Huntington's Algebra›</span></span>

<span class="keyword1"><span class="command">class</span></span> huntington_algebra <span class="main">=</span> ext_common_algebra <span class="main">+</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> huntington<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span>  <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Robbins' Algebra›</span></span>

<span class="keyword1"><span class="command">class</span></span> robbins_algebra <span class="main">=</span> ext_common_algebra <span class="main">+</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> robbins<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="main">(</span><span class="main">-</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>

<span class="keyword1"><span class="command">section</span></span> <span class="quoted"><span class="plain_text">‹Equivalence›</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹With our axiom systems defined, we turn to providing equivalence 
        results between them.  
        
        We shall begin by illustrating equivalence for our formulation and 
        the library formulation of Boolean algebra.›</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Boolean Algebra›</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹The following provides the canonical definitions for order and 
        relative complementation for Boolean algebras.  These are necessary 
        since the Boolean algebras presented in the Isabelle/HOL library have 
        a lot of structure, while our formulation is considerably simpler.
     
       Since our formulation of Boolean algebras is considerably simple, it is 
       easy to show that the library instantiates our axioms.›</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra_II <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boolean_II_is_boolean<span class="main">:</span>
   <span class="quoted"><span class="quoted">"class.boolean_algebra minus uminus <span class="main">(⊓)</span> <span class="main">(⊑)</span> <span class="main">(⊏)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> inf_absorb inf_assoc inf_comm inf_compl
             less_def less_eq_def minus_def 
             sup_absorb sup_assoc sup_comm
             sup_compl sup_inf_distrib1
             sup_absorb inf_comm<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boolean_is_boolean_II<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.boolean_algebra_II uminus <span class="free">inf</span> <span class="free">sup</span> <span class="free">bot</span> <span class="free">top</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> sup_assoc sup_commute sup_inf_absorb sup_compl_top
             inf_assoc inf_commute inf_sup_absorb inf_compl_bot
             sup_inf_distrib1<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Huntington Algebra›</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹We shall illustrate here that all Boolean algebra using our 
        formulation are Huntington algebras, and illustrate that every 
        Huntington algebra may be interpreted as a Boolean algebra.

        Since the Isabelle/HOL library has good automation, it is convenient 
        to first show that the library instances Huntington algebras to exploit 
        previous results, and then use our previously derived correspondence.›</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">lemma</span></span> boolean_is_huntington<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.huntington_algebra uminus <span class="free">inf</span> <span class="free">sup</span> <span class="free">bot</span> <span class="free">top</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> double_compl inf_sup_distrib1 inf_top_right
             compl_inf inf_commute inf_compl_bot  
             compl_sup sup_commute sup_compl_top 
             sup_compl_top sup_assoc<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra_II <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">lemma</span></span> boolean_II_is_huntington<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.huntington_algebra uminus <span class="main">(⊓)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> boolean<span class="main">:</span> 
    boolean_algebra <span class="quoted">minus</span> <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊑)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊏)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> boolean_II_is_boolean<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> boolean.boolean_is_huntington<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">context</span></span> huntington_algebra <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">lemma</span></span> huntington_id<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> huntington <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
             <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
        <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>  
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
        <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span>"</span></span>  
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
        <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span>"</span></span>  
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> 
        <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>  
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> 
        <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> huntington <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> dbl_neg<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> huntington huntington_id sup_comm<span class="main">)</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1"><span class="command">lemma</span></span> towards_sup_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
   <span class="keyword1"><span class="command">from</span></span> huntington <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> huntington <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span> <span class="main">=</span> <span class="main">…</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> sup_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> top_eq towards_sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> towards_inf_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_compl<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">x</span> <span class="main">=</span> <span class="main">⊥</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg sup_comm bot_eq towards_inf_compl inf_eq<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> towards_idem<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">⊥</span> <span class="main">=</span> <span class="main">⊥</span> <span class="main">⊔</span> <span class="main">⊥</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg huntington inf_compl inf_eq sup_assoc sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> sup_ident<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">⊥</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg huntington inf_compl inf_eq sup_assoc 
          sup_comm sup_compl towards_idem<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_ident<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">⊤</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_compl inf_eq sup_ident sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> sup_idem<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg huntington inf_compl inf_eq sup_ident sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_idem<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq sup_idem<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> sup_nil<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">⊤</span> <span class="main">=</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_idem sup_assoc sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_nil<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">⊥</span> <span class="main">=</span> <span class="main">⊥</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_compl inf_eq sup_nil sup_comm sup_compl<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> sup_absorb<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> huntington inf_eq sup_idem sup_assoc sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_absorb<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq sup_absorb<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> partition<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg huntington inf_eq sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> demorgans1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> demorgans2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_comm<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> inf_eq sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_assoc<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg inf_eq sup_assoc<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> inf_sup_distrib1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> partition <span class="keyword1"><span class="command">have</span></span> 
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">..</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_absorb <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> partition <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> demorgans2 <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_compl <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">⊥</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_nil <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">⊥</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_idem <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">⊥</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_ident <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> 
       <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_absorb <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> 
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span> 
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span> 
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span> 
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">z</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> 
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">z</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">z</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> partition <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> sup_inf_distrib1<span class="main">:</span>
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> dbl_neg <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊓</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_eq <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> inf_sup_distrib1 <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> demorgans2 <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊓</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> demorgans1 <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> dbl_neg <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊓</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> huntington_is_boolean_II<span class="main">:</span>
   <span class="quoted"><span class="quoted">"class.boolean_algebra_II uminus <span class="main">(⊓)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> inf_comm inf_assoc sup_absorb 
             inf_absorb sup_inf_distrib1 
             sup_compl inf_compl<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1"><span class="command">lemma</span></span> huntington_is_boolean<span class="main">:</span>
   <span class="quoted"><span class="quoted">"class.boolean_algebra minus uminus <span class="main">(⊓)</span> <span class="main">(⊑)</span> <span class="main">(⊏)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> boolean_II<span class="main">:</span> 
    boolean_algebra_II <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> huntington_is_boolean_II<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> boolean_II.boolean_II_is_boolean<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">subsection</span></span> <span class="quoted"><span class="plain_text">‹Robbins' Algebra›</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">lemma</span></span> boolean_is_robbins<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.robbins_algebra uminus <span class="free">inf</span> <span class="free">sup</span> <span class="free">bot</span> <span class="free">top</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> sup_assoc sup_commute compl_inf double_compl sup_compl_top 
             inf_compl_bot diff_eq sup_bot_right sup_inf_distrib1<span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">context</span></span> boolean_algebra_II <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">lemma</span></span> boolean_II_is_robbins<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.robbins_algebra uminus inf sup bot top"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> boolean<span class="main">:</span> 
    boolean_algebra <span class="quoted">minus</span> <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊑)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊏)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> boolean_II_is_boolean<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> boolean.boolean_is_robbins<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">context</span></span> huntington_algebra <span class="keyword2"><span class="keyword">begin</span></span>
<span class="keyword1"><span class="command">lemma</span></span> huntington_is_robbins<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.robbins_algebra uminus inf sup bot top"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> boolean<span class="main">:</span> 
    boolean_algebra <span class="quoted">minus</span> <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊑)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊏)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> huntington_is_boolean<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> boolean.boolean_is_robbins<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹Before diving into the proof that the Robbins algebra is Boolean,
        we shall present some shorthand machinery›</span></span>

<span class="keyword1"><span class="command">context</span></span> common_algebra <span class="keyword2"><span class="keyword">begin</span></span>

<span class="comment1">(* Iteration Machinery/Shorthand *)</span>

<span class="keyword1"><span class="command">primrec</span></span> <span class="entity">copyp</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"nat <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊗</span>"</span> 80<span class="main">)</span>
<span class="keyword2"><span class="keyword">where</span></span> 
  copyp_0<span class="main">:</span>   <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main"><span class="free">⊗</span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
<span class="main">|</span> copyp_Suc<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span>Suc <span class="free"><span class="bound"><span class="entity">k</span></span></span><span class="main">)</span> <span class="main"><span class="free">⊗</span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> <span class="main">(</span><span class="free"><span class="bound"><span class="entity">k</span></span></span> <span class="main"><span class="free">⊗</span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span><span class="main">)</span> <span class="main">⊔</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>

<span class="keyword1"><span class="command">no_notation</span></span> 
  Product_Type.Times <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×</span>"</span> 80<span class="main">)</span>

<span class="keyword1"><span class="command">primrec</span></span> <span class="entity">copy</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"nat <span class="main">⇒</span> <span class="tfree">'a</span> <span class="main">⇒</span> <span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">×</span>"</span> 85<span class="main">)</span>
<span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">0</span> <span class="main"><span class="free">×</span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>
<span class="main">|</span> <span class="quoted"><span class="quoted">"<span class="main">(</span>Suc <span class="free"><span class="bound"><span class="entity">k</span></span></span><span class="main">)</span> <span class="main"><span class="free">×</span></span> <span class="free"><span class="bound"><span class="entity">x</span></span></span> <span class="main">=</span> <span class="free"><span class="bound"><span class="entity">k</span></span></span> <span class="main">⊗</span> <span class="free"><span class="bound"><span class="entity">x</span></span></span>"</span></span>

<span class="comment1">(* Theorems for translating shorthand into syntax *)</span>

<span class="keyword1"><span class="command">lemma</span></span> one<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="main">1</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="main">1</span> <span class="main">=</span> Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
  <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="main">1</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> two<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="numeral">2</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="numeral">2</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
  <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="numeral">2</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> three<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
   <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
   <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
   <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
   <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> four<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="numeral">4</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="numeral">4</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
  <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="numeral">4</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> five<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="numeral">5</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="numeral">5</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
  <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="numeral">5</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> six<span class="main">:</span>  <span class="quoted"><span class="quoted">"<span class="numeral">6</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span>       <span class="quoted"><span class="quoted">"<span class="numeral">6</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span> 
  <span class="keyword1"><span class="command">hence</span></span>      <span class="quoted"><span class="quoted">"<span class="numeral">6</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(* Distribution Laws *)</span>

<span class="keyword1"><span class="command">lemma</span></span> copyp_distrib<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">⊗</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">⊗</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">k</span> <span class="main">⊗</span> <span class="free">y</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">k</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span> 0 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword3"><span class="command">case</span></span> Suc <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span><span class="main"><span class="keyword3">,</span></span> <span class="operator">metis</span> sup_assoc sup_comm<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">corollary</span></span> copy_distrib<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">×</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">×</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">k</span> <span class="main">×</span> <span class="free">y</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">k</span></span><span class="main"><span class="keyword3">,</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> sup_assoc sup_comm copyp_distrib<span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> copyp_arith<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">k</span> <span class="main">+</span> <span class="free">l</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span> <span class="main">⊗</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">⊗</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">l</span> <span class="main">⊗</span> <span class="free">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">l</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span> 0 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">+</span> <span class="main">0</span> <span class="main">+</span> <span class="main">1</span> <span class="main">=</span> Suc<span class="main">(</span><span class="free">k</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span>
    <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword3"><span class="command">case</span></span> <span class="main">(</span>Suc <span class="skolem">l</span><span class="main">)</span> <span class="keyword1"><span class="command">note</span></span> ind_hyp <span class="main">=</span> this
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">+</span> Suc<span class="main">(</span><span class="skolem">l</span><span class="main">)</span> <span class="main">+</span> <span class="main">1</span> <span class="main">=</span> Suc<span class="main">(</span><span class="free">k</span> <span class="main">+</span> <span class="skolem">l</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">k</span> <span class="main">+</span> Suc<span class="main">(</span><span class="skolem">l</span><span class="main">)</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span> <span class="main">⊗</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">+</span> <span class="skolem">l</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span> <span class="main">⊗</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> ind_hyp<span class="main">)</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ind_hyp <span class="keyword1"><span class="command">have</span></span> 
          <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">⊗</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">l</span> <span class="main">⊗</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">note</span></span> sup_assoc
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> copy_arith<span class="main">:</span> 
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">≠</span> <span class="main">0</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="free">l</span> <span class="main">≠</span> <span class="main">0</span>"</span></span>
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">k</span> <span class="main">+</span> <span class="free">l</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="free">k</span> <span class="main">×</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">l</span> <span class="main">×</span> <span class="free">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> assms
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span> <span class="bound">k'</span><span class="main">.</span> Suc<span class="main">(</span><span class="bound">k'</span><span class="main">)</span> <span class="main">=</span> <span class="free">k</span>"</span></span> 
              <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">∃</span> <span class="bound">l'</span><span class="main">.</span> Suc<span class="main">(</span><span class="bound">l'</span><span class="main">)</span> <span class="main">=</span> <span class="free">l</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">from</span></span> this <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">k'</span></span> <span class="skolem"><span class="skolem">l'</span></span> <span class="keyword2"><span class="keyword">where</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">"Suc<span class="main">(</span><span class="skolem">k'</span><span class="main">)</span> <span class="main">=</span> <span class="free">k</span>"</span></span>
                           <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">"Suc<span class="main">(</span><span class="skolem">l'</span><span class="main">)</span> <span class="main">=</span> <span class="free">l</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">from</span></span> this <span class="keyword1"><span class="command">have</span></span> A1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="skolem">k'</span> <span class="main">⊗</span> <span class="free">x</span>"</span></span>
             <span class="keyword2"><span class="keyword">and</span></span> B1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">l</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="skolem">l'</span> <span class="main">⊗</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">from</span></span> A B <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">k</span> <span class="main">+</span> <span class="free">l</span> <span class="main">=</span> Suc<span class="main">(</span><span class="skolem">k'</span> <span class="main">+</span> <span class="skolem">l'</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">(</span><span class="free">k</span> <span class="main">+</span> <span class="free">l</span><span class="main">)</span> <span class="main">×</span> <span class="free">x</span> <span class="main">=</span> <span class="main">(</span><span class="skolem">k'</span> <span class="main">+</span> <span class="skolem">l'</span> <span class="main">+</span> <span class="main">1</span><span class="main">)</span> <span class="main">⊗</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> copyp_arith <span class="keyword1"><span class="command">have</span></span>  
        <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="skolem">k'</span> <span class="main">⊗</span> <span class="free">x</span> <span class="main">⊔</span> <span class="skolem">l'</span> <span class="main">⊗</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> A1 B1 <span class="keyword1"><span class="command">have</span></span>
        <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="free">k</span> <span class="main">×</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">l</span> <span class="main">×</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">text</span></span> <span class="quoted"><span class="plain_text">‹The theorem asserting all Robbins algebras are Boolean  
       comes in 6 movements.
       
       First: The Winker identity is proved.

       Second: Idempotence for a particular object is proved.  
       Note that falsum is defined in terms of this object.

       Third: An identity law for falsum is derived.

       Fourth: Idempotence for supremum is derived.

       Fifth: The double negation law is proven

       Sixth: Robbin's algebras are proven to be Huntington Algebras.›</span></span>

<span class="keyword1"><span class="command">context</span></span> robbins_algebra <span class="keyword2"><span class="keyword">begin</span></span>

<span class="keyword1"><span class="command">definition</span></span> <span class="entity">secret_object2</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">α</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">α</span></span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">ι</span> <span class="main">⊔</span> <span class="keyword1">ι</span> <span class="main">⊔</span> <span class="keyword1">ι</span><span class="main">)</span> <span class="main">⊔</span> <span class="keyword1">ι</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">secret_object3</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">β</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">β</span></span> <span class="main">=</span> <span class="keyword1">ι</span> <span class="main">⊔</span> <span class="keyword1">ι</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">secret_object4</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">δ</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">δ</span></span> <span class="main">=</span> <span class="keyword1">β</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">secret_object5</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">γ</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">γ</span></span> <span class="main">=</span> <span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">winker_object</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">ρ</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="keyword1"><span class="free">ρ</span></span> <span class="main">=</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">γ</span>"</span></span>
<span class="keyword1"><span class="command">definition</span></span> <span class="entity">fake_bot</span> <span class="main">::</span> <span class="quoted"><span class="quoted">"<span class="tfree">'a</span>"</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1">⊥⊥</span>"</span><span class="main">)</span> <span class="keyword2"><span class="keyword">where</span></span>
  <span class="quoted"><span class="quoted">"<span class="main"><span class="free">⊥⊥</span></span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span>"</span></span>

<span class="comment1">(* Towards Winker's Identity *)</span>

<span class="comment1">(* These lemmas are due to Alan Mann *)</span>

<span class="keyword1"><span class="command">lemma</span></span> robbins2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> mann0<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_comm sup_assoc<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> mann1<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_comm sup_assoc<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> mann2<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> mann1 robbins sup_comm sup_assoc<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> mann3<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">z</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?w</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> robbins<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">z</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?w</span>"</span></span><span class="main">]</span> sup_comm mann2 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">z</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?w</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_comm<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann4<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> 
  <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
 <span class="keyword1"><span class="command">from</span></span> robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span>"</span></span> 
                 <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span>"</span></span><span class="main">]</span>
      mann3<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> z<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">z</span>"</span></span><span class="main">]</span>
 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">=</span> 
       <span class="main">-</span><span class="main">(</span><span class="free">z</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> 
   <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
 <span class="keyword1"><span class="command">with</span></span> sup_comm sup_assoc <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann5<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">u</span> <span class="main">=</span> 
<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> 
      <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span> <span class="main">⊔</span> <span class="free">u</span><span class="main">)</span> <span class="main">⊔</span> 
  <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">u</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> 
                          <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span> <span class="main">⊔</span> <span class="free">z</span>"</span></span>
                 <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">u</span>"</span></span><span class="main">]</span>
      mann4<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">y</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> z<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">z</span></span><span class="main">]</span> 
      sup_comm
<span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>

<span class="keyword1"><span class="command">lemma</span></span> mann6<span class="main">:</span> 
<span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">+</span><span class="numeral">2</span><span class="main">=</span><span class="main">(</span><span class="numeral">5</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">2</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">with</span></span> copy_arith <span class="keyword1"><span class="command">have</span></span> ♡<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?p</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">q</span>
    <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="numeral">5</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ♡ mann0<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span>"</span></span><span class="main">]</span> sup_assoc sup_comm <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">(</span><span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="main">(</span><span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ♡ <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">(</span><span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="skolem">q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">q</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="skolem">q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="skolem">q</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">hence</span></span> ♠<span class="main">:</span> 
    <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

  <span class="keyword1"><span class="command">from</span></span> mann5<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> z<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">2</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> u<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?p</span>"</span></span><span class="main">]</span> 
       sup_assoc three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> five<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">=</span> 
   <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span> <span class="main">⊔</span>
     <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> 
   <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span> <span class="main">⊔</span>
     <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> two<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> 
   <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span> <span class="main">⊔</span>
     <span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ♠ <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann7<span class="main">:</span>
<span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?p</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?q</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">from</span></span> robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?q</span>"</span></span>
                  <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?r</span>"</span></span><span class="main">]</span>
       mann6<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="main">(</span><span class="var">?q</span> <span class="main">⊔</span> <span class="var">?r</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="main">-</span> <span class="main">(</span><span class="var">?q</span> <span class="main">⊔</span> <span class="var">?r</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="main">-</span> <span class="main">(</span><span class="var">?r</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> ♠<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="var">?r</span> <span class="main">=</span> <span class="main">-</span> <span class="main">(</span><span class="main">-</span> <span class="main">(</span><span class="var">?r</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">from</span></span> mann3<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> z<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span><span class="main">]</span>
       sup_comm <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">(</span><span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> five<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?r</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?r</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="var">?p</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">with</span></span> ♠ <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann8<span class="main">:</span>
<span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span>
<span class="main">(</span><span class="keyword2"><span class="keyword">is</span></span> <span class="quoted"><span class="quoted">"<span class="var">?lhs</span> <span class="main">=</span> <span class="var">?rhs</span>"</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?p</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?q</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?r</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">+</span><span class="numeral">2</span><span class="main">=</span><span class="main">(</span><span class="numeral">5</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">2</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">with</span></span> copy_arith <span class="keyword1"><span class="command">have</span></span> ♡<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">from</span></span> robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?r</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?q</span>"</span></span><span class="main">]</span> <span class="keyword2"><span class="keyword">and</span></span> sup_assoc
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="var">?q</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?q</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span> 
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ♡ sup_assoc <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> mann7<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span> 
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?q</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">(</span><span class="numeral">2</span><span class="main">×</span><span class="free">x</span>  <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_comm <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span>  <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
       <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="var">?rhs</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann9<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?p</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?q</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">4</span><span class="main">×</span><span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">4</span><span class="main">+</span><span class="main">1</span><span class="main">=</span><span class="main">(</span><span class="numeral">5</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">1</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">4</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">with</span></span> copy_arith one <span class="keyword1"><span class="command">have</span></span> ♡<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">4</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">with</span></span> sup_assoc robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="var">?q</span>"</span></span><span class="main">]</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="var">?q</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="var">?p</span> <span class="main">⊔</span> <span class="numeral">5</span><span class="main">×</span><span class="free">x</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">with</span></span> mann7 <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="var">?q</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">moreover</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">+</span><span class="main">1</span><span class="main">=</span><span class="main">(</span><span class="numeral">4</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">1</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">≠</span><span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">with</span></span> copy_arith one <span class="keyword1"><span class="command">have</span></span> ♠<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">=</span> <span class="numeral">4</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">with</span></span> mann1<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span>"</span></span><span class="main">]</span> sup_assoc <span class="keyword1"><span class="command">have</span></span>
  <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="var">?q</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="var">?p</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> mann10<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> robbins2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">y</span></span><span class="main">]</span>
      mann9<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span>
      sup_comm 
<span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>

<span class="keyword1"><span class="command">theorem</span></span> mann<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="numeral">2</span><span class="main">×</span><span class="free">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span> <span class="numeral">3</span><span class="main">×</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span><span class="main">)</span> <span class="main">⊔</span> <span class="numeral">2</span><span class="main">×</span><span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> mann10<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">2</span><span class="main">×</span><span class="free">x</span>"</span></span><span class="main">]</span>
      mann8<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span>
      two<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="free">x</span></span><span class="main">]</span> sup_comm 
<span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>

<span class="keyword1"><span class="command">corollary</span></span> winkerr<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">α</span> <span class="main">⊔</span> <span class="keyword1">β</span> <span class="main">=</span> <span class="keyword1">β</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> mann secret_object2_def secret_object3_def two three
<span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>

<span class="keyword1"><span class="command">corollary</span></span> winker<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">β</span> <span class="main">⊔</span> <span class="keyword1">α</span> <span class="main">=</span> <span class="keyword1">β</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> winkerr sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">corollary</span></span> multi_winkerp<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">β</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">⊗</span> <span class="keyword1">α</span> <span class="main">=</span> <span class="keyword1">β</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">k</span></span><span class="main"><span class="keyword3">,</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> winker sup_comm sup_assoc<span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">corollary</span></span> multi_winker<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">β</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">×</span> <span class="keyword1">α</span> <span class="main">=</span> <span class="keyword1">β</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">k</span></span><span class="main"><span class="keyword3">,</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> multi_winkerp winker sup_comm sup_assoc<span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>

<span class="comment1">(* Towards Idempotence *)</span>

<span class="keyword1"><span class="command">lemma</span></span> less_eq_introp<span class="main">:</span> 
<span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span> <span class="main">⟹</span> <span class="free">y</span> <span class="main">⊑</span> <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_assoc less_eq_def
            sup_comm<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span class="quoted"><span class="free">x</span></span></span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span class="quoted"><span class="free">y</span></span></span></span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">corollary</span></span> less_eq_intro<span class="main">:</span>
<span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">z</span><span class="main">)</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> less_eq_introp less_eq_def sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> eq_intro<span class="main">:</span> 
<span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span> <span class="main">⟹</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>"</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_assoc sup_comm<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> copyp0<span class="main">:</span>
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">z</span>"</span></span>
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">⊗</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">z</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">z</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> assms
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="free">k</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span> 0 <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span><span class="main"><span class="keyword3">,</span></span> <span class="operator">metis</span> assms robbins sup_assoc sup_comm<span class="main">)</span>
  <span class="keyword3"><span class="command">case</span></span> Suc <span class="keyword1"><span class="command">note</span></span> ind_hyp <span class="main">=</span> this
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?case</span></span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span><span class="main"><span class="keyword3">,</span></span> <span class="operator">metis</span> ind_hyp robbins sup_assoc sup_comm<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> copyp1<span class="main">:</span>
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">⊗</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> assms
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?z</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span> <span class="free">y</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?ky</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">⊗</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="var">?z</span><span class="main">)</span>"</span></span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="var">?ky</span><span class="main">)</span> <span class="main">=</span> <span class="var">?z</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> copyp0<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="var">?ky</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="var">?z</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="var">?z</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> assms sup_comm<span class="main">)</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="var">?z</span> <span class="main">⊔</span> <span class="main">-</span><span class="var">?ky</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> assms copyp0 sup_comm<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="var">?z</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="var">?ky</span> <span class="main">⊔</span> <span class="var">?z</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_comm<span class="main">)</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> eq_intro<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">corollary</span></span> copyp2<span class="main">:</span> 
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">k</span> <span class="main">⊗</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
   <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> assms robbins sup_comm copyp1<span class="main">)</span>

<span class="keyword1"><span class="command">lemma</span></span> two_threep<span class="main">:</span>
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="numeral">2</span> <span class="main">×</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
       <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="numeral">3</span> <span class="main">×</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> 
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">2</span> <span class="main">×</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">=</span> <span class="numeral">3</span> <span class="main">×</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span>"</span></span>
<span class="keyword1"><span class="command">using</span></span> assms
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">from</span></span> assms two three <span class="keyword1"><span class="command">have</span></span> 
     A<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span>
     B<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">with</span></span> sup_assoc
       copyp2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">0</span>"</span></span><span class="main">]</span>
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> 
  <span class="keyword1"><span class="command">from</span></span> sup_comm sup_assoc A B
       copyp2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">0</span>"</span></span><span class="main">]</span> 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
  <span class="keyword1"><span class="command">with</span></span> sup_comm sup_assoc 
  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">with</span></span> less_eq_intro <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">=</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span> <span class="main">⊔</span> <span class="free">x</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">with</span></span> sup_comm sup_assoc two three <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> two_three<span class="main">:</span>
   <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span> <span class="main">∨</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
     <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">⊔</span> <span class="numeral">2</span> <span class="main">×</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊔</span> <span class="numeral">3</span> <span class="main">×</span> <span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span><span class="main">)</span>"</span></span>
           <span class="main">(</span><span class="keyword2"><span class="keyword">is</span></span> <span class="quoted"><span class="quoted">"<span class="free">y</span> <span class="main">⊔</span> <span class="var">?z2</span> <span class="main">=</span> <span class="free">y</span> <span class="main">⊔</span> <span class="var">?z3</span>"</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">using</span></span> assms
<span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> copyp2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span>"</span></span><span class="main">]</span> 
           copyp2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span>"</span></span><span class="main">]</span>
           two three
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="var">?z2</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="var">?z3</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">with</span></span> two_threep sup_comm <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">next</span></span> 
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="free">y</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
      <span class="keyword1"><span class="command">with</span></span> copyp1<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span>"</span></span><span class="main">]</span> 
           copyp1<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"Suc<span class="main">(</span>Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span><span class="main">)</span>"</span></span><span class="main">]</span>
           two three
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="var">?z2</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="free">y</span> <span class="main">⊔</span> <span class="var">?z3</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="free">y</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">with</span></span> two_threep sup_comm <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">lemma</span></span> sup_idem<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="keyword1">ρ</span> <span class="main">=</span> <span class="keyword1">ρ</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">from</span></span> winkerr two 
         copyp2<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">α</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">β</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"Suc<span class="main">(</span><span class="main">0</span><span class="main">)</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="keyword1">β</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">β</span> <span class="main">⊔</span> <span class="numeral">2</span> <span class="main">×</span> <span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> copy_distrib sup_assoc <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">β</span> <span class="main">⊔</span> <span class="numeral">2</span> <span class="main">×</span> <span class="keyword1">α</span> <span class="main">⊔</span> <span class="numeral">2</span> <span class="main">×</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> sup_assoc secret_object4_def two
              multi_winker<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">2</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="keyword1">β</span> <span class="main">=</span> <span class="main">-</span><span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> secret_object4_def sup_assoc three <span class="keyword1"><span class="command">have</span></span>
    <span class="quoted"><span class="quoted">"<span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">β</span> <span class="main">⊔</span> <span class="numeral">3</span> <span class="main">×</span> <span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> copy_distrib<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span>"</span></span><span class="main">]</span> 
              multi_winker<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span>"</span></span><span class="main">]</span> 
              sup_assoc <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="keyword1">β</span> <span class="main">⊔</span> <span class="numeral">3</span> <span class="main">×</span> <span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> winker sup_comm two_three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">α</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">β</span>"</span></span><span class="main">]</span> <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="keyword1">β</span> <span class="main">⊔</span> <span class="numeral">2</span> <span class="main">×</span> <span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">β</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> copy_distrib<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">2</span>"</span></span><span class="main">]</span> 
              multi_winker<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">2</span>"</span></span><span class="main">]</span> 
              sup_assoc two secret_object4_def <span class="keyword1"><span class="command">have</span></span> 
    <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> ♡<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">from</span></span> secret_object4_def winkerr sup_assoc <span class="keyword1"><span class="command">have</span></span> 
          <span class="quoted"><span class="quoted">"<span class="keyword1">α</span> <span class="main">⊔</span> <span class="keyword1">δ</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">δ</span> <span class="main">⊔</span> <span class="keyword1">α</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_comm<span class="main">)</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_assoc<span class="main">)</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> ♡ <span class="keyword1"><span class="command">have</span></span>
          <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">α</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">from</span></span> robbins <span class="keyword1"><span class="command">have</span></span>
          <span class="quoted"><span class="quoted">"<span class="main">…</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">δ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">δ</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">with</span></span> two_three<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">δ</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> y<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">δ</span>"</span></span><span class="main">]</span> 
         secret_object5_def sup_comm
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">×</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">δ</span> <span class="main">=</span> <span class="numeral">2</span> <span class="main">×</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">δ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">with</span></span> secret_object5_def sup_assoc sup_comm <span class="keyword1"><span class="command">have</span></span>  
         <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">×</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">γ</span> <span class="main">=</span> <span class="numeral">2</span> <span class="main">×</span> <span class="keyword1">γ</span> <span class="main">⊔</span> <span class="keyword1">γ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">with</span></span> two three four five six <span class="keyword1"><span class="command">have</span></span>
         <span class="quoted"><span class="quoted">"<span class="numeral">6</span> <span class="main">×</span> <span class="keyword1">γ</span> <span class="main">=</span> <span class="numeral">3</span> <span class="main">×</span> <span class="keyword1">γ</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">+</span> <span class="numeral">3</span> <span class="main">=</span> <span class="main">(</span><span class="numeral">6</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">"<span class="numeral">3</span> <span class="main">≠</span> <span class="main">(</span><span class="main">0</span><span class="main">::</span>nat<span class="main">)</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">arith</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">note</span></span> copy_arith<span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> k<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> l<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="numeral">3</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> x<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="keyword1">γ</span>"</span></span><span class="main">]</span>
                  winker_object_def three
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(* Idempotence implies the identity law *)</span>

<span class="keyword1"><span class="command">lemma</span></span> sup_ident<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">have</span></span> I<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> fake_bot_def inf_eq robbins sup_comm sup_idem<span class="main">)</span>

  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="skolem">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="skolem">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="skolem">x</span> <span class="main">⊔</span> <span class="keyword1">ρ</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> I robbins sup_assoc<span class="main">)</span> <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">note</span></span> II <span class="main">=</span> this

  <span class="keyword1"><span class="command">have</span></span> III<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="keyword1">ρ</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span> <span class="main">⊔</span> <span class="keyword1">ρ</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span>
              I sup_comm fake_bot_def<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span>
              sup_comm<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="main"><span class="main"><span class="main">-</span></span></span><span class="main"><span class="main"><span class="main">(</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span><span class="main"><span class="main"><span class="main">)</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span>
              sup_assoc sup_idem<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span> <span class="main">=</span> <span class="main">⊥⊥</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="main"><span class="main"><span class="main">-</span></span></span><span class="main"><span class="main"><span class="main">(</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">-</span></span></span><span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span><span class="main"><span class="main"><span class="main">)</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span> 
              III sup_comm fake_bot_def<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="keyword1">ρ</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> III sup_comm<span class="main">)</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> II sup_idem sup_comm sup_assoc<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">⊥⊥</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span> 
              sup_comm<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="keyword1"><span class="keyword1"><span class="keyword1">ρ</span></span></span>"</span></span></span></span><span class="main"><span class="main">]</span></span> 
              sup_assoc sup_idem<span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="keyword1">ρ</span> <span class="main">=</span> <span class="keyword1">ρ</span> <span class="main">⊔</span> <span class="main">⊥⊥</span>"</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">"<span class="free">x</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="keyword1">ρ</span><span class="main">)</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="free">x</span> <span class="main">⊔</span> <span class="main">⊥⊥</span> <span class="main">⊔</span> <span class="main">-</span><span class="keyword1">ρ</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="free"><span class="free"><span class="free">x</span></span></span> <span class="main"><span class="main"><span class="main">⊔</span></span></span> <span class="main"><span class="main"><span class="main">⊥⊥</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="keyword1"><span class="quoted"><span class="keyword1"><span class="quoted"><span class="keyword1">ρ</span></span></span></span></span></span><span class="main"><span class="main">]</span></span>
              sup_comm<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> x<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted">"<span class="main"><span class="main"><span class="main">⊥⊥</span></span></span>"</span></span></span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> y<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="keyword1"><span class="quoted"><span class="keyword1"><span class="quoted"><span class="keyword1">ρ</span></span></span></span></span></span><span class="main"><span class="main">]</span></span>
              sup_assoc<span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> sup_assoc sup_comm II<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(* The identity law implies double negation *)</span>

<span class="keyword1"><span class="command">lemma</span></span> dbl_neg<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">-</span> <span class="main">(</span><span class="main">-</span><span class="free">x</span><span class="main">)</span> <span class="main">=</span> <span class="free">x</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">⊥⊥</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> robbins sup_comm sup_ident<span class="main">)</span> 
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> I <span class="main">=</span> this

  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="skolem">x</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> I robbins sup_comm sup_ident<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> II <span class="main">=</span> this

  <span class="keyword1"><span class="command">{</span></span> <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">"<span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span> <span class="main">⊔</span> <span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="main">(</span><span class="main">-</span><span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> I II robbins sup_assoc sup_comm sup_ident<span class="main">)</span> 
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> III <span class="main">=</span> this

  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> II III robbins<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(* Double negation implies Huntington's axiom, hence Boolean*)</span>

<span class="keyword1"><span class="command">theorem</span></span> robbins_is_huntington<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.huntington_algebra uminus <span class="main">(⊓)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">unfold_locales</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> dbl_neg robbins sup_comm<span class="main">)</span>
<span class="keyword1"><span class="command"><span class="improper"><span class="command">done</span></span></span></span>

<span class="keyword1"><span class="command">theorem</span></span> robbins_is_boolean_II<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.boolean_algebra_II uminus <span class="main">(⊓)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> huntington<span class="main">:</span> 
    huntington_algebra <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> robbins_is_huntington<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> huntington.huntington_is_boolean_II<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">theorem</span></span> robbins_is_boolean<span class="main">:</span>
  <span class="quoted"><span class="quoted">"class.boolean_algebra minus uminus <span class="main">(⊓)</span> <span class="main">(⊑)</span> <span class="main">(⊏)</span> <span class="main">(⊔)</span> <span class="main">⊥</span> <span class="main">⊤</span>"</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">interpret</span></span> huntington<span class="main">:</span> 
    huntington_algebra <span class="quoted">uminus</span> <span class="quoted"><span class="quoted">"<span class="main">(⊓)</span>"</span></span> <span class="quoted"><span class="quoted">"<span class="main">(⊔)</span>"</span></span> <span class="quoted"><span class="main">⊥</span></span> <span class="quoted"><span class="main">⊤</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> robbins_is_huntington<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> huntington.huntington_is_boolean<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">no_notation</span></span> secret_object1 <span class="main">(</span><span class="quoted">"<span class="keyword1">ι</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> secret_object2 <span class="main">(</span><span class="quoted">"<span class="keyword1">α</span>"</span><span class="main">)</span> 
   <span class="keyword2"><span class="keyword">and</span></span> secret_object3 <span class="main">(</span><span class="quoted">"<span class="keyword1">β</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> secret_object4 <span class="main">(</span><span class="quoted">"<span class="keyword1">δ</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> secret_object5 <span class="main">(</span><span class="quoted">"<span class="keyword1">γ</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> winker_object <span class="main">(</span><span class="quoted">"<span class="keyword1">ρ</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> less_eq  <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊑</span>"</span> 50<span class="main">)</span> 
   <span class="keyword2"><span class="keyword">and</span></span> less <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊏</span>"</span> 50<span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> inf <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">⊓</span>"</span> 70<span class="main">)</span> 
   <span class="keyword2"><span class="keyword">and</span></span> sup <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1">⊔</span>"</span> 65<span class="main">)</span> 
   <span class="keyword2"><span class="keyword">and</span></span> top <span class="main">(</span><span class="quoted">"<span class="keyword1">⊤</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> bot <span class="main">(</span><span class="quoted">"<span class="keyword1">⊥</span>"</span><span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> copyp <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">⊗</span>"</span> 80<span class="main">)</span>
   <span class="keyword2"><span class="keyword">and</span></span> copy <span class="main">(</span><span class="keyword2"><span class="keyword">infix</span></span> <span class="quoted">"<span class="keyword1">×</span>"</span> 85<span class="main">)</span>

<span class="keyword1"><span class="command">notation</span></span>
  Product_Type.Times  <span class="main">(</span><span class="keyword2"><span class="keyword">infixr</span></span> <span class="quoted">"<span class="keyword1">×</span>"</span> 80<span class="main">)</span>

<span class="keyword2"><span class="keyword">end</span></span>
</pre>
</div>