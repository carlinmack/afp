<div id='RPO_NP_Hard'>ead>


<body>
<div class="head">
<h1>Theory Multiset_Ordering_More</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Properties of the Generalized Multiset Ordering</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Multiset_Ordering_More</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="../Weighted_Path_Order/Multiset_Extension2.html"><span>Weighted_Path_Order.Multiset_Extension2</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We provide characterizations of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><span>s_mul_ext</span><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><span>ns_mul_ext</span><span class="antiquote"><span>}</span></span></span><span> via 
</span><span>  introduction and elimination rules that are based on lists.</span><span>âº</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_302..307">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_intro|fact"><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_intro|thm"><span>s_mul_ext_intro</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>xs2</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys1</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>ys2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>s_mul_extI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_302..307"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1-2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>multpw_listI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_302..307"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_302..307"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4-</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_678..683">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_intro|fact"><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_intro|thm"><span>ns_mul_ext_intro</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>xs2</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys1</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>ys2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ns_mul_extI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_678..683"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1-2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>multpw_listI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_678..683"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_678..683"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4-</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1039..1044">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_elim|fact"><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_elim|thm"><span>ns_mul_ext_elim</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="bound"><span>xs2</span></span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="bound"><span>ys2</span></span><span class="main"><span>.</span></span><span>
    </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>xs2</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>ys2</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ys1</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>ns_mul_extE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1039..1044"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> 
    </span><span class="skolem"><span class="skolem"><span>A1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>A2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>B1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>B2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1380..1381">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>A1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>A2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>B1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>B2</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1421..1423">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>A1</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>B1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1458..1459">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>B2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>A2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>multpw_listE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1421..1423"><span>NS</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1564..1566">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1635..1637">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>surj_mset</span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1729..1731">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>surj_mset</span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1791..1793">B2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>xs1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>xs2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ys1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ys2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1380..1381"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1564..1566"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1729..1731"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1791..1793"><span>B2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1380..1381"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1564..1566"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1729..1731"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1791..1793"><span>B2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1380..1381"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1564..1566"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1729..1731"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1791..1793"><span>B2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1635..1637"><span>NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1380..1381"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1564..1566"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1729..1731"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1791..1793"><span>B2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_1458..1459"><span>S</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2264..2269">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_elim|fact"><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_elim|thm"><span>s_mul_ext_elim</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="bound"><span>xs2</span></span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="bound"><span>ys2</span></span><span class="main"><span>.</span></span><span>
    </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>xs2</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>ys2</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ys1</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>s_mul_extE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2264..2269"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> 
    </span><span class="skolem"><span class="skolem"><span>A1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>A2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>B1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>B2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2615..2616">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>A1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>A2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>B1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>B2</span></span><span>"</span></span></span><span>  
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2658..2660">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>A1</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>B1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2689..2697">nonempty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>{#}</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2720..2721">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>B2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>A2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>multpw_listE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2658..2660"><span>NS</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2826..2828">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2897..2899">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>surj_mset</span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2991..2993">A2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>A2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>surj_mset</span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3053..3055">B2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>B2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>xs1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>xs2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ys1</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>ys2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2615..2616"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2826..2828"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2991..2993"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3053..3055"><span>B2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2615..2616"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2826..2828"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2991..2993"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3053..3055"><span>B2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fact</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2615..2616"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2826..2828"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2991..2993"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3053..3055"><span>B2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2897..2899"><span>NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2615..2616"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2826..2828"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2991..2993"><span>A2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3053..3055"><span>B2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2720..2721"><span>S</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2689..2697"><span>nonempty</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_2991..2993"><span>A2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We further add a lemma that shows, that it does not matter whether one adds the
</span><span>  strict relation to the non-strict relation or not.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3713..3718">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_some_S_in_NS|fact"><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_some_S_in_NS|thm"><span>ns_mul_ext_some_S_in_NS</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>ns_mul_ext_mono</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>as</span></span><span> </span><span class="skolem"><span>bs</span></span><span> 
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_3983..3989">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>ns_mul_extE</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3983..3989"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nas</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sas</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nbs</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sbs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
       </span><span class="entity_def" id="offset_4093..4095">as</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>as</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sas</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4118..4120">bs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>bs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sbs</span></span><span>"</span></span></span><span> 
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4151..4153">ns</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>nas</span></span><span class="main"><span>,</span></span><span class="skolem"><span>nbs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4198..4199">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sbs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sas</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4151..4153"><span>ns</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>nas2</span></span><span> </span><span class="bound"><span>sas2</span></span><span> </span><span class="bound"><span>nbs2</span></span><span> </span><span class="bound"><span>sbs2</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>nas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="bound"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>nbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="bound"><span>sbs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>nas2</span></span><span class="main"><span>,</span></span><span class="bound"><span>nbs2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="free"><span>NS</span></span><span>
          </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="bound"><span>sbs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="bound"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4448..4451">add</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>nas</span></span><span> </span><span class="skolem"><span>nbs</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4448..4451"><span>add</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nas2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sas2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nbs2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sbs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4516..4517">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>nas2</span></span><span class="main"><span>,</span></span><span class="skolem"><span>nbs2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="free"><span>NS</span></span><span>
          </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4448..4451"><span>add</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_3713..3718"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4748..4750">ab</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4785..4788">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>add_mset</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span>add_mset</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>sas2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4863..4866">two</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>add_mset</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span>add_mset</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span> </span><span>conjI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4785..4788"><span>one</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4863..4866"><span>two</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4748..4750"><span>ab</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5045..5047">ab</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5076..5079">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>add_mset</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>add_mset</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>nas2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sas2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5154..5157">two</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>add_mset</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>add_mset</span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>nbs2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span> </span><span>conjI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5076..5079"><span>one</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5154..5157"><span>two</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5045..5047"><span>ab</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4516..4517"><span>*</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>multpw.add</span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nas2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sas2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>nbs2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sbs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5394..5395">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>nas</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>nbs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>nas2</span></span><span class="main"><span>,</span></span><span class="skolem"><span>nbs2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>multpw</span><span> </span><span class="free"><span>NS</span></span><span>
          </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sbs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="skolem"><span>sas2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5535..5537">as</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>as</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>sas2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sas</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5570..5572">bs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>bs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>nbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>sbs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>sbs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4093..4095"><span>as</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4118..4120"><span>bs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5394..5395"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>ns_mul_extI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5535..5537"><span>as</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5570..5572"><span>bs</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_5394..5395"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_4198..4199"><span>s</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_NS_union_S|fact"><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_NS_union_S|thm"><span>ns_mul_ext_NS_union_S</span></span></span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_some_S_in_NS|fact"><span>ns_mul_ext_some_S_in_NS</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Some further lemmas on multisets</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.mset_map_filter|fact"><span class="entity_def" id="Multiset_Ordering_More.mset_map_filter|thm"><span>mset_map_filter</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>e</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>e</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>Â¬</span></span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span> </span><span class="bound"><span>e</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6042..6047">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.mset_map_split|fact"><span class="entity_def" id="Multiset_Ordering_More.mset_map_split|thm"><span>mset_map_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys2</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>zs1</span></span><span> </span><span class="bound"><span>zs2</span></span><span class="main"><span>.</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>zs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>zs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>zs1</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>zs2</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6042..6047"><span>assms</span></a><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ys1</span></span></span><span> </span><span class="quoted"><span class="free"><span>ys2</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6260..6264">Cons</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6317..6319">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6317..6319"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6260..6264"><span>Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="skolem"><span>ys2</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_6456..6462">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>split_list</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6456..6462"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_6531..6534">ys1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>us2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?us</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>us2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6260..6264"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6531..6534"><span>ys1</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?us</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6673..6675">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6260..6264"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6673..6675"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_6728..6730">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6774..6776">us</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?us</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6800..6802">ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?zs1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>take</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?zs2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>drop</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span class="var"><span>?zs1</span></span></span><span> </span><span class="main"><span class="main"><span>@</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="main"><span class="main"><span>#</span></span></span><span> </span><span class="var"><span class="var"><span>?zs2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>zs2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6531..6534"><span>ys1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6800..6802"><span>ys</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span> </span><span>refl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{#</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#}</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>zs1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6728..6730"><span>xs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="var"><span>?zs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>union_code</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>us2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6774..6776"><span>us</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>take</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span>drop</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>âº</span></span></span><span> </span><span>add_diff_cancel_left'</span><span> </span><span>append_eq_append_conv</span><span> </span><span>length_append</span><span> </span><span>length_drop</span><span> </span><span>length_map</span><span> </span><span>list.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_eq_append_conv</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="skolem"><span>ys2</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="skolem"><span>ys1</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7699..7705">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>split_list</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_7699..7705"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7774..7777">ys1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>us2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?us</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>us2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6260..6264"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_7774..7777"><span>ys1</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?us</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7916..7918">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_6260..6264"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_7916..7918"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7971..7973">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8017..8019">us</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?us</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8043..8045">ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>zs2</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?zs1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>take</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?zs2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>drop</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>zs2</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span class="var"><span>?zs1</span></span></span><span> </span><span class="main"><span class="main"><span>@</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="main"><span class="main"><span>#</span></span></span><span> </span><span class="var"><span class="var"><span>?zs2</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_7774..7777"><span>ys1</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>unfold</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_8043..8045"><span>ys</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span> </span><span>refl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{#</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#}</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>zs1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_7971..7973"><span>xs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="var"><span>?zs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>union_code</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>zs2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>us1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>us2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="var"><span>?zs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_8017..8019"><span>us</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>take</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span>drop</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>us1</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>zs1</span></span><span>âº</span></span></span><span> </span><span>add_diff_cancel_left'</span><span> </span><span>append_eq_append_conv</span><span> </span><span>length_append</span><span> </span><span>length_drop</span><span> </span><span>length_map</span><span> </span><span>list.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>9</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>map_eq_append_conv</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.deciding_mult|fact"><span class="entity_def" id="Multiset_Ordering_More.deciding_mult|thm"><span>deciding_mult</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8944..8946">tr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>trans</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8962..8964">ir</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>irrefl</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span class="main"><span>,</span></span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9064..9070">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>I</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>I</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â©#</span></span><span> </span><span class="free"><span>N</span></span><span>"</span></span></span><span>   
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9102..9103">N</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>N</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>I</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9064..9070"><span>I_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add.commute</span><span> </span><span>diff_intersect_left_idem</span><span> </span><span>multiset_inter_commute</span><span> </span><span>subset_mset.add_diff_inverse</span><span> </span><span>subset_mset.inf_le1</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9270..9271">M</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>M</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>I</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9064..9070"><span>I_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add.commute</span><span> </span><span>diff_intersect_left_idem</span><span> </span><span>subset_mset.add_diff_inverse</span><span> </span><span>subset_mset.inf_le1</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span class="main"><span>,</span></span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â·</span></span><span>
     </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>I</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>I</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9102..9103"><span>N</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9270..9271"><span>M</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>mult_cancel</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_8944..8946"><span>tr</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_8962..8964"><span>ir</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_9665..9666">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>{#}</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>{#}</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>one_step_implies_mult</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9665..9666"><span>*</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9270..9271"><span>M</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9102..9103"><span>N</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9909..9915">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>mult</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>mult_implies_one_step</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_8944..8946"><span>tr</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9909..9915"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>E</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>J</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>K</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_10015..10016">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>E</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>J</span></span><span> </span><span class="main"><span>â§</span></span><span>
     </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>E</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="skolem"><span>K</span></span><span>"</span></span></span><span>  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10061..10064">rel</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>J</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>{#}</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>k</span></span><span class="main"><span>â#</span></span><span class="skolem"><span>K</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>j</span></span><span class="main"><span>â#</span></span><span class="skolem"><span>J</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10015..10016"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>E</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{#}</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9270..9271"><span>M</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_9102..9103"><span>N</span></a><span> </span><span>add_diff_cancel_right</span><span> </span><span>add_implies_diff</span><span> </span><span>cancel_ab_semigroup_add_class.diff_right_commute</span><span> </span><span>diff_add_zero</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10015..10016"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10292..10294">JK</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>J</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>K</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10061..10064"><span>rel</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10292..10294"><span>JK</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_map|fact"><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_map|thm"><span>s_mul_ext_map</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>as</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>as</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â¹</span></span><span>
  </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS'</span></span><span> </span><span class="free"><span>S'</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>mult2_alt_map</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NS</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="free"><span>f</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>NS'</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S'</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span>False</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>s_mul_ext_def</span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10867..10872">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.fst_mul_ext_imp_fst|fact"><span class="entity_def" id="Multiset_Ordering_More.fst_mul_ext_imp_fst|thm"><span>fst_mul_ext_imp_fst</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>(</span></span><span>mul_ext</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10867..10872"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span>mul_ext_def</span><span> </span><span>Let_def</span><span> </span><span>fst_conv</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11159..11161">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_elim|fact"><span>s_mul_ext_elim</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11159..11161"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_11231..11232">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11231..11232"><span>*</span></a><span class="main"><span>(</span></span><span>1-3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_10867..10872"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>add_le_cancel_left</span><span> </span><span>size_mset</span><span> </span><span>size_union</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11231..11232"><span>*</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>hd</span><span> </span><span class="skolem"><span>ys2</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ys2</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11231..11232"><span>*</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>,</span></span><span>1</span><span class="main"><span>,</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>mem_Collect_eq</span><span> </span><span>prod.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>set_mset_mset</span><span> </span><span>set_mset_union</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11707..11712">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_point|fact"><span class="entity_def" id="Multiset_Ordering_More.ns_mul_ext_point|thm"><span>ns_mul_ext_point</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>as</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_elim|fact"><span>ns_mul_ext_elim</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11707..11712"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_11899..11900">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>as</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11707..11712"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_12318..12324">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_12318..12324"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span>set_conv_nth</span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_12392..12393">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_12392..12393"><span>i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_11899..11900"><span>*</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12601..12606">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_point|fact"><span class="entity_def" id="Multiset_Ordering_More.s_mul_ext_point|thm"><span>s_mul_ext_point</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span class="free"><span>as</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_point|fact"><span>ns_mul_ext_point</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#offset_12601..12606"><span>assms</span></a><span> </span><span>s_ns_mul_ext</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='RPO_NP_Hard'>ad>


<body>
<div class="head">
<h1>Theory Propositional_Formula</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Propositional Formulas and CNFs</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We provide a straight-forward definition of propositional formulas, defined as arbitray formulas
</span><span>  using variables, negations, conjunctions and disjunctions. CNFs are represented as lists of lists of 
</span><span>  literals and then converted into formulas.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Propositional_Formula</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Propositional Formulas</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.formula.size_neq|fact"><span class="entity_def" id="Propositional_Formula.formula.size_gen_o_map|fact"><span class="entity_def" id="Propositional_Formula.formula.size_gen|fact"><span class="entity_def" id="Propositional_Formula.formula.size|fact"><span class="entity_def" id="Propositional_Formula.arity_size_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.size_formula_overloaded_def|fact"><span class="entity_def" id="Propositional_Formula.size_formula_inst.size_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.size_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.Quotient|fact"><span class="entity_def" id="Propositional_Formula.formula.Domainp_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.right_unique_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.left_unique_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.right_total_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.left_total_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.bi_unique_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.bi_total_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.simps|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.rec_transfer|fact"><span class="entity_def" id="Propositional_Formula.formula.rec_o_map|fact"><span class="entity_def" id="Propositional_Formula.formula.rec|fact"><span class="entity_def" id="Propositional_Formula.formula.induct|fact"><span class="entity_def" id="Propositional_Formula.formula.set_intros|fact"><span class="entity_def" id="Propositional_Formula.formula.set_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.set|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_intros|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.pred_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.map|fact"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer|fact"><span class="entity_def" id="Propositional_Formula.formula.case_transfer|fact"><span class="entity_def" id="Propositional_Formula.formula.splits|fact"><span class="entity_def" id="Propositional_Formula.formula.split_asm|fact"><span class="entity_def" id="Propositional_Formula.formula.split|fact"><span class="entity_def" id="Propositional_Formula.formula.nchotomy|fact"><span class="entity_def" id="Propositional_Formula.formula.inject|fact"><span class="entity_def" id="Propositional_Formula.formula.exhaust|fact"><span class="entity_def" id="Propositional_Formula.formula.distinct|fact"><span class="entity_def" id="Propositional_Formula.formula.case_distrib|fact"><span class="entity_def" id="Propositional_Formula.formula.case_cong_weak|fact"><span class="entity_def" id="Propositional_Formula.formula.case_cong|fact"><span class="entity_def" id="Propositional_Formula.formula.case|fact"><span class="entity_def" id="Propositional_Formula.formula.eq.simps|fact"><span class="entity_def" id="Propositional_Formula.formula.eq.refl|fact"><span class="entity_def" id="Propositional_Formula.arity_equal_formula|fact"><span class="entity_def" id="Propositional_Formula.equal_formula_def|fact"><span class="entity_def" id="Propositional_Formula.equal_formula_inst.equal_formula|fact"><span class="entity_def" id="Propositional_Formula.arity_partial_term_of_formula|fact"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_triv|fact"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_inst.partial_term_of_formula|fact"><span class="entity_def" id="Propositional_Formula.arity_term_of_formula|fact"><span class="entity_def" id="Propositional_Formula.term_of_formula_triv|fact"><span class="entity_def" id="Propositional_Formula.term_of_formula_inst.term_of_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.case_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.ctor_rec_formula_def|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.set_transfer|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.set_map|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_transfer|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_transp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_symp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_reflp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_refl_strong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_refl|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_cong_simp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_cong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_mono_strong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_mono|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_map|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_Grp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_flip|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_eq_onp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_eq|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_conversep|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_compp_Grp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_compp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_set|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_True|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_transfer|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_rel|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_map|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_cong_simp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_cong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_mono_strong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_mono|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_ident|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_transfer|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_id0|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_id|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong_pred|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong_simp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong0|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_comp|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.inj_map_strong|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.inj_map|fact"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.in_rel|fact"><span class="entity_def" id="Propositional_Formula.formula.wit_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.pred_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.rel_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.set_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.map_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.dtor_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.ctor_fold_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.ctor_formula_def|fact"><span class="entity_def" id="Propositional_Formula.arity_typerep_formula|fact"><span class="entity_def" id="Propositional_Formula.typerep_formula_def|fact"><span class="entity_def" id="Propositional_Formula.typerep_formula_inst.typerep_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.type_definition_formula|fact"><span class="entity_def" id="Propositional_Formula.arity_type_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.str_init_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.arity_typerep_formula_IITN_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_inst.typerep_formula_IITN_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.type_definition_formula_IITN_formula|fact"><span class="entity_def" id="Propositional_Formula.arity_type_formula_IITN_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.min_alg_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.mor_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.alg_formula_def|fact"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set2_pre_formula_def|fact"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set1_pre_formula_def|fact"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.rel_pre_formula_def|fact"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.map_pre_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.arity_typerep_formula_pre_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_def|fact"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_inst.typerep_formula_pre_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_induct|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_cases|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_inject|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_inverse|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.type_definition_formula_pre_formula|fact"><span class="entity_def" id="Propositional_Formula.arity_type_formula_pre_formula|fact"><span class="entity_def" id="Propositional_Formula.formula.size_neq|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen_o_map|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.size_gen(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(12)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(11)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(10)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(9)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.size(1)|thm"><span class="entity_def" id="Propositional_Formula.arity_size_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.size_formula_overloaded_def|thm"><span class="entity_def" id="Propositional_Formula.size_formula_inst.size_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.size_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.Quotient|thm"><span class="entity_def" id="Propositional_Formula.formula.Domainp_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.right_unique_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.left_unique_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.right_total_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.left_total_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.bi_unique_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.bi_total_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(96)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(95)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(94)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(93)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(92)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(91)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(90)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(89)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(88)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(87)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(86)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(85)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(84)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(83)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(82)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(81)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(80)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(79)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(78)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(77)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(76)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(75)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(74)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(73)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(72)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(71)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(70)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(69)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(68)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(67)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(66)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(65)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(64)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(63)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(62)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(61)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(60)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(59)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(58)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(57)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(56)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(55)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(54)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(53)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(52)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(51)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(50)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(49)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(48)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(47)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(46)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(45)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(44)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(43)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(42)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(41)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(40)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(39)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(38)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(37)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(36)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(35)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(34)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(33)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(32)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(31)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(30)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(29)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(28)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(27)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(26)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(25)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(24)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(23)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(22)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(21)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(20)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(19)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(18)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(17)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(16)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(15)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(14)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(13)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(12)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(11)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(10)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(9)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.simps(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.rec_transfer|thm"><span class="entity_def" id="Propositional_Formula.formula.rec_o_map|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.rec(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.induct|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_intros(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.set_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.set(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.set(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.set(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.set(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.set(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.set(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_intros(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_inject(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(30)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(29)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(28)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(27)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(26)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(25)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(24)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(23)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(22)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(21)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(20)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(19)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(18)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(17)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(16)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(15)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(14)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(13)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(12)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(11)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(10)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(9)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_distinct(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_inject(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.map(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.ctr_transfer(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.case_transfer|thm"><span class="entity_def" id="Propositional_Formula.formula.splits(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.splits(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.split_asm|thm"><span class="entity_def" id="Propositional_Formula.formula.split|thm"><span class="entity_def" id="Propositional_Formula.formula.nchotomy|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.inject(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.exhaust|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(30)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(29)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(28)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(27)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(26)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(25)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(24)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(23)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(22)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(21)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(20)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(19)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(18)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(17)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(16)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(15)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(14)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(13)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(12)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(11)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(10)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(9)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.distinct(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.case_distrib|thm"><span class="entity_def" id="Propositional_Formula.formula.case_cong_weak|thm"><span class="entity_def" id="Propositional_Formula.formula.case_cong|thm"><span class="entity_def" id="Propositional_Formula.formula.case(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.case(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.case(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.case(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.case(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.case(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(66)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(65)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(64)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(63)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(62)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(61)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(60)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(59)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(58)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(57)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(56)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(55)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(54)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(53)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(52)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(51)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(50)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(49)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(48)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(47)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(46)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(45)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(44)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(43)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(42)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(41)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(40)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(39)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(38)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(37)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(36)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(35)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(34)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(33)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(32)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(31)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(30)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(29)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(28)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(27)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(26)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(25)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(24)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(23)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(22)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(21)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(20)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(19)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(18)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(17)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(16)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(15)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(14)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(13)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(12)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(11)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(10)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(9)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(8)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(7)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(6)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(5)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(4)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(3)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(2)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.simps(1)|thm"><span class="entity_def" id="Propositional_Formula.formula.eq.refl|thm"><span class="entity_def" id="Propositional_Formula.arity_equal_formula|thm"><span class="entity_def" id="Propositional_Formula.equal_formula_def|thm"><span class="entity_def" id="Propositional_Formula.equal_formula_inst.equal_formula|thm"><span class="entity_def" id="Propositional_Formula.arity_partial_term_of_formula|thm"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_triv|thm"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_inst.partial_term_of_formula|thm"><span class="entity_def" id="Propositional_Formula.arity_term_of_formula|thm"><span class="entity_def" id="Propositional_Formula.term_of_formula_triv|thm"><span class="entity_def" id="Propositional_Formula.term_of_formula_inst.term_of_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.case_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.ctor_rec_formula_def|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.set_transfer|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.set_map|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_transfer|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_transp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_symp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_reflp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_refl_strong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_refl|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_cong_simp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_cong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_mono_strong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_mono|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_map(2)|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_map(1)|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_Grp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_flip|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_eq_onp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_eq|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_conversep|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_compp_Grp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.rel_compp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_set|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_True|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_transfer|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_rel|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_map|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_cong_simp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_cong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_mono_strong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.pred_mono|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_ident|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_transfer|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_id0|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_id|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong_pred|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong_simp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_cong0|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.map_comp|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.inj_map_strong|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.inj_map|thm"><span class="entity_def" id="Propositional_Formula.Propositional_Formula.formula.in_rel|thm"><span class="entity_def" id="Propositional_Formula.formula.wit_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.pred_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.rel_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.set_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.map_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.dtor_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.ctor_fold_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.ctor_formula_def|thm"><span class="entity_def" id="Propositional_Formula.arity_typerep_formula|thm"><span class="entity_def" id="Propositional_Formula.typerep_formula_def|thm"><span class="entity_def" id="Propositional_Formula.typerep_formula_inst.typerep_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.type_definition_formula|thm"><span class="entity_def" id="Propositional_Formula.arity_type_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.str_init_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.arity_typerep_formula_IITN_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_inst.typerep_formula_IITN_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.type_definition_formula_IITN_formula|thm"><span class="entity_def" id="Propositional_Formula.arity_type_formula_IITN_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.min_alg_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.mor_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.alg_formula_def|thm"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set2_pre_formula_def|thm"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set1_pre_formula_def|thm"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.rel_pre_formula_def|thm"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.map_pre_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.arity_typerep_formula_pre_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_def|thm"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_inst.typerep_formula_pre_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_induct|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_cases|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_inject|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula_inverse|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.type_definition_formula_pre_formula|thm"><span class="entity_def" id="Propositional_Formula.arity_type_formula_pre_formula|thm"><span class="entity_def" id="Propositional_Formula.formula.size_formula_overloaded_def|axiom"><span class="entity_def" id="Propositional_Formula.size_formula_inst.size_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.size_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.rec_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.equal_formula_def_raw|axiom"><span class="entity_def" id="Propositional_Formula.equal_formula_inst.equal_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_triv_raw|axiom"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_inst.partial_term_of_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.term_of_formula_triv_raw|axiom"><span class="entity_def" id="Propositional_Formula.term_of_formula_inst.term_of_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.case_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Equiv_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Impl_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Neg_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Disj_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Conj_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.Prop_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.ctor_rec_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.wit_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.pred_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.rel_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.set_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.map_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.dtor_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.ctor_fold_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.ctor_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.typerep_formula_def_raw|axiom"><span class="entity_def" id="Propositional_Formula.typerep_formula_inst.typerep_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.type_definition_formula|axiom"><span class="entity_def" id="Propositional_Formula.arity_type_formula|axiom"><span class="entity_def" id="Propositional_Formula.formula.str_init_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_def_raw|axiom"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_inst.typerep_formula_IITN_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.type_definition_formula_IITN_formula|axiom"><span class="entity_def" id="Propositional_Formula.arity_type_formula_IITN_formula|axiom"><span class="entity_def" id="Propositional_Formula.formula.min_alg_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.mor_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.alg_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.wit_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.pred_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.rel_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set2_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set1_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.map_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_def_raw|axiom"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_inst.typerep_formula_pre_formula_def|axiom"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.type_definition_formula_pre_formula|axiom"><span class="entity_def" id="Propositional_Formula.arity_type_formula_pre_formula|axiom"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.pred_raw_sum_def|axiom"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.rel_raw_sum_def|axiom"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.set2_raw_sum_def|axiom"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.map_raw_sum_def|axiom"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum2.sum.Sum_Type.set_raw_sum_def|axiom"><span class="entity_def" id="Propositional_Formula.size_formula_inst.size_formula|const"><span class="entity_def" id="Propositional_Formula.formula.size_formula|const"><span class="entity_def" id="Propositional_Formula.equal_formula_inst.equal_formula|const"><span class="entity_def" id="Propositional_Formula.partial_term_of_formula_inst.partial_term_of_formula|const"><span class="entity_def" id="Propositional_Formula.term_of_formula_inst.term_of_formula|const"><span class="entity_def" id="Propositional_Formula.formula.case_formula|const"><span class="entity_def" id="Propositional_Formula.typerep_formula_inst.typerep_formula|const"><span class="entity_def" id="Propositional_Formula.formula.Abs_formula|const"><span class="entity_def" id="Propositional_Formula.formula.Rep_formula|const"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_IITN_formula_inst.typerep_formula_IITN_formula|const"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Abs_formula_IITN_formula|const"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula.Rep_formula_IITN_formula|const"><span class="entity_def" id="Propositional_Formula.formula.mor_formula|const"><span class="entity_def" id="Propositional_Formula.formula.alg_formula|const"><span class="entity_def" id="Propositional_Formula.formula.typerep_formula_pre_formula_inst.typerep_formula_pre_formula|const"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Abs_formula_pre_formula|const"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula.Rep_formula_pre_formula|const"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.pred_raw_sum|const"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.rel_raw_sum|const"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.set2_raw_sum|const"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum.Sum_Type.map_raw_sum|const"><span class="entity_def" id="Propositional_Formula.raw_sum.formula.sum2.sum.Sum_Type.set_raw_sum|const"><span class="entity_def" id="Propositional_Formula.formula.formula_IITN_formula|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Propositional_Formula.formula.rec_formula|const"><span class="entity_def" id="Propositional_Formula.formula.ctor_rec_formula|const"><span class="entity_def" id="Propositional_Formula.formula.wit_formula|const"><span class="entity_def" id="Propositional_Formula.formula.pred_formula|const"><span class="entity_def" id="Propositional_Formula.formula.rel_formula|const"><span class="entity_def" id="Propositional_Formula.formula.set_formula|const"><span class="entity_def" id="Propositional_Formula.formula.map_formula|const"><span class="entity_def" id="Propositional_Formula.formula.dtor_formula|const"><span class="entity_def" id="Propositional_Formula.formula.ctor_fold_formula|const"><span class="entity_def" id="Propositional_Formula.formula.ctor_formula|const"><span class="entity_def" id="Propositional_Formula.formula.str_init_formula|const"><span class="entity_def" id="Propositional_Formula.formula.min_alg_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.wit_pre_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.pred_pre_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.rel_pre_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set2_pre_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.set1_pre_formula|const"><span class="entity_def" id="Propositional_Formula.pre_formula.formula.map_pre_formula|const"><span class="entity_def" id="Propositional_Formula.formula|type"><span class="entity_def" id="Propositional_Formula.formula.formula_pre_formula|type"><span>formula</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><span class="entity_def" id="Propositional_Formula.formula.Prop|const"><span>Prop</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'a</span></span></span></span><span> </span><span class="main"><span>|</span></span><span> 
  </span><span class="entity_def" id="Propositional_Formula.formula.Conj|const"><span>Conj</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> 
  </span><span class="entity_def" id="Propositional_Formula.formula.Disj|const"><span>Disj</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> 
  </span><span class="entity_def" id="Propositional_Formula.formula.Neg|const"><span>Neg</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="entity_def" id="Propositional_Formula.formula.Impl|const"><span>Impl</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="entity_def" id="Propositional_Formula.formula.Equiv|const"><span>Equiv</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.eval.elims|fact"><span class="entity_def" id="Propositional_Formula.eval.induct|fact"><span class="entity_def" id="Propositional_Formula.eval.simps|fact"><span class="entity_def" id="Propositional_Formula.eval.pelims|fact"><span class="entity_def" id="Propositional_Formula.eval.cases|fact"><span class="entity_def" id="Propositional_Formula.eval.termination|fact"><span class="entity_def" id="Propositional_Formula.eval.pinduct|fact"><span class="entity_def" id="Propositional_Formula.eval.psimps|fact"><span class="entity_def" id="Propositional_Formula.eval_rel.inducts|fact"><span class="entity_def" id="Propositional_Formula.eval_rel.simps|fact"><span class="entity_def" id="Propositional_Formula.eval_rel.induct|fact"><span class="entity_def" id="Propositional_Formula.eval_rel.cases|fact"><span class="entity_def" id="Propositional_Formula.eval_rel.intros|fact"><span class="entity_def" id="Propositional_Formula.eval_graph.inducts|fact"><span class="entity_def" id="Propositional_Formula.eval_graph.simps|fact"><span class="entity_def" id="Propositional_Formula.eval_graph.induct|fact"><span class="entity_def" id="Propositional_Formula.eval_graph.cases|fact"><span class="entity_def" id="Propositional_Formula.eval_graph.intros|fact"><span class="entity_def" id="Propositional_Formula.eval.elims(3)|thm"><span class="entity_def" id="Propositional_Formula.eval.elims(2)|thm"><span class="entity_def" id="Propositional_Formula.eval.elims(1)|thm"><span class="entity_def" id="Propositional_Formula.eval.induct|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(6)|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(5)|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(4)|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(3)|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(2)|thm"><span class="entity_def" id="Propositional_Formula.eval.simps(1)|thm"><span class="entity_def" id="Propositional_Formula.eval.pelims(3)|thm"><span class="entity_def" id="Propositional_Formula.eval.pelims(2)|thm"><span class="entity_def" id="Propositional_Formula.eval.pelims(1)|thm"><span class="entity_def" id="Propositional_Formula.eval.cases|thm"><span class="entity_def" id="Propositional_Formula.eval.termination|thm"><span class="entity_def" id="Propositional_Formula.eval.pinduct|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(6)|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(5)|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(4)|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(3)|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(2)|thm"><span class="entity_def" id="Propositional_Formula.eval.psimps(1)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.inducts|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.simps|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.induct|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.cases|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(7)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(6)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(5)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(4)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(3)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(2)|thm"><span class="entity_def" id="Propositional_Formula.eval_rel.intros(1)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.inducts|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.simps|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.induct|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.cases|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(6)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(5)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(4)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(3)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(2)|thm"><span class="entity_def" id="Propositional_Formula.eval_graph.intros(1)|thm"><span class="entity_def" id="Propositional_Formula.eval_def|axiom"><span class="entity_def" id="Propositional_Formula.eval_rel_def|axiom"><span class="entity_def" id="Propositional_Formula.eval_sumC_def|axiom"><span class="entity_def" id="Propositional_Formula.eval_graph_def|axiom"><span class="entity_def" id="Propositional_Formula.eval_dom|const"><span class="entity_def" id="Propositional_Formula.eval_rel|const"><span class="entity_def" id="Propositional_Formula.eval_sumC|const"><span class="entity_def" id="Propositional_Formula.eval_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.eval|const"><span>eval</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Impl|const"><span>Impl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definition of propositional formula size: number of connectives</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.size_pf.elims|fact"><span class="entity_def" id="Propositional_Formula.size_pf.induct|fact"><span class="entity_def" id="Propositional_Formula.size_pf.simps|fact"><span class="entity_def" id="Propositional_Formula.size_pf.pelims|fact"><span class="entity_def" id="Propositional_Formula.size_pf.cases|fact"><span class="entity_def" id="Propositional_Formula.size_pf.termination|fact"><span class="entity_def" id="Propositional_Formula.size_pf.pinduct|fact"><span class="entity_def" id="Propositional_Formula.size_pf.psimps|fact"><span class="entity_def" id="Propositional_Formula.size_pf_rel.inducts|fact"><span class="entity_def" id="Propositional_Formula.size_pf_rel.simps|fact"><span class="entity_def" id="Propositional_Formula.size_pf_rel.induct|fact"><span class="entity_def" id="Propositional_Formula.size_pf_rel.cases|fact"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros|fact"><span class="entity_def" id="Propositional_Formula.size_pf_graph.inducts|fact"><span class="entity_def" id="Propositional_Formula.size_pf_graph.simps|fact"><span class="entity_def" id="Propositional_Formula.size_pf_graph.induct|fact"><span class="entity_def" id="Propositional_Formula.size_pf_graph.cases|fact"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros|fact"><span class="entity_def" id="Propositional_Formula.size_pf.elims|thm"><span class="entity_def" id="Propositional_Formula.size_pf.induct|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(6)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(5)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(4)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(3)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(2)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.simps(1)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.pelims|thm"><span class="entity_def" id="Propositional_Formula.size_pf.cases|thm"><span class="entity_def" id="Propositional_Formula.size_pf.termination|thm"><span class="entity_def" id="Propositional_Formula.size_pf.pinduct|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(6)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(5)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(4)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(3)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(2)|thm"><span class="entity_def" id="Propositional_Formula.size_pf.psimps(1)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.inducts|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.simps|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.induct|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.cases|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(7)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(6)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(5)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(4)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(3)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(2)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_rel.intros(1)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.inducts|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.simps|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.induct|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.cases|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(6)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(5)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(4)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(3)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(2)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_graph.intros(1)|thm"><span class="entity_def" id="Propositional_Formula.size_pf_def|axiom"><span class="entity_def" id="Propositional_Formula.size_pf_rel_def|axiom"><span class="entity_def" id="Propositional_Formula.size_pf_sumC_def|axiom"><span class="entity_def" id="Propositional_Formula.size_pf_graph_def|axiom"><span class="entity_def" id="Propositional_Formula.size_pf_dom|const"><span class="entity_def" id="Propositional_Formula.size_pf_rel|const"><span class="entity_def" id="Propositional_Formula.size_pf_sumC|const"><span class="entity_def" id="Propositional_Formula.size_pf_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.size_pf|const"><span>size_pf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Impl|const"><span>Impl</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_pf</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>size_pf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>g</span></span></span></span><span>"</span></span></span><span>  

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Conjunctive Normal Forms</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Propositional_Formula.clause|type"><span>clause</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span>list</span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Propositional_Formula.cnf|type"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.clause|type"><span>clause</span></a><span> </span><span>list</span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.formula_of_lit.elims|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.induct|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.simps|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.pelims|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.cases|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.termination|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.pinduct|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.psimps|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.inducts|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.simps|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.induct|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.cases|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.intros|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.inducts|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.simps|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.induct|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.cases|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.intros|fact"><span class="entity_def" id="Propositional_Formula.formula_of_lit.elims|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.induct|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.simps(2)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.simps(1)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.pelims|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.cases|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.termination|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.pinduct|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.psimps(2)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit.psimps(1)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.inducts|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.simps|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.induct|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel.cases|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.inducts|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.simps|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.induct|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.cases|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.intros(2)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph.intros(1)|thm"><span class="entity_def" id="Propositional_Formula.formula_of_lit_def|axiom"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel_def|axiom"><span class="entity_def" id="Propositional_Formula.formula_of_lit_sumC_def|axiom"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph_def|axiom"><span class="entity_def" id="Propositional_Formula.formula_of_lit_dom|const"><span class="entity_def" id="Propositional_Formula.formula_of_lit_rel|const"><span class="entity_def" id="Propositional_Formula.formula_of_lit_sumC|const"><span class="entity_def" id="Propositional_Formula.formula_of_lit_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula_of_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula_of_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.formula_of_cnf_def|fact"><span class="entity_def" id="Propositional_Formula.formula_of_cnf_def|thm"><span class="entity_def" id="Propositional_Formula.formula_of_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.formula_of_cnf|const"><span>formula_of_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula|type"><span>formula</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula_of_cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="keyword1"><span>o</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="keyword1"><span>o</span></span><span> </span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.eval_cnf_def|fact"><span class="entity_def" id="Propositional_Formula.eval_cnf_def|thm"><span class="entity_def" id="Propositional_Formula.eval_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval_cnf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf|const"><span>formula_of_cnf</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Propositional_Formula.eval_cnf_alt_def|fact"><span class="entity_def" id="Propositional_Formula.eval_cnf_alt_def|thm"><span>eval_cnf_alt_def</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Ball</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span>Bex</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>snd</span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf_def|fact"><span>eval_cnf_def</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf_def|fact"><span>formula_of_cnf_def</span></a><span> </span><span>o_def</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval.simps|fact"><span>eval.simps</span></a><span> </span><span>set_map</span><span> </span><span>Ball_image_comp</span><span> </span><span>bex_simps</span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>ball_cong</span><span> </span><span>bex_cong</span><span> </span><span>refl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> c l</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>snd</span><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The size of a CNF is the number of literals + the number of clauses, i.e., 
</span><span>  the sum of the lengths of all clauses + the length.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Propositional_Formula.size_cnf_def|fact"><span class="entity_def" id="Propositional_Formula.size_cnf_def|thm"><span class="entity_def" id="Propositional_Formula.size_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Propositional_Formula.size_cnf|const"><span>size_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>size_cnf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span>"</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span></pre></div><div id='RPO_NP_Hard'>head>


<body>
<div class="head">
<h1>Theory Multiset_Ordering_in_NP</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Deciding the Generalized Multiset Ordering is in NP</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We first define a SAT-encoding for the comparison of two multisets w.r.t. two relations S and NS,
</span><span>  then show soundness of the encoding and finally show that the size of the encoding is quadratic in the input.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span>
  </span><span>Multiset_Ordering_in_NP</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
  </span><a href="Multiset_Ordering_More.html"><span>Multiset_Ordering_More</span></a><span>
  </span><a href="Propositional_Formula.html"><span>Propositional_Formula</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Locale for Generic Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We first define a generic encoding which may be instantiated for both propositional formulas
</span><span>  and for CNFs. Here, we require some encoding primitives with the semantics specified in the 
</span><span>  enc-sound assumptions.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.intro|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.intro|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder|locale"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder|const"><span>encoder</span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_False</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_True</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'f</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_pos</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_neg</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_different</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_equiv_and_not</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_equiv_ite</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_ite</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_impl</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_var_impl</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_not_and</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_not_all</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>enc_conj</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.enc_sound(1)|thm"><span class="entity_def" id="offset_1163..1172">enc_sound</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_False</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>False</span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_True</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_pos</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_neg</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_different</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_equiv_and_not</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_equiv_ite</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>z</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>u</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_ite</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>z</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_impl</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_var_impl</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_not_and</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_not_all</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span>Ball</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>Î±</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_conj</span></span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>Ball</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definition of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We need to encode formulas of the shape that exactly one variable
</span><span>  is evaluated to true. Here, we use the linear encoding of 
</span><span>   \cite[Section~5.3]{DBLP:journals/jsat/EenS06}
</span><span>  that requires some auxiliary variables. More precisely, for each
</span><span>  propositional variable that we want to count we require two auxiliary variables.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_sumC.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel.intros|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_sumC.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_sumC_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main|const"><span class="entity_def" id="offset_2171..2190">encode_sum_0_1_main</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encode_sum_0_1_main</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>one</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>[</span></span><span class="free"><span>enc_different</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encode_sum_0_1_main</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>one</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rest</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span>encode_sum_0_1_main</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rest</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      </span><span class="main"><span>(</span></span><span class="bound"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>fone</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="keyword1"><span>let</span></span><span>
        </span><span class="bound"><span>czero</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_equiv_and_not</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span> </span><span class="bound"><span>fzero</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>;</span></span><span>
        </span><span class="bound"><span>cone</span></span><span>  </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_equiv_ite</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>one</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="bound"><span>fzero</span></span><span> </span><span class="bound"><span>fone</span></span><span>
       </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>czero</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>cone</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>zero</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>one</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one|const"><span class="entity_def" id="offset_2590..2608">encode_exactly_one</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encode_exactly_one</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>vars</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>vars</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_False</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_pos</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>vars</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="bound"><span>vars</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>one</span></span><span class="main"><span>)</span></span><span> 
              </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_ite</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>zero</span></span><span> </span><span class="bound"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>conds</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_sumC.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.psimps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.psimps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_sumC.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.intros(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_sumC_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond|const"><span class="entity_def" id="offset_2889..2904">encodeGammaCond</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encodeGammaCond</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span> </span><span>True</span><span> </span><span>True</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_True</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encodeGammaCond</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span> </span><span>False</span><span> </span><span>False</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_neg</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encodeGammaCond</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span> </span><span>False</span><span> </span><span>True</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_var_impl</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encodeGammaCond</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span> </span><span>True</span><span> </span><span>False</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_not_and</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>gam</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>eps</span></span></span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The encoding of the multiset comparisons is based on \cite[Sections~3.6 and 3.7]{RPO_NP}.
</span><span>  It uses propositional variables $\gamma_{ij}$ and $\epsilon_i$. 
</span><span>  We further add auxiliary variables that are required for the exactly-one-encoding.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_full_exhaustive_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.full_exhaustive_PropVar.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.full_exhaustive_PropVar_inst.full_exhaustive_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_narrowing_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.narrowing_PropVar.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.narrowing_PropVar_inst.narrowing_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_random_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_inst.random_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.random_aux.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.random_aux_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_size_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_overloaded_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_PropVar_inst.size_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec_transfer|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_transfer|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.splits|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.split_asm|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.split|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.nchotomy|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.exhaust|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_distrib|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_cong_weak|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.refl|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_equal_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_inst.equal_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_partial_term_of_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_triv|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_inst.partial_term_of_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_term_of_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_triv|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_inst.term_of_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_rec_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.dtor_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_fold_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_typerep_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_inst.typerep_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.type_definition_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.str_init_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.arity_typerep_PropVar_IITN_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_inst.typerep_PropVar_IITN_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.type_definition_PropVar_IITN_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_IITN_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.min_alg_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.mor_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.alg_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.set_pre_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.rel_pre_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.map_pre_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.arity_typerep_PropVar_pre_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_inst.typerep_PropVar_pre_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_inject|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_inverse|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.type_definition_PropVar_pre_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_pre_PropVar|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_full_exhaustive_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.full_exhaustive_PropVar.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.full_exhaustive_PropVar_inst.full_exhaustive_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_narrowing_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.narrowing_PropVar.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.narrowing_PropVar_inst.narrowing_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_random_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_inst.random_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.random_aux.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.random_aux_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_gen(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_size_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_overloaded_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.size_PropVar_inst.size_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(48)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(47)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(46)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(45)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(44)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(43)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(42)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(41)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(40)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(39)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(38)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(37)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(36)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(35)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(34)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(33)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(32)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(31)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(30)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(29)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(28)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(27)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(26)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(25)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(24)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(23)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(22)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(21)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(20)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(19)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(18)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(17)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(16)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(15)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(14)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec_transfer|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_transfer|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.splits(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.splits(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.split_asm|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.split|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.nchotomy|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.inject(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.exhaust|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(30)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(29)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(28)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(27)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(26)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(25)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(24)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(23)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(22)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(21)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(20)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(19)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(18)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(17)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(16)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(15)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(14)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.distinct(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_distrib|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_cong_weak|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(66)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(65)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(64)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(63)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(62)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(61)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(60)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(59)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(58)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(57)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(56)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(55)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(54)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(53)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(52)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(51)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(50)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(49)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(48)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(47)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(46)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(45)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(44)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(43)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(42)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(41)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(40)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(39)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(38)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(37)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(36)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(35)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(34)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(33)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(32)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(31)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(30)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(29)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(28)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(27)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(26)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(25)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(24)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(23)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(22)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(21)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(20)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(19)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(18)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(17)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(16)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(15)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(14)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.eq.refl|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_equal_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_inst.equal_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_partial_term_of_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_triv|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_inst.partial_term_of_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_term_of_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_triv|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_inst.term_of_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_rec_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.dtor_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_fold_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_typerep_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_inst.typerep_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.type_definition_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.str_init_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.arity_typerep_PropVar_IITN_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_inst.typerep_PropVar_IITN_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.type_definition_PropVar_IITN_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_IITN_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.min_alg_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.mor_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.alg_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.set_pre_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.rel_pre_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.map_pre_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.arity_typerep_PropVar_pre_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_inst.typerep_PropVar_pre_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_inject|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar_inverse|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.type_definition_PropVar_pre_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_pre_PropVar|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.full_exhaustive_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.full_exhaustive_PropVar_inst.full_exhaustive_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.narrowing_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.narrowing_PropVar_inst.narrowing_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_inst.random_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.random_aux_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_overloaded_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.size_PropVar_inst.size_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_inst.equal_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_triv_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_inst.partial_term_of_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_triv_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_inst.term_of_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxOneIJ_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxZeroIJ_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxOneJI_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxZeroJI_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Epsilon_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Gamma_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_rec_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.dtor_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_fold_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_inst.typerep_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.type_definition_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.str_init_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_inst.typerep_PropVar_IITN_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.type_definition_PropVar_IITN_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_IITN_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.min_alg_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.mor_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.alg_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.wit_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.pred_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.rel_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.set_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.map_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_inst.typerep_PropVar_pre_PropVar_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.type_definition_PropVar_pre_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.arity_type_PropVar_pre_PropVar|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.full_exhaustive_PropVar_inst.full_exhaustive_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.narrowing_PropVar_inst.narrowing_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.random_PropVar_inst.random_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.random_aux_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.size_PropVar_inst.size_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.size_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.equal_PropVar_inst.equal_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.partial_term_of_PropVar_inst.partial_term_of_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.term_of_PropVar_inst.term_of_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.case_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.typerep_PropVar_inst.typerep_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Abs_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Rep_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_IITN_PropVar_inst.typerep_PropVar_IITN_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Abs_PropVar_IITN_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar.Rep_PropVar_IITN_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.mor_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.alg_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.typerep_PropVar_pre_PropVar_inst.typerep_PropVar_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Abs_PropVar_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar.Rep_PropVar_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_IITN_PropVar|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.rec_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_rec_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.dtor_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_fold_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.ctor_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.str_init_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.min_alg_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.wit_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.pred_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.rel_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.set_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pre_PropVar.PropVar.map_pre_PropVar|const"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar|type"><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.PropVar_pre_PropVar|type"><span>PropVar</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></span><span> </span><span class="quoted"><span>nat</span></span><span> 
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="quoted"><span>nat</span></span><span>
  </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></span><span> </span><span class="quoted"><span>nat</span></span><span> </span><span class="quoted"><span>nat</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>At this point we define a new locale as an instance of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>locale</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.encoder|locale"><span>encoder</span></a><span class="antiquote"><span>}</span></span></span><span> where the 
</span><span>  type of propositional variables is fixed to </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>typ</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar|type"><span>PropVar</span></a></span><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.axioms|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.intro|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.axioms|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.intro|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder|locale"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder|const"><span>ms_encoder</span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.encoder|locale"><span>encoder</span></a><span> </span><span class="quoted"><span class="free"><span>eval</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar|type"><span>PropVar</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula14|const"><span class="entity_def" id="offset_3808..3817">formula14</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula14</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> 
    </span><span class="bound"><span>inner_left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>cands</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>cands</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>List.maps</span><span> </span><span class="bound"><span>inner_left</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>inner_right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
    </span><span class="bound"><span>right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>inner_right</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>cands</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>enc_impl</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>cands</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span>in</span></span><span> </span><span class="bound"><span>left</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="bound"><span>right</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15|const"><span class="entity_def" id="offset_4313..4322">formula15</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula15</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cns</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> 
   </span><span class="bound"><span>conjs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>ns</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cns</span></span></span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="keyword1"><span>in</span></span><span> 
       </span><span class="keyword1"><span>if</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>ns</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2889..2904"><span>encodeGammaCond</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>ns</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>]</span></span><span>  
  </span><span class="keyword1"><span>in</span></span><span> </span><span class="bound"><span>conjs</span></span><span> </span><span class="main"><span>@</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_3808..3817"><span>formula14</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16|const"><span class="entity_def" id="offset_4645..4654">formula16</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
</span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>formula16</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cns</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_not_all</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cns</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The main encoding function. It takes a function as input
</span><span>  that returns for each pair of elements a pair of Booleans, and
</span><span>  these indicate whether the elements are strictly or weakly decreasing. Moreover, two input lists are given.
</span><span>  Finally two formulas are returned, where the first is satisfiable iff the two lists are strictly decreasing w.r.t.
</span><span>  the multiset ordering, and second is satisfiable iff there is a weak decrease w.r.t. the multiset ordering.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext.cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext.cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext|const"><span class="entity_def" id="offset_5294..5308">encode_mul_ext</span></span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>Ã</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>encode_mul_ext</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s_ns</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> 
     </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>;</span></span><span> 
     </span><span class="bound"><span>m</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span class="main"><span>;</span></span><span> 
     </span><span class="bound"><span>cs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s_ns</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>cns</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s_ns</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ys</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>f15</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="bound"><span>cs</span></span><span> </span><span class="bound"><span>cns</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="bound"><span>m</span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>f16</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_not_all</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>f15</span></span><span>
    </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_conj</span></span><span> </span><span class="bound"><span>f16</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>enc_conj</span></span><span> </span><span class="bound"><span>f15</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Soundness of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5722..5729">context</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.encoder|locale"><span>encoder</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all|const"><span class="entity_def" id="offset_5758..5766">eval_all</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'f</span></span><span> </span><span>list</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval_all</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span>Ball</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>fs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Î±</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5854..5859">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_sum_0_1_main|thm"><span class="entity_def" id="offset_5860..5879">encode_sum_0_1_main</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>one</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>ze</span></span><span> </span><span class="bound"><span>on</span></span><span> </span><span class="bound"><span>re</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>prop</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>drop</span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>ze</span></span><span class="main"><span>,</span></span><span class="bound"><span>on</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>re</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
       </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>ze</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>insert</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>re</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>y</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>insert</span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>re</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>prop</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>zero</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5854..5859"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>conds</span></span></span><span> </span><span class="quoted"><span class="free"><span>zero</span></span></span><span> </span><span class="quoted"><span class="free"><span>one</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_sum_0_1_main.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6429..6430">1</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span> </span><span class="skolem"><span>conds</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6429..6430"><span>1</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span>3-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6429..6430"><span>1</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="main"><span>0</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>prop</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_6533..6537">Cons</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>rr</span></span><span> </span><span class="skolem"><span>conds'</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?triple</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rest</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>rr</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fzero</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fone</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_6665..6668">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_sum_0_1_main.simps</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6665..6668"><span>res</span></a><span> </span><span>split</span><span> </span><span>Let_def</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6847..6851">zero</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>zero'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>zero</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6872..6875">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>one'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>one</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
       </span><span class="entity_def" id="offset_6901..6907">conds'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>conds'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_equiv_and_not</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>fzero</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span>enc_equiv_ite</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>fzero</span></span><span> </span><span class="skolem"><span>fone</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7025..7026">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7061..7065">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="var"><span>?rest</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>conds</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fzero</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fone</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6665..6668"><span>res</span></a><span> _ _ </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7061..7065"><span>dist</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i x ze on re</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Suc</span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ze</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>on</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>re</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6901..6907"><span>conds'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_7419..7421">IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fzero</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>a</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fone</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>prop</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7586..7590">True</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="main"><span>0</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>zero</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>one</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rest</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7586..7590"><span>True</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7649..7651">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span> </span><span>insert</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>insert</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?rest</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6847..6851"><span>zero</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6872..6875"><span>one</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6901..6907"><span>conds'</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval.simps|fact"><span>eval.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7025..7026"><span>x</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7419..7421"><span>IH</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7419..7421"><span>IH</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7649..7651"><span>id</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7905..7910">False</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6533..6537"><span>Cons</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7905..7910"><span>False</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6901..6907"><span>conds'</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7964..7966">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
       </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fzero</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>fone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6847..6851"><span>zero</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6872..6875"><span>one</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_6901..6907"><span>conds'</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval.simps|fact"><span>eval.simps</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7025..7026"><span>x</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7419..7421"><span>IH</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7419..7421"><span>IH</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_7964..7966"><span>id</span></a><span class="main"><span>)</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8187..8192">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_complete|thm"><span class="entity_def" id="offset_8193..8220">encode_exactly_one_complete</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>ze</span></span><span> </span><span class="bound"><span>on</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>â¹</span></span><span> 
        </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>ze</span></span><span class="main"><span>,</span></span><span class="bound"><span>on</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
       </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>ze</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>y</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>empty</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>single</span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>other</span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="free"><span>vars</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8787..8792">other</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze'</span></span><span> </span><span class="skolem"><span>on'</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zero</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8834..8837">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>   
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8903..8906">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_ite</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>on</span></span><span>"</span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8787..8792"><span>other</span></a><span> </span><span>split</span><span> </span><span>list.simps</span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?vars</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9098..9104">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vars'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>vars'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?vars</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8787..8792"><span>other</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9163..9167">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>main</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5860..5879"><span>encode_sum_0_1_main</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8834..8837"><span>res</span></a><span> _ _ </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9163..9167"><span>dist</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>True</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i x ze on re</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Suc</span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ze</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>on</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8787..8792"><span>other</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_via_drop</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_9539..9544">conds</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9569..9573">zero</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9628..9630">on</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9688..9691">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8903..8906"><span>one</span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9569..9573"><span>zero</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9628..9630"><span>on</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8787..8792"><span>other</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9098..9104"><span>vars'_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9688..9691"><span>one</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9539..9544"><span>conds</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_9921..9926">empty</span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_False</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_9921..9926"><span>empty</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8187..8192"><span>assms</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10177..10182">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encode_exactly_one_sound|thm"><span class="entity_def" id="offset_10183..10207">encode_exactly_one_sound</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>empty</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>single</span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
    </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>other</span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="free"><span>vars</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_10602..10607">other</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ze'</span></span><span> </span><span class="skolem"><span>on'</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zero</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_10649..10652">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>   
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10718..10721">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_ite</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>on</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10602..10607"><span>other</span></a><span> </span><span>split</span><span> </span><span>list.simps</span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>encode_sum_0_1_main</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?vars</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_10912..10918">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vars'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>vars'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?vars</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10602..10607"><span>other</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10977..10981">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>main</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>  </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5860..5879"><span>encode_sum_0_1_main</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10649..10652"><span>res</span></a><span> _ </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10977..10981"><span>dist</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>False</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span>conds</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>conds</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11261..11265">zero</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11320..11322">on</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Î±</span></span><span> </span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span class="bound"><span>x</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="free"><span>vars</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10718..10721"><span>one</span></a><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_11261..11265"><span>zero</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_11320..11322"><span>on</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10602..10607"><span>other</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10912..10918"><span>vars'_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_11608..11613">empty</span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_False</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_11608..11613"><span>empty</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10177..10182"><span>assms</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5722..5729"><span>encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.encodeGammaCond|thm"><span>encodeGammaCond</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2889..2904"><span>encodeGammaCond</span></a><span> </span><span class="free"><span>gam</span></span><span> </span><span class="free"><span>eps</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>ns</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>gam</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>eps</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>ns</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>eps</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>ns</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_append|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_append|thm"><span class="entity_def" id="offset_12015..12030">eval_all_append</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>fs</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>fs</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_Cons|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_Cons|thm"><span class="entity_def" id="offset_12113..12126">eval_all_Cons</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="free"><span>gs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_concat|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_concat|thm"><span class="entity_def" id="offset_12202..12217">eval_all_concat</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span>concat</span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_maps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.encoder.eval_all_maps|thm"><span class="entity_def" id="offset_12298..12311">eval_all_maps</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span>List.maps</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>fs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>Î±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>List.maps_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12202..12217"><span>eval_all_concat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12439..12446">context</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.ms_encoder|locale"><span>ms_encoder</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span>nat</span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12566..12568">cs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12612..12615">cns</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encoding_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encoding_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encoding_sound(1)|thm"><span class="entity_def" id="offset_12668..12682">encoding_sound</span></span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12695..12701">eval15</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12695..12701"><span>eval15</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula15_def</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12980..12986">eval14</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_3808..3817"><span>formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13027..13033">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>property</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>property</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13086..13092">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j_of_i</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>THE</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13178..13184">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i_of_j</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>THE</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>j</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13270..13276">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>property</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13333..13339">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>property</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13398..13404">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13441..13447">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?xs1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?xs2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys1</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ys2</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_13629..13630">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?vars</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_13762..13765">enc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="var"><span>?vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13826..13830">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>map_map</span><span> </span><span>o_def</span><span> </span><span>fst_conv</span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>distinct_map</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>inj_on_def</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_impl</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12980..12986"><span>eval14</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula14_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>conjunct2</span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13629..13630"><span>*</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13762..13765"><span>enc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13629..13630"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>one</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14179..14181">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10183..10207"><span>encode_exactly_one_sound</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13762..13765"><span>enc</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13826..13830"><span>dist</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14179..14181"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14248..14249">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>image_comp</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14344..14345">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
         </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14463..14464">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14248..14249"><span>1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14344..14345"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14463..14464"><span>3</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13086..13092"><span>j_of_i_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14605..14607">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>the_equality</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14605..14607"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14463..14464"><span>3</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14667..14668">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_14674..14680">j_of_i</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14667..14668"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>j</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_14713..14714">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?vars</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14813..14817">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span> </span><span class="var"><span>?vars</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>map_map</span><span> </span><span>o_def</span><span> </span><span>fst_conv</span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>distinct_map</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>inj_on_def</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14962..14965">enc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="var"><span>?vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12980..12986"><span>eval14</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula14_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>conjunct1</span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14713..14714"><span>*</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14962..14965"><span>enc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>one</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15221..15223">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_10183..10207"><span>encode_exactly_one_sound</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14962..14965"><span>enc</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14813..14817"><span>dist</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15221..15223"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15290..15291">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>image_comp</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15386..15387">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
         </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15505..15506">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15290..15291"><span>1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15386..15387"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i_of_j</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15505..15506"><span>3</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13178..13184"><span>i_of_j_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15647..15649">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>the_equality</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15647..15649"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15505..15506"><span>3</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15709..15710">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_15716..15722">i_of_j</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15709..15710"><span>this</span></a><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15738..15741">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="var"><span>?xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="var"><span>?ys1</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_15808..15813">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15738..15741"><span>len</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>k</span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_15838..15844">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="var"><span>?ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_15908..15909">k</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15738..15741"><span>len</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15838..15844"><span>i_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_16000..16002">ir</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13270..13276"><span>xs1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16066..16068">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14674..14680"><span>j_of_i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16066..16068"><span>this</span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16104..16106">**</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16165..16169">ys1k</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15838..15844"><span>i_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15908..15909"><span>k</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16246..16250">xs1k</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15838..15844"><span>i_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15908..15909"><span>k</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12695..12701"><span>eval15</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>i</span></span><span class="main"><span>â</span></span><span class="main"><span>{</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span>
        </span><span class="main"><span>â</span></span><span class="bound"><span>j</span></span><span class="main"><span>â</span></span><span class="main"><span>{</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula15_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cns</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16104..16106"><span>**</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16000..16002"><span>ir</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16246..16250"><span>xs1k</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16165..16169"><span>ys1k</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12612..12615"><span>cns</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16676..16677">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16678..16682">note</span></span></span><span> </span><span>step2</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16676..16677"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_16703..16708">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15808..15813"><span>goals</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16678..16682"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>xexp</span><span> </span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?xs2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13270..13276"><span>xs1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13333..13339"><span>xs2_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.mset_map_filter|fact"><span>mset_map_filter</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16845..16847">by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_16861..16866">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16703..16708"><span>goals</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16845..16847"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>property</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15716..15722"><span>i_of_j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14674..14680"><span>j_of_i</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>i</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17027..17028">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_17034..17045">i_of_j_of_i</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17027..17028"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>filter</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>xs1</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="var"><span>?l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17174..17176">dl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="var"><span>?l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13270..13276"><span>xs1_def</span></a><span> </span><span>distinct_map</span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span>filter</span><span> </span><span class="skolem"><span>property</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>inj_on</span><span> </span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="main"><span>(</span></span><span>filter</span><span> </span><span class="skolem"><span>property</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>inj_on_inverseI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>i_of_j</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17034..17045"><span>i_of_j_of_i</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17448..17450">dr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17483..17485">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>set</span><span> </span><span class="var"><span>?l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13270..13276"><span>xs1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14674..14680"><span>j_of_i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15716..15722"><span>i_of_j</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17174..17176"><span>dl</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17448..17450"><span>dr</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17483..17485"><span>id</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>set_eq_iff_mset_eq_distinct</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>      
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_17680..17683">ys1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>ys1</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="var"><span>?r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>yeyp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?ys2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17680..17683"><span>ys1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13441..13447"><span>ys2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.mset_map_filter|fact"><span>mset_map_filter</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17851..17853">..</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_17861..17866">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_16861..16866"><span>goals</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17851..17853"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?ys2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_17944..17945">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17965..17966">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17944..17945"><span>j</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13441..13447"><span>ys2_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13398..13404"><span>ys1_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18032..18033">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18047..18051">nmem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="skolem"><span>j_of_i</span></span><span> </span><span class="skolem"><span>xs1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?i</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15716..15722"><span>i_of_j</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18032..18033"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18032..18033"><span>j</span></a></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18140..18141">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18156..18160">gamm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="var"><span>?i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12695..12701"><span>eval15</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula15_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18140..18141"><span>i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18032..18033"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18156..18160"><span>gamm</span></a><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="var"><span>?i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="var"><span>?i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18358..18361">not</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="var"><span>?i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18047..18051"><span>nmem</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18140..18141"><span>i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18032..18033"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_15716..15722"><span>i_of_j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_14674..14680"><span>j_of_i</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13270..13276"><span>xs1_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>atLeast0LessThan</span><span> </span><span>filter_set</span><span> </span><span>imageI</span><span> </span><span>lessThan_iff</span><span> </span><span>list.set_map</span><span> </span><span>member_filter</span><span> </span><span>set_upt</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cs</span></span><span> </span><span class="var"><span>?i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_18596..18598">sy</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="var"><span>?i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17965..17966"><span>y</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12566..12568"><span>cs</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?i</span></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>j</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18358..18361"><span>not</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18140..18141"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13333..13339"><span>xs2_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="var"><span>?i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18596..18598"><span>sy</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18840..18841">}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_18849..18854">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_17861..17866"><span>goals</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18840..18841"><span>this</span></a><span>

  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_intro|fact"><span>ns_mul_ext_intro</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18849..18854"><span>goals</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>3</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>4</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>5</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>  

  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_19003..19009">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19003..19009"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula16_def</span></a><span> </span><span>Let_def</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13333..13339"><span>xs2_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_13027..13033"><span>property_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19233..19235">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_19248..19253">goals</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_18849..18854"><span>goals</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19233..19235"><span>this</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_intro|fact"><span>s_mul_ext_intro</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19248..19253"><span>goals</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>3</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>4</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>6</span><span class="main"><span class="main"><span class="main"><span>,</span></span></span></span><span>5</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.bex1_cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.bex1_cong|thm"><span class="entity_def" id="offset_19409..19418">bex1_cong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>X</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>X</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>Y</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>Q</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19509..19514">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encoding_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encoding_complete|thm"><span class="entity_def" id="offset_19515..19532">encoding_complete</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_elim|fact"><span>ns_mul_ext_elim</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19509..19514"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_elim|fact"><span>s_mul_ext_elim</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>NS</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Xs2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ys1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ys2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="offset_20004..20007">eq1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>Xs2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_20062..20065">eq2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>Ys2</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_20120..20123">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>Ys1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_20159..20161">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?S</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>Xs2</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_20187..20189">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="offset_20245..20246">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span>  </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>Ys2</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>Xs2</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.mset_map_split|fact"><span>mset_map_split</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20004..20007"><span>eq1</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
      </span><span class="entity_def" id="offset_20362..20364">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_20412..20415">xs1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_20444..20447">xs2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Xs2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.mset_map_split|fact"><span>mset_map_split</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20062..20065"><span>eq2</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys1</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
      </span><span class="entity_def" id="offset_20533..20535">ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_20583..20586">ys1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_20615..20618">ys2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20362..20364"><span>xs</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20661..20668">dist_xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>xs2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>distinct_upt</span><span> </span><span>mset_append</span><span> </span><span>mset_eq_imp_distinct_iff</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20362..20364"><span>xs</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20774..20779">un_xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>atLeast_upt</span><span> </span><span>set_mset_mset</span><span> </span><span>set_mset_union</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20533..20535"><span>ys</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20881..20888">dist_ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>ys2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>distinct_upt</span><span> </span><span>mset_append</span><span> </span><span>mset_eq_imp_distinct_iff</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20533..20535"><span>ys</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20994..20999">un_ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>atLeast_upt</span><span> </span><span>set_mset_mset</span><span> </span><span>set_mset_union</span><span class="main"><span>)</span></span><span>  
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21090..21096">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>pos_of</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>THE</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span>list</span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20661..20668"><span>dist_xs</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20881..20888"><span>dist_ys</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>nat</span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_21353..21356">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21393..21395">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>distinct_Ex1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>theI'</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21393..21395"><span>this</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21090..21096"><span>pos_of_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21517..21519">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21517..21519"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21353..21356"><span>one</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21545..21546">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_21552..21555">pos</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21545..21546"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span>p_xs</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21552..21555"><span>pos</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â¹</span><span>distinct</span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>xs1</span></span></span></span><span>âº</span></span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_21607..21611">p_ys</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21552..21555"><span>pos</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>â¹</span><span>distinct</span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>ys1</span></span></span></span><span>âº</span></span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21639..21645">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i_of_j2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>SOME</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>j</span></span><span> 
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21714..21720">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v'</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar|type"><span>PropVar</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v'</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword1"><span>of</span></span><span>
       Epsilon </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>
     </span><span class="main"><span>|</span></span><span> Gamma </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="bound"><span>j</span></span><span>
           </span><span class="main"><span>â¨</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21940..21946">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar|type"><span>PropVar</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword1"><span>of</span></span><span>
       AuxZeroJI </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span>Bex</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>v'</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> AuxOneJI </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v'</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> AuxZeroIJ </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Â¬</span></span><span> </span><span>Bex</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>v'</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> AuxOneIJ </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v'</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>|</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>v'</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_22360..22366">v_defs</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21940..21946"><span>v_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21714..21720"><span>v'_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>j</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_22407..22409">j2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22407..22409"><span>j2</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>Ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20615..20618"><span>ys2</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22473..22475">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20245..20246"><span>S</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22473..22475"><span>this</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20444..20447"><span>xs2</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22555..22557">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12566..12568"><span>cs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>someI_ex</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22555..22557"><span>this</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21639..21645"><span>i_of_j2_def</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22630..22631">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cs</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22407..22409"><span>j2</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22744..22746">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22630..22631"><span>*</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22744..22746"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22770..22771">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_22777..22782">j_ys2</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22770..22771"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>j</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_22815..22817">j1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?pj</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21607..21611"><span>p_ys</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22815..22817"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22815..22817"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22815..22817"><span>j1</span></a></a></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22890..22892">pj</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>Ys1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22917..22919">yj</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20583..20586"><span>ys1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22975..22978">pj'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>Xs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20120..20123"><span>len</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22890..22892"><span>pj</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20187..20189"><span>NS</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22890..22892"><span>pj</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22890..22892"><span>pj</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20583..20586"><span>ys1</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22917..22919"><span>yj</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22975..22978"><span>pj'</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20412..20415"><span>xs1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23239..23242">cns</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cns</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12612..12615"><span>cns</span></a><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23289..23292">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22975..22978"><span>pj'</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20412..20415"><span>xs1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23357..23358">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="var"><span>?pj</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22815..22817"><span>j1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23289..23292"><span>mem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23289..23292"><span>mem</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23239..23242"><span>cns</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23357..23358"><span>v</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23452..23453">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_23459..23464">j_ys1</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23452..23453"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23479..23481">14</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_3808..3817"><span>formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula14_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span> </span><span>ballI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_23629..23630">1</span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>cands</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_23668..23669">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23683..23684">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>cands</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23721..23724">enc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>cands</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?e</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?e</span></span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>cands</span></span><span> </span><span class="main"><span>â§</span></span><span>
          </span><span class="free"><span>eval</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8193..8220"><span>encode_exactly_one_complete</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23721..23724"><span>enc</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i y ze on</span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_24143..24145">ze</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ze</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_24172..24174">on</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24217..24219">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>=</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_map</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span>drop_map</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_24143..24145"><span>ze</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_24172..24174"><span>on</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_24217..24219"><span>id</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21940..21946"><span>v_def</span></a><span> </span><span>drop_map</span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19409..19418"><span>bex1_cong</span></a><span> </span><span>refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>distinct_map</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>inj_onI</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_map</span><span> </span><span>image_comp</span><span> </span><span>o_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>eq_True</span><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23668..23669"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20994..20999"><span>un_ys</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_25014..25015">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys2</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22777..22782"><span>j_ys2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><span>j</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20774..20779"><span>un_xs</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i_of_j2</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25090..25092">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25090..25092"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22777..22782"><span>j_ys2</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><span>j</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20881..20888"><span>dist_ys</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25014..25015"><span>j</span></a><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>ex1I</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="skolem"><span class="skolem"><span class="skolem"><span>i_of_j2</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>j</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>j</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_25268..25269">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23459..23464"><span>j_ys1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><span>j</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20774..20779"><span>un_xs</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25353..25355">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25353..25355"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23459..23464"><span>j_ys1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><span>j</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20881..20888"><span>dist_ys</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25268..25269"><span>j</span></a><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>ex1I</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a></a></a><span> </span><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span class="skolem"><span class="skolem"><span class="skolem"><span>xs1</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>pos_of</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>ys1</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>j</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>j</span></span></span></span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23629..23630"><span>1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23683..23684"><span>f</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_25590..25591">2</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>cands</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_25644..25645">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>enc_impl</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>cands</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_25703..25706">enc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>cands</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?e</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?e</span></span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>cands</span></span><span> </span><span class="main"><span>â§</span></span><span>
          </span><span class="free"><span>eval</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_8193..8220"><span>encode_exactly_one_complete</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25703..25706"><span>enc</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> j y ze on</span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_26125..26127">ze</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ze</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_26154..26156">on</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>on</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26199..26201">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
        </span><span class="main"><span>=</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_map</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span>drop_map</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_26125..26127"><span>ze</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_26154..26156"><span>on</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_26199..26201"><span>id</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21940..21946"><span>v_def</span></a><span> </span><span>drop_map</span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19409..19418"><span>bex1_cong</span></a><span> </span><span>refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>distinct_map</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>inj_onI</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>
       </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_map</span><span> </span><span>image_comp</span><span> </span><span>o_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26794..26799">cands</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>cands</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>eval</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â!</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_26885..26887">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_26885..26887"><span>this</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>eq_True</span><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_27027..27031">i_xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20661..20668"><span>dist_xs</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27092..27094">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27092..27094"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span>set_conv_nth</span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_27154..27156">p1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_27188..27191">xpi</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_27221..27227">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27154..27156"><span>p1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20120..20123"><span>len</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27274..27276">p2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20412..20415"><span>xs1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20583..20586"><span>ys1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_27333..27334">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27221..27227"><span>j_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21607..21611"><span>p_ys</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27333..27334"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27333..27334"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27333..27334"><span>j</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27274..27276"><span>p2</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27404..27406">pp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27221..27227"><span>j_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27333..27334"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20994..20999"><span>un_ys</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27473..27475">jm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27504..27505">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27333..27334"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27404..27406"><span>pp</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27188..27191"><span>xpi</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27027..27031"><span>i_xs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>k</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_27605..27607">vk</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27605..27607"><span>vk</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27027..27031"><span>i_xs</span></a><span> 
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27677..27678">k</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_27698..27700">ik</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21607..21611"><span>p_ys</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><span>k</span></a></a></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27698..27700"><span>ik</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27188..27191"><span>xpi</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27771..27773">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span>distinct</span><span> </span><span class="skolem"><span>xs1</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20120..20123"><span>len</span></a><span> </span><span>length_map</span><span> </span><span>nth_eq_iff_index_eq</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27154..27156"><span>p1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20412..20415"><span>xs1</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20583..20586"><span>ys1</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_21607..21611"><span>p_ys</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27677..27678"><span>k</span></a></a></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27771..27773"><span>id</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27221..27227"><span>j_def</span></a><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28024..28025">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_28031..28037">unique</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28024..28025"><span>this</span></a><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â!</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span>set</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="bound"><span>j</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>ex1I</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a></a></a><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>i</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>j</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27473..27475"><span>jm</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_27504..27505"><span>v</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>use</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28031..28037"><span>unique</span></a><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>in</span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25590..25591"><span>2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25644..25645"><span>f</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_26794..26799"><span>cands</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_25703..25706"><span>enc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_28269..28270">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_28284..28285">j</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> 
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_28307..28308">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28336..28342">strict</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>cs</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28269..28270"><span>i</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28284..28285"><span>j</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28307..28308"><span>v</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22777..22782"><span>j_ys2</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>j</span></span></span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_28468..28470">i'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20661..20668"><span>dist_xs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28307..28308"><span>v</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28557..28559">j'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20881..20888"><span>dist_ys</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28307..28308"><span>v</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28468..28470"><span>i'</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28652..28654">ii</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xs1</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>pos_of</span></span><span> </span><span class="skolem"><span>ys1</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23459..23464"><span>j_ys1</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28557..28559"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28557..28559"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28557..28559"><span>j'</span></a></a></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28652..28654"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28652..28654"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28652..28654"><span>ii</span></a></a></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cns</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28751..28752">}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28336..28342"><span>strict</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28751..28752"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28776..28777">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_28783..28790">compare</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28776..28777"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28805..28807">15</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula15_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12298..12311"><span>eval_all_maps</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12015..12030"><span>eval_all_append</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_23479..23481"><span>14</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28783..28790"><span>compare</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?S</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28963..28965">16</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span class="main"><span>{</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>}</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>bexI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span>hd</span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>xs2</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20159..20161"><span>ne</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?S</span></span><span>âº</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20444..20447"><span>xs2</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20774..20779"><span>un_xs</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_20661..20668"><span>dist_xs</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs2</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_22360..22366"><span>v_defs</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula16_def</span></a><span> </span><span>Let_def</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28805..28807"><span>15</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28963..28965"><span>16</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_28805..28807"><span>15</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula15|thm"><span class="entity_def" id="offset_29253..29262">formula15</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span> 
  </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12668..12682"><span>encoding_sound</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19515..19532"><span>encoding_complete</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.formula16|thm"><span class="entity_def" id="offset_29437..29446">formula16</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="free"><span>S</span></span><span> 
  </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5758..5766"><span>eval_all</span></a><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12668..12682"><span>encoding_sound</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_19515..19532"><span>encoding_complete</span></a><span> </span><span>s_ns_mul_ext</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>NS</span></span></span><span> </span><span class="quoted"><span class="free"><span>S</span></span></span><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula16_def</span></a><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12113..12126"><span>eval_all_Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29693..29698">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.ms_encoder.encode_mul_ext|thm"><span>encode_mul_ext</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5294..5308"><span>encode_mul_ext</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mul_ext</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eval</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_29848..29850">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>map_nth</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_29937..29939">ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>map_nth</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_29693..29698"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>encode_mul_ext_def</span></a><span> </span><span>Let_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_30088..30092">phis</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_conj</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>formula15</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>enc_conj</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>formula16</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_12439..12446"><span>formula16_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>mul_ext_def</span><span> </span><span>Let_def</span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_29848..29850"><span>xs</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_29937..29939"><span>ys</span></a><span> </span><span>prod.inject</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_30088..30092"><span>phis</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_1163..1172"><span>enc_sound</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>conjI</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_29253..29262"><span>formula15</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_29437..29446"><span>formula16</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Encoding into Propositional Formulas</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula16|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula15|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoding_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.bex1_cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoding_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula16_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula15_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula14_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.ms_encoder_axioms|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_maps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_concat|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_Cons|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_append|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoder_axioms|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_mul_ext_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula16_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula15_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula14_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encodeGammaCond_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_exactly_one_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_sum_0_1_main_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula16|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula15|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoding_complete|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.bex1_cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoding_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoding_sound(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_sound|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_complete|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.psimps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.psimps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.intros(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.intros|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula16_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula15_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula14_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.ms_encoder_axioms|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_maps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_concat|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_Cons|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all_append|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.enc_sound(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encoder_axioms|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_mul_ext_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula16_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula15_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula14_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encodeGammaCond_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_exactly_one_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_sum_0_1_main_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_mul_ext_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula16_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula15_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula14_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encodeGammaCond_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_exactly_one_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_sum_0_1_main_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula16|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula15|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.formula14|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.eval_all|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encodeGammaCond_graph|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main_graph|const"><span>global_interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> pf_encoder</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.ms_encoder|locale"><span>ms_encoder</span></a><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>z</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>z</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>u</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>z</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Impl|const"><span>Impl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>f</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Impl|const"><span>Impl</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a></span><span>
  </span><span class="quoted"><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a></span><span>
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> 
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>pf_encoder.encode_sum_0_1_main</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_exactly_one|const"><span>pf_encode_exactly_one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>pf_encoder.encode_exactly_one</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encodeGammaCond|const"><span>pf_encodeGammaCond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2889..2904"><span>pf_encoder.encodeGammaCond</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula14|const"><span>pf_formula14</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_3808..3817"><span>pf_encoder.formula14</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula15|const"><span>pf_formula15</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>pf_encoder.formula15</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_formula16|const"><span>pf_formula16</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>pf_encoder.formula16</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.pf_encode_mul_ext|const"><span>pf_encode_mul_ext</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5294..5308"><span>pf_encoder.encode_mul_ext</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold_locales</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The soundness theorem of the propositional formula encoder</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext|fact"><span>pf_encoder.encode_mul_ext</span></a><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Size of Propositional Formula Encoding is Quadratic</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31674..31679">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_sum_0_1_main|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_sum_0_1_main|thm"><span>size_pf_encode_sum_0_1_main</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>zero</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>12</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_31674..31679"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>conds</span></span></span><span> </span><span class="quoted"><span class="free"><span>one</span></span></span><span> </span><span class="quoted"><span class="free"><span>zero</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.induct|fact"><span>pf_encoder.encode_sum_0_1_main.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span> </span><span class="skolem"><span>conds</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_32089..32093">Cons</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>rr</span></span><span> </span><span class="skolem"><span>conds'</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?triple</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rest</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>rr</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fzero</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fone</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_32221..32224">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32089..32093"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_sum_0_1_main.simps|fact"><span>pf_encoder.encode_sum_0_1_main.simps</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32221..32224"><span>res</span></a><span> </span><span>split</span><span> </span><span>Let_def</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32420..32426">conds'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>conds'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span>
         </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Equiv|const"><span>Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>fone</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="skolem"><span>conds'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32420..32426"><span>conds'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32089..32093"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32221..32224"><span>res</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_32765..32770">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_exactly_one|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_exactly_one|thm"><span>size_pf_encode_exactly_one</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_exactly_one|const"><span>pf_encode_exactly_one</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_32969..32973">True</span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32765..32770"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_def|fact"><span>pf_encoder.encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32969..32973"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_33133..33138">False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ze'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_33172..33176">vars</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>vs</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_33269..33272">Nil</span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32765..32770"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33172..33176"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33269..33272"><span>Nil</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_def|fact"><span>pf_encoder.encode_exactly_one_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33172..33176"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33269..33272"><span>Nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_33466..33470">Cons</span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zero</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_33503..33506">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></a><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_33567..33570">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Neg|const"><span>Neg</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Prop|const"><span>Prop</span></a><span> </span><span class="skolem"><span>on</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_32765..32770"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33133..33138"><span>False</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33466..33470"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_exactly_one_def|fact"><span>pf_encoder.encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33172..33176"><span>vars</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_sum_0_1_main|const"><span>pf_encode_sum_0_1_main</span></a><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>  
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_encode_sum_0_1_main|fact"><span>size_pf_encode_sum_0_1_main</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33503..33506"><span>res</span></a><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_33833..33836">sum</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>28</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33466..33470"><span>Cons</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33172..33176"><span>vars</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_33928..33931">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33567..33570"><span>one</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33928..33931"><span>one</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33833..33836"><span>sum</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33172..33176"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_33466..33470"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_concat|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_concat|thm"><span>sum_list_concat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>concat</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>sum_list</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_34138..34143">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_triv_cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_triv_cong|thm"><span>sum_list_triv_cong</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subst</span></span><span> </span><span>map_cong</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>refl</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span class="main"><span>Î»</span></span></span></span><span> </span><span class="main"><span class="bound"><span class="main"><span class="bound"><span class="main"><span class="bound"><span>_</span></span></span></span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>.</span></span></span></span><span> </span><span class="free"><span class="free"><span class="free"><span>c</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_34138..34143"><span>assms</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>sum_list_triv</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula14|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula14|thm"><span>size_pf_formula14</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula14|const"><span>pf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula14|const"><span>pf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.formula14_def|fact"><span>pf_encoder.formula14_def</span></a><span> </span><span>Let_def</span><span> </span><span>sum_list_append</span><span> </span><span>map_append</span><span> </span><span>map_concat</span><span> </span><span>List.maps_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_concat|fact"><span>sum_list_concat</span></a><span> </span><span>map_map</span><span> </span><span>o_def</span><span>     
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>arg_cong2</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>(+)</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>1</span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_triv_cong|fact"><span>sum_list_triv_cong</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> j</span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_exactly_one|const"><span>pf_encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
            </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_encode_exactly_one|fact"><span>size_pf_encode_exactly_one</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>2</span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_triv_cong|fact"><span>sum_list_triv_cong</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i</span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_exactly_one|const"><span>pf_encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
            </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_encode_exactly_one|fact"><span>size_pf_encode_exactly_one</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encodeGammaCond|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encodeGammaCond|thm"><span>size_pf_encodeGammaCond</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encodeGammaCond|const"><span>pf_encodeGammaCond</span></a><span> </span><span class="free"><span>gam</span></span><span> </span><span class="free"><span>eps</span></span><span> </span><span class="free"><span>ns</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>4</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>ns</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula15|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula15|thm"><span>size_pf_formula15</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula15|const"><span>pf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula15|const"><span>pf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula14|const"><span>pf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.formula15_def|fact"><span>pf_encoder.formula15_def</span></a><span> </span><span>Let_def</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>size_list_conv_sum_list</span><span> </span><span>List.maps_def</span><span> </span><span>map_concat</span><span> </span><span>o_def</span><span> </span><span>length_concat</span><span> </span><span>sum_list_triv</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_concat|fact"><span>sum_list_concat</span></a><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>sum_list_mono</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>sum_list_mono</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span class="main"><span>Î»</span></span></span><span> </span><span class="main"><span class="bound"><span class="main"><span class="bound"><span>_</span></span></span></span></span><span class="main"><span class="main"><span>.</span></span></span><span> </span><span class="numeral"><span class="numeral"><span>4</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_encodeGammaCond|fact"><span>size_pf_encodeGammaCond</span></a><span> </span><span>sum_list_triv</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_formula14|fact"><span>size_pf_formula14</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula16|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_formula16|thm"><span>size_pf_formula16</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula16|const"><span>pf_formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula16|const"><span>pf_formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula15|const"><span>pf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.formula16_def|fact"><span>pf_encoder.formula16_def</span></a><span> </span><span>Let_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>o_def</span><span> </span><span>size_list_conv_sum_list</span><span> </span><span>sum_list_triv</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>add_right_mono</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_formula15|fact"><span>size_pf_formula15</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_36929..36934">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_mul_ext(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.size_pf_encode_mul_ext(1)|thm"><span>size_pf_encode_mul_ext</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_mul_ext|const"><span>pf_encode_mul_ext</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_37017..37018">n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>max</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_37061..37063">n0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_36929..36934"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext_def|fact"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext_def|fact"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.encode_mul_ext_def|fact"><span>pf_encoder.encode_mul_ext_def</span></a></a></a><span> </span><span>Let_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_37227..37231">phis</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula15|const"><span>pf_formula15</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Conj|const"><span>Conj</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_formula16|const"><span>pf_formula16</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encoder.formula16_def|fact"><span>pf_encoder.formula16_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37227..37231"><span>phis</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37017..37018"><span>n</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf.simps|fact"><span>size_pf.simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>add_left_mono</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_formula16|fact"><span>size_pf_formula16</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span> </span><span>mult_mono</span><span> </span><span>le_refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>24</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37061..37063"><span>n0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>power2_eq_square</span><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>21</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37227..37231"><span>phis</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37017..37018"><span>n</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf.simps|fact"><span>size_pf.simps</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>add_left_mono</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_pf_formula15|fact"><span>size_pf_formula15</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>max.mono</span><span> </span><span>add_mono</span><span> </span><span>mult_mono</span><span> </span><span>le_refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>25</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_37061..37063"><span>n0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>power2_eq_square</span><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Encoding into Conjunctive Normal Form</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula16|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula15|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoding_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.bex1_cong|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoding_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula16_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula15_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula14_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.ms_encoder_axioms|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_maps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_concat|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_Cons|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_append|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_complete|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.elims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.pelims|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.termination|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.psimps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoder_axioms|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_mul_ext_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula16_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula15_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula14_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encodeGammaCond_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_exactly_one_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main_def|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula16|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula15|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoding_complete|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.bex1_cong|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoding_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoding_sound(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_sound|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_complete|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.psimps(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.psimps(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.intros(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.termination|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.intros|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.intros(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula16_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula15_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula14_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.ms_encoder_axioms|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_maps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_concat|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_Cons|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all_append|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.elims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.pelims|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(13)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(12)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(11)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(10)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(9)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(8)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(7)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(6)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(5)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(4)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(3)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.enc_sound(1)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encoder_axioms|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_mul_ext_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula16_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula15_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula14_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encodeGammaCond_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_exactly_one_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main_def|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_mul_ext_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula16_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula15_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula14_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encodeGammaCond_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_exactly_one_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main_def|axiom"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula16|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula15|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.formula14|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.eval_all|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encodeGammaCond_graph|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_dom|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_rel|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_sumC|const"><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main_graph|const"><span>global_interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> cnf_encoder</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.ms_encoder|locale"><span>ms_encoder</span></a><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[</span></span><span class="main"><span>[]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>u</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span> </span><span class="bound"><span>z</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>z</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span>"</span></span></span><span>  
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span>concat</span></span><span>
  </span><span class="quoted"><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>defines</span></span></span><span> 
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2171..2190"><span>cnf_encoder.encode_sum_0_1_main</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_exactly_one|const"><span>cnf_encode_exactly_one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2590..2608"><span>cnf_encoder.encode_exactly_one</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encodeGammaCond|const"><span>cnf_encodeGammaCond</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_2889..2904"><span>cnf_encoder.encodeGammaCond</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula14|const"><span>cnf_formula14</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_3808..3817"><span>cnf_encoder.formula14</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula15|const"><span>cnf_formula15</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4313..4322"><span>cnf_encoder.formula15</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_formula16|const"><span>cnf_formula16</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_4645..4654"><span>cnf_encoder.formula16</span></a></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
    </span><span class="entity_def" id="Multiset_Ordering_in_NP.cnf_encode_mul_ext|const"><span>cnf_encode_mul_ext</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_5294..5308"><span>cnf_encoder.encode_mul_ext</span></a></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>unfold_locales</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf_alt_def|fact"><span>eval_cnf_alt_def</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The soundness theorem of the CNF-encoder</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext|fact"><span>cnf_encoder.encode_mul_ext</span></a><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Size of CNF-Encoding is Quadratic</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39613..39618">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_sum_0_1_main|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_sum_0_1_main|thm"><span>size_cnf_encode_sum_0_1_main</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>zero</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>20</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_39613..39618"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>conds</span></span></span><span> </span><span class="quoted"><span class="free"><span>one</span></span></span><span> </span><span class="quoted"><span class="free"><span>zero</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.induct|fact"><span>cnf_encoder.encode_sum_0_1_main.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span> </span><span class="skolem"><span>conds</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_40133..40137">Cons</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>zero</span></span><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>rr</span></span><span> </span><span class="skolem"><span>conds'</span></span><span> </span><span class="skolem"><span>zero'</span></span><span> </span><span class="skolem"><span>one'</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?triple</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rest</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>rr</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fzero</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>fone</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_40265..40268">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>fone</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></a><span> </span><span class="var"><span>?rest</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40133..40137"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_sum_0_1_main.simps|fact"><span>cnf_encoder.encode_sum_0_1_main.simps</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40265..40268"><span>res</span></a><span> </span><span>split</span><span> </span><span>Let_def</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_40467..40473">conds'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>conds'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>#</span></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fone</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fzero</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
    </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>fone</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>#</span></span><span>
    </span><span class="skolem"><span>conds</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>conds'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40467..40473"><span>conds'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40133..40137"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40265..40268"><span>res</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40975..40980">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_exactly_one|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_exactly_one|thm"><span>size_cnf_encode_exactly_one</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_exactly_one|const"><span>cnf_encode_exactly_one</span></a><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_41200..41204">True</span><span>
  </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40975..40980"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>  
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_def|fact"><span>cnf_encoder.encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41200..41204"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_41396..41401">False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ze'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_41435..41439">vars</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ze'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>on'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>vars</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>vs</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_41532..41535">Nil</span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>conds</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40975..40980"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41435..41439"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41532..41535"><span>Nil</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_def|fact"><span>cnf_encoder.encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41435..41439"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41532..41535"><span>Nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_41761..41765">Cons</span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="skolem"><span>vs'</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>on</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>zero</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_41798..41801">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></a><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>conds</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>on</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_41863..41866">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>on</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>zero</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>  
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_40975..40980"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41396..41401"><span>False</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41761..41765"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_exactly_one_def|fact"><span>cnf_encoder.encode_exactly_one_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41435..41439"><span>vars</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_sum_0_1_main|const"><span>cnf_encode_sum_0_1_main</span></a><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>  
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_encode_sum_0_1_main|fact"><span>size_cnf_encode_sum_0_1_main</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41798..41801"><span>res</span></a><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_42124..42127">sum</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>conds</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="free"><span>vars</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>46</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41761..41765"><span>Cons</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41435..41439"><span>vars</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_42218..42221">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>one</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41863..41866"><span>one</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_42218..42221"><span>one</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_42124..42127"><span>sum</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41435..41439"><span>vars</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_41761..41765"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42370..42375">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_mono_const|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.sum_list_mono_const|thm"><span>sum_list_mono_const</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_42370..42375"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_42370..42375"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula14|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula14|thm"><span>size_cnf_formula14</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula14|const"><span>cnf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula14|const"><span>cnf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.formula14_def|fact"><span>cnf_encoder.formula14_def</span></a><span> </span><span>Let_def</span><span> </span><span>sum_list_append</span><span> </span><span>map_append</span><span> </span><span>map_concat</span><span> </span><span>List.maps_def</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_concat|fact"><span>sum_list_concat</span></a><span> </span><span>map_map</span><span> </span><span>o_def</span><span>     
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_mono_const|fact"><span>sum_list_mono_const</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>goal_cases</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_43041..43044">cnf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_exactly_one|const"><span>cnf_encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroJI|const"><span>AuxZeroJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneJI|const"><span>AuxOneJI</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?e</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?e</span></span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_43041..43044"><span>cnf</span></a><span> </span><span>split</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_encode_exactly_one|fact"><span>size_cnf_encode_exactly_one</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_43041..43044"><span>cnf</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>3</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>one</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>conds</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_43321..43324">cnf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_exactly_one|const"><span>cnf_encode_exactly_one</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Gamma|const"><span>Gamma</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxZeroIJ|const"><span>AuxZeroIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.AuxOneIJ|const"><span>AuxOneIJ</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="free"><span>m</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>one</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>conds</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?e</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?e</span></span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_43476..43478">id</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(#)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.PropVar.Epsilon|const"><span>Epsilon</span></a><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>one</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>one</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>one</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>one</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>o_def</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_43321..43324"><span>cnf</span></a><span> </span><span>split</span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_encode_exactly_one|fact"><span>size_cnf_encode_exactly_one</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_43321..43324"><span>cnf</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_43476..43478"><span>id</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encodeGammaCond|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encodeGammaCond|thm"><span>size_cnf_encodeGammaCond</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encodeGammaCond|const"><span>cnf_encodeGammaCond</span></a><span> </span><span class="free"><span>gam</span></span><span> </span><span class="free"><span>eps</span></span><span> </span><span class="free"><span>ns</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>ns</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula15|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula15|thm"><span>size_cnf_formula15</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula15|const"><span>cnf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula15|const"><span>cnf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula14|const"><span>cnf_formula14</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.formula15_def|fact"><span>cnf_encoder.formula15_def</span></a><span> </span><span>Let_def</span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>size_list_conv_sum_list</span><span> </span><span>List.maps_def</span><span> </span><span>map_concat</span><span> </span><span>o_def</span><span> </span><span>length_concat</span><span> </span><span>sum_list_triv</span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_concat|fact"><span>sum_list_concat</span></a><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_mono_const|fact"><span>sum_list_mono_const</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><span>refl</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.sum_list_mono_const|fact"><span>sum_list_mono_const</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><span>refl</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="numeral"><span class="quoted"><span class="numeral"><span>3</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_encodeGammaCond|fact"><span>size_cnf_encodeGammaCond</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>add_right_mono</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_formula14|fact"><span>size_cnf_formula14</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula16|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_formula16|thm"><span>size_cnf_formula16</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula16|const"><span>cnf_formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula16|const"><span>cnf_formula16</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula15|const"><span>cnf_formula15</span></a><span> </span><span class="free"><span>cs</span></span><span> </span><span class="free"><span>cns</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.formula16_def|fact"><span>cnf_encoder.formula16_def</span></a><span> </span><span>Let_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>o_def</span><span> </span><span>size_list_conv_sum_list</span><span> </span><span>sum_list_triv</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>add_right_mono</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_formula15|fact"><span>size_cnf_formula15</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_concat|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_concat|thm"><span>size_cnf_concat</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><span>concat</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_45571..45576">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_mul_ext(2)|thm"><span class="entity_def" id="Multiset_Ordering_in_NP.size_cnf_encode_mul_ext(1)|thm"><span>size_cnf_encode_mul_ext</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_mul_ext|const"><span>cnf_encode_mul_ext</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_45661..45662">n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>max</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_45705..45707">n0</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span>"</span></span></span><span> 
     </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?fns</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula15|const"><span>cnf_formula15</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?fs</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_formula16|const"><span>cnf_formula16</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>fst</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span>snd</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_45571..45576"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext_def|fact"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext_def|fact"><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.encode_mul_ext_def|fact"><span>cnf_encoder.encode_mul_ext_def</span></a></a></a><span> </span><span>Let_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_46117..46121">phis</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="var"><span>?fns</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="var"><span>?fs</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encoder.formula16_def|fact"><span>cnf_encoder.formula16_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_46217..46221">le_s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="var"><span>?fs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_formula16|fact"><span>size_cnf_formula16</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span> </span><span>mult_mono</span><span> </span><span>le_refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_45661..45662"><span>n</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_46429..46434">le_ns</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="var"><span>?fns</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>le_trans</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_formula15|fact"><span>size_cnf_formula15</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span> </span><span>mult_mono</span><span> </span><span>le_refl</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_45661..45662"><span>n</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>Ï</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="var"><span>?fs</span></span><span class="main"><span>,</span></span><span class="var"><span>?fns</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_46721..46724">phi</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_46117..46121"><span>phis</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>26</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="numeral"><span>42</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_46721..46724"><span>phi</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.size_cnf_concat|fact"><span>size_cnf_concat</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_46217..46221"><span>le_s</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_46429..46434"><span>le_ns</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>52</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>84</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="dynamic"><span class="dynamic"><span>algebra_simps</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="numeral"><span>55</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#offset_45705..45707"><span>n0</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>^</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>power2_eq_square</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>N</sub><span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>Ï<span class="hidden">â©</span><sub>S</sub></span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Check Executability</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The constant 36 in the size-estimation for the PF-encoder is not that bad in comparison to the actual size,
</span><span>  since using 34 in the size-estimation would be wrong:</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>20</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>36</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_pf|const"><span>size_pf</span></a><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_mul_ext|const"><span>pf_encode_mul_ext</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="bound"><span>n</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="bound"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="numeral"><span>34</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Similarly, the constant 55 in the size-estimation for the CNF-encoder is not that bad in comparison to the actual size,
</span><span>  since using 51 in the size-estimation would be wrong:</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>let</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>20</span></span><span> </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>55</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="main"><span>(</span></span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_mul_ext|const"><span>cnf_encode_mul_ext</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="bound"><span>n</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="bound"><span>n</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="numeral"><span>51</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Example encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.pf_encode_mul_ext|const"><span>pf_encode_mul_ext</span></a><span>  </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_in_NP.html#Multiset_Ordering_in_NP.cnf_encode_mul_ext|const"><span>cnf_encode_mul_ext</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&gt;</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
 
</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='RPO_NP_Hard'></head>


<body>
<div class="head">
<h1>Theory Multiset_Ordering_NP_Hard</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Deciding the Generalized Multiset Ordering is NP-hard</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We prove that satisfiability of conjunctive normal forms (a NP-hard problem) can
</span><span>  be encoded into a multiset-comparison problem of linear size. Therefore multiset-set comparisons
</span><span>  are NP-hard as well.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span>
  </span><span>Multiset_Ordering_NP_Hard</span><span>
</span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
  </span><a href="Multiset_Ordering_More.html"><span>Multiset_Ordering_More</span></a><span> 
  </span><a href="Propositional_Formula.html"><span>Propositional_Formula</span></a><span>
  </span><a href="../Weighted_Path_Order/Multiset_Extension2_Impl.html"><span>Weighted_Path_Order.Multiset_Extension2_Impl</span></a><span> </span><span class="comment1"><span>(</span><span>*</span><span> for executability </span><span>*</span><span>)</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definition of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The multiset-elements are either annotated variables or indices (of clauses).
</span><span>  We basically follow the proof in \cite{RPO_NPC} where these elements are encoded as terms 
</span><span>  (and the relation is some fixed recursive path order).</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_full_exhaustive_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.full_exhaustive_Annotation.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.full_exhaustive_Annotation_inst.full_exhaustive_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_narrowing_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.narrowing_Annotation.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.narrowing_Annotation_inst.narrowing_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_random_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_inst.random_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.random_aux.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_aux_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_gen|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_size_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_overloaded_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_Annotation_inst.size_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec_transfer|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_transfer|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.splits|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.split_asm|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.split|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.nchotomy|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.exhaust|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_distrib|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_cong_weak|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_cong|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.refl|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_equal_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_inst.equal_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_partial_term_of_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_triv|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_inst.partial_term_of_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_term_of_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_triv|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_inst.term_of_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_rec_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.dtor_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_fold_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_typerep_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_inst.typerep_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_inject|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_inject|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_inverse|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_inverse|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.type_definition_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.str_init_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.arity_typerep_Annotation_IITN_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_inst.typerep_Annotation_IITN_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_inject|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_inject|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_inverse|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_inverse|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.type_definition_Annotation_IITN_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation_IITN_Annotation|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.min_alg_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.mor_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.alg_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.set_pre_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.rel_pre_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.map_pre_Annotation_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_full_exhaustive_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.full_exhaustive_Annotation.simps|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.full_exhaustive_Annotation_inst.full_exhaustive_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_narrowing_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.narrowing_Annotation.simps|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.narrowing_Annotation_inst.narrowing_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_random_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_inst.random_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.random_aux.simps|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_aux_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_gen(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_gen(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_gen(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(6)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(5)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(4)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_size_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_overloaded_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_Annotation_inst.size_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(12)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(11)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(10)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(9)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(8)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(7)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(6)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(5)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec_transfer|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_transfer|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.splits(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.splits(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.split_asm|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.split|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.nchotomy|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.exhaust|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(6)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(5)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(4)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.distinct(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_distrib|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_cong_weak|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_cong|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(15)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(14)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(13)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(12)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(11)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(10)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(9)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(8)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(7)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(6)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(5)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(4)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.eq.refl|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_equal_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_inst.equal_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_partial_term_of_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_triv|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_inst.partial_term_of_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_term_of_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_triv|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_inst.term_of_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_rec_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.dtor_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_fold_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_typerep_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_inst.typerep_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_inject|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_inject|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation_inverse|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation_inverse|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.type_definition_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.str_init_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.arity_typerep_Annotation_IITN_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_inst.typerep_Annotation_IITN_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_inject|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_inject|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation_inverse|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation_inverse|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.type_definition_Annotation_IITN_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation_IITN_Annotation|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.min_alg_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.mor_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.alg_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.set_pre_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.rel_pre_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.map_pre_Annotation_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.full_exhaustive_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.full_exhaustive_Annotation_inst.full_exhaustive_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.narrowing_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.narrowing_Annotation_inst.narrowing_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_inst.random_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_aux_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_overloaded_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_Annotation_inst.size_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_inst.equal_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_triv_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_inst.partial_term_of_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_triv_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_inst.term_of_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Negative_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Positive_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Unsigned_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_rec_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.dtor_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_fold_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_inst.typerep_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.type_definition_Annotation|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.str_init_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_def_raw|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_inst.typerep_Annotation_IITN_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.type_definition_Annotation_IITN_Annotation|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.arity_type_Annotation_IITN_Annotation|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.min_alg_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.mor_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.alg_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.wit_pre_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.pred_pre_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.rel_pre_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.set_pre_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.map_pre_Annotation_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.full_exhaustive_Annotation_inst.full_exhaustive_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.narrowing_Annotation_inst.narrowing_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_Annotation_inst.random_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.random_aux_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_Annotation_inst.size_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.size_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.equal_Annotation_inst.equal_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.partial_term_of_Annotation_inst.partial_term_of_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.term_of_Annotation_inst.term_of_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.case_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.typerep_Annotation_inst.typerep_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Abs_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Rep_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.typerep_Annotation_IITN_Annotation_inst.typerep_Annotation_IITN_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Abs_Annotation_IITN_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation.Rep_Annotation_IITN_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.mor_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.alg_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Annotation_IITN_Annotation|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.rec_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_rec_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.dtor_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_fold_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.ctor_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.str_init_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.min_alg_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.wit_pre_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.pred_pre_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.rel_pre_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.set_pre_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.pre_Annotation.Annotation.map_pre_Annotation|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation|type"><span>Annotation</span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></span><span>

</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation|type"><span>Annotation</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.elims|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.pelims|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.termination|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.pinduct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.psimps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.inducts|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.intros|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.inducts|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.simps|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.induct|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.cases|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.intros|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.elims|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.simps(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.simps(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.pelims|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.termination|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.pinduct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.psimps(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit.psimps(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.inducts|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.simps|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel.cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.inducts|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.simps|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.induct|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.cases|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.intros(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph.intros(1)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_sumC_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph_def|axiom"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_dom|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_rel|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_sumC|const"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span>bool</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_of_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_of_lit</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.vars_of_cnf_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.vars_of_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>vars_of_cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>remdups</span><span> </span><span class="keyword1"><span>o</span></span><span> </span><span>concat</span><span> </span><span class="keyword1"><span>o</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>fst</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We encode a CNF into a multiset-problem, i.e., a quadruple (xs, ys, S, NS) where
</span><span>  xs and ys are the lists to compare, and S and NS are underlying relations of the generalized multiset ordering.
</span><span>  In the encoding, we add the strict relation S to the non-strict relation NS as this is a somewhat more
</span><span>  natural order. In particular, the relations S and NS are precisely those that are obtained when using
</span><span>  the mentioned recursive path order of \cite{RPO_NPC}.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> 
  </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span>list</span><span> </span><span class="main"><span>Ã</span></span><span> 
   </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span>list</span><span> </span><span class="main"><span>Ã</span></span><span> 
   </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span class="main"><span>)</span></span><span>list</span><span> </span><span class="main"><span>Ã</span></span><span> 
   </span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span class="main"><span>)</span></span><span>list</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>multiset_problem_of_cnf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>let</span></span><span> 
     </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>cs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>cs</span></span><span class="main"><span>;</span></span><span>
     </span><span class="bound"><span>NS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span>
     </span><span class="keyword1"><span>in</span></span><span> </span><span class="main"><span>(</span></span><span>List.maps</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span class="main"><span>,</span></span><span> 
         </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>xs</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span>map</span><span> </span><span>Inr</span><span> </span><span class="bound"><span>cs</span></span><span class="main"><span>,</span></span><span>
         </span><span class="bound"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>NS</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Soundness of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2194..2199">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf(1)|thm"><span>multiset_problem_of_cnf</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>right</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_2495..2501">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_2537..2543">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>cs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>cs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_2581..2587">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>NS</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span class="main"><span>)</span></span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>NS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_2747..2750">res</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2194..2199"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def|fact"><span>multiset_problem_of_cnf_def</span></a><span> </span><span>Let_def</span><span> </span><span>List.maps_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2495..2501"><span>xs_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2848..2849">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>cs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2747..2750"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2957..2960">NSS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NSS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>NS</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2848..2849"><span>S</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2581..2587"><span>NS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2747..2750"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3021..3025">left</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2747..2750"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?nsright</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?sright</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>map</span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>cs</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span>list</span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3226..3231">right</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?nsright</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="var"><span>?sright</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2747..2750"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We first consider completeness: if the formula is sat, then the lists are decreasing w.r.t. the multiset-order.</span><span>âº</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Î²</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3471..3474">sat</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf|const"><span>formula_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf_def|fact"><span>eval_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_3541..3547">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>case</span></span><span> </span><span class="bound"><span>c</span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span>Inl </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>sign</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Î²</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="bound"><span>sign</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?nsleft</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>filter</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="free"><span>left</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?sleft</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>filter</span><span> </span><span class="main"><span>(</span></span><span>Not</span><span> </span><span class="keyword1"><span>o</span></span><span> </span><span class="skolem"><span>f</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>left</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3737..3744">id_left</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?nsleft</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?sleft</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3804..3812">id_right</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?nsright</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="var"><span>?sright</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3226..3231"><span>right</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3891..3897">nsleft</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?nsleft</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Î²</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3021..3025"><span>left</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3541..3547"><span>f_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4011..4016">sleft</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?sleft</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>Î²</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3021..3025"><span>left</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3541..3547"><span>f_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4124..4127">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="var"><span>?nsleft</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="var"><span>?nsright</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3891..3897"><span>nsleft</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4220..4221">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="var"><span>?nsright</span></span><span>"</span></span></span><span> 
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_4252..4258">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4292..4293">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4252..4258"><span>x_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4220..4221"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?nsleft</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?nsright</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="main"><span>Â¬</span></span><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3891..3897"><span>nsleft</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4252..4258"><span>x_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4220..4221"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2581..2587"><span>NS_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4292..4293"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="var"><span>?nsleft</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="var"><span>?nsright</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2957..2960"><span>NSS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4638..4639">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_4645..4655">non_strict</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4638..4639"><span>this</span></a><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>t</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?sright</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4739..4740">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>cs</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4759..4760">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_4788..4794">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4739..4740"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4836..4838">ii</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4893..4894">c</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4739..4740"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4788..4794"><span>c_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3471..3474"><span>sat</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf_def|fact"><span>formula_of_cnf_def</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4893..4894"><span>c</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>o_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5096..5097">l</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5115..5119">eval</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5115..5119"><span>eval</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5242..5244">lx</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5096..5097"><span>l</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4893..4894"><span>c</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5242..5244"><span>lx</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5303..5304">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2495..2501"><span>xs_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5372..5375">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?sleft</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4011..4016"><span>sleft</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5242..5244"><span>lx</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5303..5304"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="var"><span>?sleft</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>bexI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5372..5375"><span>mem</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4759..4760"><span>t</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2848..2849"><span>S</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4836..4838"><span>ii</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5096..5097"><span>l</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4788..4794"><span>c_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>bexI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5677..5678">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5684..5690">strict</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5677..5678"><span>this</span></a><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5708..5710">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_intro|fact"><span>ns_mul_ext_intro</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3737..3744"><span>id_left</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3804..3812"><span>id_right</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4124..4127"><span>len</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4645..4655"><span>non_strict</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5684..5690"><span>strict</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>c</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5909..5910">c</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>cnf</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3471..3474"><span>sat</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf_def|fact"><span>formula_of_cnf_def</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula.Disj|const"><span>Disj</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_6075..6076">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5909..5910"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2495..2501"><span>xs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>c</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>snd</span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_intro|fact"><span>s_mul_ext_intro</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3737..3744"><span>id_left</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3804..3812"><span>id_right</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4124..4127"><span>len</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4645..4655"><span>non_strict</span></a><span> _ </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5684..5690"><span>strict</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?sleft</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_4011..4016"><span>sleft</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6075..6076"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6409..6410">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_6416..6417">S</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6409..6410"><span>this</span></a><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_5708..5710"><span>NS</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6416..6417"><span>S</span></a><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6441..6442">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_6448..6461">one_direction</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6441..6442"><span>this</span></a><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We next consider soundness: if the lists are decreasing w.r.t. the multiset-order, then
</span><span>    the cnf is sat.</span><span>âº</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>   
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>s_ns_mul_ext</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2957..2960"><span>NSS</span></a><span> </span><span>set_append</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_NS_union_S|fact"><span>ns_mul_ext_NS_union_S</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7043..7044">.</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.ns_mul_ext_elim|fact"><span>ns_mul_ext_elim</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7043..7044"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ns_left</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s_left</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ns_right</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s_right</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7134..7141">id_left</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ns_left</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7195..7203">id_right</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ns_right</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>s_right</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7260..7263">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ns_left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ns_right</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7311..7313">ns</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>ns_right</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ns_left</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ns_right</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7390..7391">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>s_right</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>s</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>    

    </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>This is the satisfying assignment</span><span>âº</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7509..7515">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Î²</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>c</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7609..7613">ccnf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7656..7657">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>cs</span></span><span>"</span></span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7685..7690">c_def</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7719..7721">ii</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span>  
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span>set_conv_nth</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7656..7657"><span>i</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3226..3231"><span>right</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7846..7848">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7846..7848"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7195..7203"><span>id_right</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ns_right</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7311..7313"><span>ns</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2957..2960"><span>NSS</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2581..2587"><span>NS_def</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_conv_nth</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>ns_right</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8056..8058">by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7390..7391"><span>s</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8056..8058"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8102..8107">sleft</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8130..8132">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8130..8132"><span>si</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2848..2849"><span>S</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
        </span><span class="entity_def" id="offset_8224..8226">lc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8244..8246">sl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7685..7690"><span>c_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7719..7721"><span>ii</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8335..8338">lxb</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8224..8226"><span>lc</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8335..8338"><span>lxb</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7609..7613"><span>ccnf</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8389..8390">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2495..2501"><span>xs_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>l</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>c</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>bexI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8224..8226"><span>lc</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8102..8107"><span>sleft</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8244..8246"><span>sl</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8335..8338"><span>lxb</span></a><span class="main"><span>]</span></span><span> 
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8580..8583">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
          </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7509..7515"><span>Î²_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8580..8583"><span>mem</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_8783..8788">False</span><span>
          </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8783..8788"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>Î²</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8783..8788"><span>False</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8580..8583"><span>mem</span></a><span> 
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span>
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span>False</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7509..7515"><span>Î²_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_9110..9113">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9195..9199">dist</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="free"><span>left</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3021..3025"><span>left</span></a><span>
              </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>distinct_concat</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>distinct_map</span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2495..2501"><span>xs_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2537..2543"><span>cs_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>inj_onI</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7134..7141"><span>id_left</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>mset</span><span> </span><span class="free"><span>left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>mset</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ns_left</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>s_left</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9412..9414">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><span>mset_eq_imp_distinct_iff</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9412..9414"><span>this</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9195..9199"><span>dist</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>set</span><span> </span><span class="skolem"><span>ns_left</span></span><span> </span><span class="main"><span>â©</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_left</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9110..9113"><span>mem</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9547..9551">nmem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ns_left</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_3226..3231"><span>right</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8389..8390"><span>x</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9679..9681">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9679..9681"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7195..7203"><span>id_right</span></a><span class="main"><span>]</span></span><span> 
            </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ns_right</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>s_right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7390..7391"><span>s</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2848..2849"><span>S</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ns_right</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7311..7313"><span>ns</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_9917..9921">pair</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9961..9964">sns</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ns_left</span></span><span>"</span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_conv_nth</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>ns_right</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_7260..7263"><span>len</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9917..9921"><span>pair</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2957..2960"><span>NSS</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10095..10099">pair</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10095..10099"><span>pair</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_2581..2587"><span>NS_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10247..10249">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9961..9964"><span>sns</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10247..10249"><span>this</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9547..9551"><span>nmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span>True</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_9547..9551"><span>nmem</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span>False</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_lit|const"><span>formula_of_lit</span></a><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_8335..8338"><span>lxb</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval|const"><span>eval</span></a><span> </span><span class="skolem"><span>Î²</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf|const"><span>formula_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.formula_of_cnf_def|fact"><span>formula_of_cnf_def</span></a><span> </span><span>o_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf_def|fact"><span>eval_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10593..10594">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10600..10615">other_direction</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10593..10594"><span>this</span></a><span>

  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6448..6461"><span>one_direction</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10600..10615"><span>other_direction</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>right</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NSS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_6448..6461"><span>one_direction</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10600..10615"><span>other_direction</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10928..10933">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_mul_ext|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_mul_ext|thm"><span>multiset_problem_of_cnf_mul_ext</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>non_trivial</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span>mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>ns_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subst</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|fact"><span>multiset_problem_of_cnf</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10928..10933"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>subst</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|fact"><span>multiset_problem_of_cnf</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_10928..10933"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>mul_ext_def</span><span> </span><span>Let_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Size of Encoding is Linear</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11720..11725">lemma</span></span></span><span> </span><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf|fact"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf(4)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf(3)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf(2)|thm"><span class="entity_def" id="Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf(1)|thm"><span>size_of_multiset_problem_of_cnf</span></span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ys</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_11934..11940">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11981..11984">lvs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11720..11725"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11934..11940"><span>vs_def</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><span>o_def</span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>order.trans</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>length_remdups_leq</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>cnf</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12148..12152">lcnf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11720..11725"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_12224..12227">res</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11720..11725"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def|fact"><span>multiset_problem_of_cnf_def</span></a><span> </span><span>Let_def</span><span> </span><span>List.maps_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11934..11940"><span>vs_def</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12333..12335">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12224..12227"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12333..12335"><span>xs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>vs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11981..11984"><span>lvs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span>map</span><span> </span><span>Inr</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12224..12227"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11981..11984"><span>lvs</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12148..12152"><span>lcnf</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>ys</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12776..12777">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12224..12227"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12776..12777"><span>S</span></a><span> </span><span>length_concat</span><span> </span><span>map_map</span><span> </span><span>o_def</span><span> </span><span>length_map</span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>arg_cong</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>sum_list</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>nth_equalityI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11720..11725"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="entity_def" id="offset_13141..13142">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>S</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13168..13170">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Annotation.Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>vs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_12224..12227"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>vs</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="free"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_13168..13170"><span>NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>vs</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_11981..11984"><span>lvs</span></a><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#offset_13141..13142"><span>S</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>NS</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Check Executability</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="main"><span>[</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>              </span><span class="comment1"><span>â â¹</span><span>clause 0</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>                           </span><span class="comment1"><span>â â¹</span><span>clause 1</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''z''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>               </span><span class="comment1"><span>â â¹</span><span>clause 2</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''z''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="comment1"><span>â â¹</span><span>clause 3</span><span>âº</span></span><span> 
   </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>left</span></span><span class="main"><span>,</span></span><span class="bound"><span>right</span></span><span class="main"><span>,</span></span><span class="bound"><span>S</span></span><span class="main"><span>,</span></span><span class="bound"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''SAT: ''</span></span><span class="main"><span>,</span></span><span> </span><span>mul_ext</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>y</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span class="bound"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="bound"><span>NS</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>left</span></span><span> </span><span class="bound"><span>right</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>True</span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> 
      </span><span class="inner_quoted"><span>''Encoding: ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>left</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_quoted"><span>'' &gt;mul ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>right</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_quoted"><span>''strict element order: ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>,</span></span><span class="inner_quoted"><span>''non-strict: ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>
</span></pre></div><div id='RPO_NP_Hard'>y>
<div class="head">
<h1>Theory RPO_NP_Hard</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Deciding RPO-constraints is NP-hard</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We show that for a given an RPO it is NP-hard to decide whether two terms are in relation,
</span><span>  following a proof in \cite{RPO_NPC}.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>RPO_NP_Hard</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> 
    </span><a href="Multiset_Ordering_NP_Hard.html"><span>Multiset_Ordering_NP_Hard</span></a><span>
    </span><a href="../Weighted_Path_Order/RPO.html"><span>Weighted_Path_Order.RPO</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Definition of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.arity_full_exhaustive_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.full_exhaustive_FSyms.simps|fact"><span class="entity_def" id="RPO_NP_Hard.full_exhaustive_FSyms_inst.full_exhaustive_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_narrowing_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.narrowing_FSyms.simps|fact"><span class="entity_def" id="RPO_NP_Hard.narrowing_FSyms_inst.narrowing_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_random_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_inst.random_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.random_aux.simps|fact"><span class="entity_def" id="RPO_NP_Hard.random_aux_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.size|fact"><span class="entity_def" id="RPO_NP_Hard.arity_size_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_overloaded_def|fact"><span class="entity_def" id="RPO_NP_Hard.size_FSyms_inst.size_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec_transfer|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_transfer|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.splits|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.split_asm|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.split|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.nchotomy|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.exhaust|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_distrib|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_cong_weak|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_cong|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.refl|fact"><span class="entity_def" id="RPO_NP_Hard.arity_equal_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_inst.equal_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_partial_term_of_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_triv|fact"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_inst.partial_term_of_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_term_of_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_triv|fact"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_inst.term_of_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_rec_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.dtor_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_fold_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.arity_typerep_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_inst.typerep_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.type_definition_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.str_init_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.arity_typerep_FSyms_IITN_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_inst.typerep_FSyms_IITN_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.type_definition_FSyms_IITN_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_IITN_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.min_alg_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.mor_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.alg_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.set_pre_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.rel_pre_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.map_pre_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.arity_typerep_FSyms_pre_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_def|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_inst.typerep_FSyms_pre_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_induct|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_cases|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_inject|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_inverse|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.type_definition_FSyms_pre_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_pre_FSyms|fact"><span class="entity_def" id="RPO_NP_Hard.arity_full_exhaustive_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.full_exhaustive_FSyms.simps|thm"><span class="entity_def" id="RPO_NP_Hard.full_exhaustive_FSyms_inst.full_exhaustive_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_narrowing_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.narrowing_FSyms.simps|thm"><span class="entity_def" id="RPO_NP_Hard.narrowing_FSyms_inst.narrowing_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_random_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_inst.random_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.random_aux.simps|thm"><span class="entity_def" id="RPO_NP_Hard.random_aux_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_gen(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(14)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(13)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(12)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(11)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(10)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(9)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(8)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size(1)|thm"><span class="entity_def" id="RPO_NP_Hard.arity_size_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_overloaded_def|thm"><span class="entity_def" id="RPO_NP_Hard.size_FSyms_inst.size_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(56)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(55)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(54)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(53)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(52)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(51)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(50)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(49)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(48)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(47)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(46)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(45)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(44)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(43)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(42)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(41)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(40)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(39)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(38)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(37)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(36)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(35)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(34)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(33)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(32)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(31)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(30)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(29)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(28)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(27)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(26)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(25)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(24)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(23)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(22)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(21)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(20)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(19)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(18)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(17)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(16)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(15)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(14)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(13)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(12)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(11)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(10)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(9)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(8)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.simps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec_transfer|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_transfer|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.splits(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.splits(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.split_asm|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.split|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.nchotomy|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.exhaust|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(42)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(41)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(40)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(39)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(38)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(37)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(36)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(35)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(34)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(33)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(32)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(31)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(30)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(29)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(28)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(27)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(26)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(25)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(24)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(23)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(22)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(21)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(20)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(19)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(18)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(17)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(16)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(15)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(14)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(13)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(12)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(11)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(10)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(9)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(8)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.distinct(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_distrib|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_cong_weak|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_cong|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(91)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(90)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(89)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(88)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(87)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(86)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(85)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(84)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(83)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(82)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(81)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(80)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(79)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(78)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(77)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(76)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(75)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(74)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(73)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(72)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(71)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(70)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(69)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(68)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(67)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(66)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(65)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(64)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(63)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(62)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(61)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(60)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(59)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(58)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(57)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(56)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(55)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(54)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(53)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(52)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(51)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(50)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(49)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(48)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(47)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(46)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(45)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(44)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(43)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(42)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(41)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(40)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(39)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(38)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(37)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(36)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(35)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(34)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(33)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(32)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(31)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(30)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(29)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(28)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(27)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(26)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(25)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(24)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(23)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(22)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(21)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(20)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(19)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(18)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(17)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(16)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(15)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(14)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(13)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(12)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(11)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(10)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(9)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(8)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(7)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(6)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(5)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.simps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.eq.refl|thm"><span class="entity_def" id="RPO_NP_Hard.arity_equal_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_inst.equal_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_partial_term_of_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_triv|thm"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_inst.partial_term_of_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_term_of_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_triv|thm"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_inst.term_of_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_rec_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.dtor_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_fold_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.arity_typerep_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_inst.typerep_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.type_definition_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.str_init_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.arity_typerep_FSyms_IITN_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_inst.typerep_FSyms_IITN_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.type_definition_FSyms_IITN_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_IITN_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.min_alg_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.mor_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.alg_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.set_pre_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.rel_pre_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.map_pre_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.arity_typerep_FSyms_pre_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_def|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_inst.typerep_FSyms_pre_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_induct|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_cases|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_inject|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms_inverse|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.type_definition_FSyms_pre_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_pre_FSyms|thm"><span class="entity_def" id="RPO_NP_Hard.full_exhaustive_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.full_exhaustive_FSyms_inst.full_exhaustive_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.narrowing_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.narrowing_FSyms_inst.narrowing_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_def_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_inst.random_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.random_aux_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_overloaded_def|axiom"><span class="entity_def" id="RPO_NP_Hard.size_FSyms_inst.size_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.rec_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_def_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_inst.equal_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_triv_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_inst.partial_term_of_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_triv_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_inst.term_of_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.N_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.P_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.U_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.H_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.G_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.F_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.A_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_rec_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.dtor_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_fold_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_def_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_inst.typerep_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.type_definition_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.str_init_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_def_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_inst.typerep_FSyms_IITN_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.type_definition_FSyms_IITN_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_IITN_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.min_alg_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.mor_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.alg_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.wit_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.pred_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.rel_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.set_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.map_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_def_raw|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_inst.typerep_FSyms_pre_FSyms_def|axiom"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.type_definition_FSyms_pre_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.arity_type_FSyms_pre_FSyms|axiom"><span class="entity_def" id="RPO_NP_Hard.full_exhaustive_FSyms_inst.full_exhaustive_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.narrowing_FSyms_inst.narrowing_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.random_FSyms_inst.random_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.random_aux_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.size_FSyms_inst.size_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.size_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.equal_FSyms_inst.equal_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.partial_term_of_FSyms_inst.partial_term_of_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.term_of_FSyms_inst.term_of_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.case_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.typerep_FSyms_inst.typerep_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.Abs_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.Rep_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_IITN_FSyms_inst.typerep_FSyms_IITN_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Abs_FSyms_IITN_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms.Rep_FSyms_IITN_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.mor_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.alg_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.typerep_FSyms_pre_FSyms_inst.typerep_FSyms_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Abs_FSyms_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms.Rep_FSyms_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_IITN_FSyms|type"><span>datatype</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.rec_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_rec_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.dtor_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_fold_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.ctor_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.str_init_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms.min_alg_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.wit_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.pred_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.rel_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.set_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.pre_FSyms.FSyms.map_pre_FSyms|const"><span class="entity_def" id="RPO_NP_Hard.FSyms|type"><span class="entity_def" id="RPO_NP_Hard.FSyms.FSyms_pre_FSyms|type"><span>FSyms</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.A|const"><span>A</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.F|const"><span>F</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.G|const"><span>G</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.H|const"><span>H</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.U|const"><span>U</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> unsigned </span><span>*</span><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.P|const"><span>P</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> positive sign </span><span>*</span><span>)</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.FSyms.N|const"><span>N</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> negative sign </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>We slightly deviate from the paper encoding, since we add the three constants
</span><span>  </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.U|const"><span>U</span></a><span class="antiquote"><span>}</span></span></span><span>, </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.P|const"><span>P</span></a><span class="antiquote"><span>}</span></span></span><span>, </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.N|const"><span>N</span></a><span class="antiquote"><span>}</span></span></span><span> in order to be able to easily convert an encoded term
</span><span>  back to the multiset-element.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.elims|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.induct|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.simps|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.pelims|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.cases|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.termination|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.pinduct|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.psimps|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.simps|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.induct|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.cases|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.intros|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.simps|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.induct|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.cases|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.intros|fact"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.elims|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.induct|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.simps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.simps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.simps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.simps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.pelims|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.cases|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.termination|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.pinduct|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.psimps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.psimps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.psimps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term.psimps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.simps|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.induct|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel.cases|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.simps|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.induct|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.cases|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.intros(4)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.intros(3)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.intros(2)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph.intros(1)|thm"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_def|axiom"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel_def|axiom"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_sumC_def|axiom"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph_def|axiom"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_dom|const"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_rel|const"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_sumC|const"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms|type"><span>FSyms</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span class="main"><span>)</span></span><span>term</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="comment1"><span>(</span><span>*</span><span> y_i in the paper </span><span>*</span><span>)</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_to_term</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> t_x in the paper </span><span>*</span><span>)</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_to_term</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.U|const"><span>U</span></a><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>#</span></span><span> 
        </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.A|const"><span>A</span></a><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="comment1"><span>(</span><span>*</span><span> t+_x in the paper </span><span>*</span><span>)</span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_to_term</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.P|const"><span>P</span></a><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>#</span></span><span> 
        </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.A|const"><span>A</span></a><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="comment1"><span>(</span><span>*</span><span> t-_x in the paper </span><span>*</span><span>)</span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ms_elem_to_term</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.N|const"><span>N</span></a><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>#</span></span><span> 
        </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.A|const"><span>A</span></a><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span> </span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf_def|fact"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf_def|thm"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf|const"><span>term_lists_of_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms|type"><span>FSyms</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span class="main"><span>)</span></span><span>term</span><span> </span><span>list</span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms|type"><span>FSyms</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span class="main"><span>)</span></span><span>term</span><span> </span><span>list</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_lists_of_cnf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
       </span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span>
       </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf_def|fact"><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf_def|thm"><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf|const"><span>rpo_constraint_of_cnf</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.cnf|type"><span>cnf</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>term</span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>_</span></span><span class="main"><span>,</span></span><span class="main"><span>_</span></span><span class="main"><span>)</span></span><span>term</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>rpo_constraint_of_cnf</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf|const"><span>term_lists_of_cnf</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>cnf</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
       </span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>An RPO instance where all symbols are equivalent in precedence and all symbols have
</span><span>  multiset-status.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supteq_subset_RPO_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supt_subset_RPO_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_subset_RPO_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_ctxt|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_NS_ctxt|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_NS_subst|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_subst|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_SN_order_pair|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_eq_wpo|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_with_assms_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supteq_subset_WPO_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supt_subset_WPO_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_ctxt|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_mono|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_ns|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_s|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_subset_WPO_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_NS_ctxt|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_NS_subst|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_subst|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_SN_order_pair|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_SN|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_stable|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_mono|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_pre_mono|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_ns_arg|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_s_arg|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_compat|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_3|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_2|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_1|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_imp_wpo_s|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_imp_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_imp_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_refl|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.\&lt;sigma&gt;E|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_subterm|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_arg|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.\&lt;sigma&gt;|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_NS_not_UNIV|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_S_non_empty|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_status|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.large_trans|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.large|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ws_status|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_imp_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ctxt_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subst_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subst_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_with_assms_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.mul_ext_SN_order_pair|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_order_pair_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_pair_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_ars_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.mul_ext_order_pair|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_rtrancl|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.order_pair_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rtrancl_NS_O_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_rtrancl_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_S_NS_point|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_NS_S_point|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_S_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_NS_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_pair_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_NS_point|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_S_point|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trancl_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rtrancl_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trancl_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.refl_NS_point|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_S|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.refl_NS|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.pre_order_pair_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_imp_ns|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.elims|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.induct|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.simps|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.pelims|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.cases|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.termination|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.pinduct|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.psimps|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.simps|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.induct|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.cases|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.intros|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.simps|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.induct|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.cases|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.intros|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl2|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_stri_imp_nstri|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_compat|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl3|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_SN|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_refl|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.precedence_axioms|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supteq_subset_RPO_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supt_subset_RPO_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_ctxt|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_NS_ctxt|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_NS_subst|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_subst|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_SN_order_pair|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_eq_wpo|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supteq_subset_WPO_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.supt_subset_WPO_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_ctxt|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_mono|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_ns|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_s|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_subset_WPO_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_NS_ctxt|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_NS_subst|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_subst|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_SN_order_pair|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S_SN|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_stable|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_mono|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_pre_mono|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_ns_arg|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subterm_wpo_s_arg|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_compat|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_3|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_2|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_least_1|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_imp_wpo_s|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_imp_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_imp_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns_refl|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.\&lt;sigma&gt;E|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_subterm|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_arg|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.\&lt;sigma&gt;|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_NS_not_UNIV|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_S_non_empty|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ss_status|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.large_trans|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.large|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ws_status|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_imp_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.ctxt_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subst_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.subst_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.mul_ext_SN_order_pair|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.mul_ext_order_pair|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_rtrancl|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_S_NS_point|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_NS_S_point|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_S_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_NS_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_NS_point|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_S_point|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_S(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_S(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.refl_NS_point|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trans_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.refl_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s_imp_ns|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.simps|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.termination|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.psimps|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.intros(4)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.intros(3)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.intros(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.intros(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.intros|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl2|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_stri_imp_nstri|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_compat|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl3|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prl|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_SN|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.prc_refl|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S_subset_RPO_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_with_assms_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_with_assms_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_order_pair_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_pair_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.SN_ars_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_S(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_S(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_NS(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_NS(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.order_pair_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rtrancl_NS_O_S(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rtrancl_NS_O_S(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_rtrancl_NS(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.S_O_rtrancl_NS(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.compat_pair_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trancl_S|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rtrancl_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.trancl_NS|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_NS(2)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.NS_O_NS(1)|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.pre_order_pair_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.elims|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.induct|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.pelims|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.cases|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo.pinduct|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.simps|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.induct|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel.cases|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.simps|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.induct|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph.cases|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.precedence_axioms|thm"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.RPO_S|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_ns|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_s|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_pr|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.\&lt;sigma&gt;|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_NS|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.WPO_S|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_ns|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_s|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_dom|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_rel|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_sumC|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.wpo_graph|const"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.pr|const"><span>interpretation</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> trivial_rpo</span><span class="main"><span>:</span></span><span> </span><span>rpo_with_assms</span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>False</span><span class="main"><span>,</span></span><span> </span><span>True</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span>True</span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span>Mul</span><span>"</span></span></span><span> </span><span class="quoted"><span class="main"><span>0</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>unfold_locales</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Soundness of the Encoding</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.elims|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.pelims|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.termination|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.pinduct|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.intros|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.elims|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(36)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(35)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(34)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(33)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(32)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(31)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(30)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(29)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(28)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(27)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(26)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(25)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(24)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(23)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(22)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(21)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(20)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(19)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(18)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(17)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(16)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(15)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(14)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(13)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(12)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(11)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(10)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(9)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(8)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(7)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(6)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(5)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.simps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.pelims|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.termination|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.pinduct|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(36)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(35)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(34)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(33)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(32)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(31)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(30)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(29)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(28)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(27)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(26)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(25)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(24)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(23)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(22)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(21)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(20)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(19)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(18)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(17)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(16)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(15)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(14)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(13)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(12)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(11)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(10)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(9)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(8)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(7)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(6)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(5)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(4)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(3)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem.psimps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.simps|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.simps|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(36)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(35)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(34)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(33)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(32)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(31)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(30)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(29)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(28)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(27)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(26)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(25)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(24)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(23)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(22)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(21)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(20)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(19)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(18)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(17)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(16)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(15)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(14)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(13)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(12)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(11)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(10)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(9)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(8)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(7)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(6)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(5)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(4)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(3)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph.intros(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_sumC_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_dom|const"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_rel|const"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_sumC|const"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms|type"><span>FSyms</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span class="main"><span>)</span></span><span>term</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem|type"><span>ms_elem</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_ms_elem</span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inr</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_ms_elem</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.U|const"><span>U</span></a><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_ms_elem</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.P|const"><span>P</span></a><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_ms_elem</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.N|const"><span>N</span></a><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_ms_elem</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>undefined</span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_ms_elem_to_term|fact"><span class="entity_def" id="RPO_NP_Hard.term_to_ms_elem_ms_elem_to_term|thm"><span>term_to_ms_elem_ms_elem_to_term</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>x</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>x</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> a</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>snd</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>in</span></span></span><span> </span><span>rpo_with_assms</span><span class="main"><span>)</span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_vars_term|fact"><span class="entity_def" id="RPO_NP_Hard.rpo_with_assms.rpo_vars_term|fact"><span class="entity_def" id="RPO_NP_Hard.trivial_rpo.rpo_vars_term|thm"><span class="entity_def" id="RPO_NP_Hard.rpo_with_assms.rpo_vars_term|thm"><span>rpo_vars_term</span></span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>rpo_s</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span>rpo_ns</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>vars_term</span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>vars_term</span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rpo.induct</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>prc</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>prl</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>c</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>n</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>3</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>fst_conv</span><span> </span><span>rpo.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>snd_conv</span><span> </span><span>subset_eq</span><span> </span><span>term.set_intros</span><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2882..2883">4</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>s</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span>rpo_ns</span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_2966..2970">True</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_2882..2883"><span>4</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_2966..2970"><span>True</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_3027..3032">False</span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>pns</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3057..3060">prc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>prc</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>g</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ps</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>pns</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3027..3032"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>s</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span>rpo_ns</span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="skolem"><span>e</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>e</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>e</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>bool</span><span> </span><span class="main"><span>Ã</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3222..3224">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_3239..3242">res</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_2882..2883"><span>4</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span>rpo.simps</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3222..3224"><span>this</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3057..3060"><span>prc</span></a><span> </span><span>Let_def</span><span> </span><span>split</span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3239..3242"><span>res</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3311..3314">rel</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>t</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span>rpo_s</span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_3384..3386">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_2882..2883"><span>4</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3027..3032"><span>False</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3057..3060"><span>prc</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span>refl</span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3311..3314"><span>rel</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3384..3386"><span>IH</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3473..3478">lemma</span></span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf|fact"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_lists_of_cnf(1)|thm"><span>term_lists_of_cnf</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf|const"><span>term_lists_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3548..3556">non_triv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>â¹</span></span><span> 
     </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span> 
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ys</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>NS</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3822..3824">mp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span class="skolem"><span>ys</span></span><span class="main"><span>,</span></span><span class="skolem"><span>S</span></span><span class="main"><span>,</span></span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3473..3478"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf_def|fact"><span>term_lists_of_cnf_def</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3822..3824"><span>mp</span></a><span> </span><span>split</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3987..3990">abs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>as</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>bs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ys</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3822..3824"><span>mp</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf_def|fact"><span>multiset_problem_of_cnf_def</span></a><span> </span><span>Let_def</span><span> </span><span>List.maps_def</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4161..4162">S</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>S</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span>Inr</span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4261..4263">NS</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>NS</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4403..4405">ys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span>map</span><span> </span><span>Inr</span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4496..4498">xs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>concat</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>[</span></span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="entity_def" id="offset_4598..4601">one</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|fact"><span>multiset_problem_of_cnf</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3822..3824"><span>mp</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3548..3556"><span>non_triv</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_4844..4847">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_map|fact"><span>s_mul_ext_map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4844..4847"><span>mem</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a></a><span> </span><span class="free"><span class="free"><span>cnf</span></span></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
        </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_5155..5161">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5155..5161"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4161..4162"><span>S</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5248..5249">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5272..5273">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.ms_elem_of_lit|const"><span>ms_elem_of_lit</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
          </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5317..5320">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5350..5351">b</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5317..5320"><span>mem</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5248..5249"><span>i</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5410..5411">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inl</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5472..5475">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5506..5509">tsi</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5272..5273"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5472..5475"><span>len</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5248..5249"><span>i</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5506..5509"><span>tsi</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5604..5607">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_conv_nth</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5410..5411"><span>a</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5350..5351"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>Let_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>disjI2</span><span> </span><span>bexI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5604..5607"><span>mem</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5834..5835">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5841..5842">S</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5834..5835"><span>this</span></a><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5877..5880">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> 
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_6026..6030">case</span></span></span><span> </span><span>True</span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5841..5842"><span>S</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6026..6030"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S_subset_RPO_NS|fact"><span>trivial_rpo.RPO_S_subset_RPO_NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
        </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_5877..5880"><span>mem</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4261..4263"><span>NS</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
          </span><span class="entity_def" id="offset_6244..6245">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6268..6269">b</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6299..6300">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6244..6245"><span>a</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6268..6269"><span>b</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6299..6300"><span>s</span></a><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>all_nstri_imp_mul_nstri</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>all_nstri_imp_mul_nstri</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>subgoal</span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> i</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>all_nstri_imp_mul_nstri</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_6869..6872">mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6984..6988">xsys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="free"><span>as</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ys</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>map</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span> </span><span>map_map</span><span> </span><span>o_def</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>nth_equalityI</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="bound"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="bound"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6984..6988"><span>xsys</span></a><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_map|fact"><span>s_mul_ext_map</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_6869..6872"><span>mem</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7288..7290">ab</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>as</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7288..7290"><span>ab</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7365..7366">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ys</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7385..7386">b</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7288..7290"><span>ab</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7470..7471">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7490..7491">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7365..7366"><span>y</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4403..4405"><span>ys</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7572..7573">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7470..7471"><span>x</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4496..4498"><span>xs</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>w</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7717..7718">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Positive|const"><span>Positive</span></a><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Negative|const"><span>Negative</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7798..7799">x</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>w</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7849..7850">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inl</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.Annotation.Unsigned|const"><span>Unsigned</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7880..7881">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7932..7938">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7717..7718"><span>s</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7932..7938"><span>this</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7880..7881"><span>v</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7490..7491"><span>a</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7385..7386"><span>b</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7798..7799"><span>x</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7849..7850"><span>y</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4261..4263"><span>NS</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8139..8140">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_8146..8152">case11</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8139..8140"><span>this</span></a><span>
        </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
          </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_s|const"><span>trivial_rpo.rpo_s</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8256..8258">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7717..7718"><span>s</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8256..8258"><span>this</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7880..7881"><span>v</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7490..7491"><span>a</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7385..7386"><span>b</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7798..7799"><span>x</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7849..7850"><span>y</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>Let_def</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.fst_mul_ext_imp_fst|fact"><span>fst_mul_ext_imp_fst</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8418..8419">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_8425..8431">case12</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8418..8419"><span>this</span></a><span>
        </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8146..8152"><span>case11</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8425..8431"><span>case12</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8472..8473">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_8479..8484">case1</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8472..8473"><span>this</span></a><span>
      </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_8515..8516">y</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Inr</span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> 
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S_subset_RPO_NS|fact"><span>trivial_rpo.RPO_S_subset_RPO_NS</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8711..8713">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7717..7718"><span>s</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8711..8713"><span>this</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7490..7491"><span>a</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7385..7386"><span>b</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7798..7799"><span>x</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8515..8516"><span>y</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>Let_def</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4261..4263"><span>NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4161..4162"><span>S</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8889..8890">}</span></span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_8896..8901">case2</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8889..8890"><span>this</span></a><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8479..8484"><span>case1</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8896..8901"><span>case2</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7572..7573"><span>y</span></a><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8479..8484"><span>case1</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_8896..8901"><span>case2</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_7572..7573"><span>y</span></a><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_to_ms_elem|const"><span>term_to_ms_elem</span></a><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4261..4263"><span>NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="skolem"><span>ys</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Here the encoding for single RPO-terms is handled. We do this here and not in a separate
</span><span>    lemma, since some of the properties of xs, ys, as, bs, etc. are required.</span><span>âº</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_9435..9439">len2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> 
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4598..4601"><span>one</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_9585..9588">mul</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>b</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>â#</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9733..9735">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_More.html#Multiset_Ordering_More.s_mul_ext_point|fact"><span>s_mul_ext_point</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_9585..9588"><span>mul</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_9733..9735"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S_subset_RPO_NS|fact"><span>trivial_rpo.RPO_S_subset_RPO_NS</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>      
      </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>}</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_9585..9588"><span>mul</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mul_ext_def</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_10082..10085">rpo</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>s</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_ns|const"><span>trivial_rpo.rpo_ns</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><span class="var"><span>?thesis</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>a</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_10265..10266">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="free"><span>as</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_ns|const"><span>trivial_rpo.rpo_ns</span></a><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_vars_term|fact"><span>trivial_rpo.rpo_vars_term</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>a</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> 
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10393..10397">vars</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>vars_term</span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>vars_term</span><span> </span><span class="skolem"><span>a</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10265..10266"><span>a</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4496..4498"><span>xs</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>vars_term</span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="main"><span>â©</span></span><span> </span><span>range</span><span> </span><span>Inl</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span>Inl</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10393..10397"><span>vars</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10576..10579">sub</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>vars_term</span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â©</span></span><span> </span><span>range</span><span> </span><span>Inl</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span>Inl</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_9435..9439"><span>len2</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>y</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>z</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>vs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_10670..10674">vars</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>z</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>vs</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>distinct</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10670..10674"><span>vars</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10876..10878">yz</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="skolem"><span>z</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span>Inl</span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>,</span></span><span> </span><span>Inl</span><span> </span><span class="skolem"><span>z</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>vars_term</span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_3987..3990"><span>abs</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_4403..4405"><span>ys</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10670..10674"><span>vars</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10576..10579"><span>sub</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10876..10878"><span>yz</span></a><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_10082..10085"><span>rpo</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>fst</span><span> </span><span class="main"><span>(</span></span><span>mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_pr|const"><span>trivial_rpo.rpo_pr</span></a><span> </span><span class="free"><span>as</span></span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>thus</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>mset</span><span> </span><span class="free"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>mset</span><span> </span><span class="free"><span>bs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>s_mul_ext</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_NS|const"><span>trivial_rpo.RPO_NS</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>mul_ext_def</span><span> </span><span>Let_def</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf|fact"><span class="entity_def" id="RPO_NP_Hard.rpo_constraint_of_cnf|thm"><span>rpo_constraint_of_cnf</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11293..11301">non_triv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf|const"><span>vars_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¥</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> 
</span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>Î²</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.eval_cnf|const"><span>eval_cnf</span></a><span> </span><span class="bound"><span>Î²</span></span><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.rpo_constraint_of_cnf|const"><span>rpo_constraint_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.RPO_S|const"><span>trivial_rpo.RPO_S</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>as</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_11442..11445">res</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf|const"><span>term_lists_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span class="skolem"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11293..11301"><span>non_triv</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11511..11514">cnf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.vars_of_cnf_def|fact"><span>vars_of_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.rpo_constraint_of_cnf_def|fact"><span>rpo_constraint_of_cnf_def</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11442..11445"><span>res</span></a><span> </span><span>split</span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>subst</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf|fact"><span>term_lists_of_cnf</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11442..11445"><span>res</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11511..11514"><span>cnf</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11293..11301"><span>non_triv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Size of Encoding is Quadratic</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="RPO_NP_Hard.term_size.elims|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.pelims|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.termination|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.pinduct|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.psimps|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.intros|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.inducts|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.simps|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.induct|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.cases|fact"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.intros|fact"><span class="entity_def" id="RPO_NP_Hard.term_size.elims|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.simps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.simps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.pelims|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.termination|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.pinduct|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.psimps(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size.psimps(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.simps|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_rel.intros|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.inducts|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.simps|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.induct|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.cases|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.intros(2)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_graph.intros(1)|thm"><span class="entity_def" id="RPO_NP_Hard.term_size_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_size_rel_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_size_sumC_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_size_graph_def|axiom"><span class="entity_def" id="RPO_NP_Hard.term_size_dom|const"><span class="entity_def" id="RPO_NP_Hard.term_size_rel|const"><span class="entity_def" id="RPO_NP_Hard.term_size_sumC|const"><span class="entity_def" id="RPO_NP_Hard.term_size_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="RPO_NP_Hard.term_size|const"><span>term_size</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span>term</span><span> </span><span class="main"><span>â</span></span><span> </span><span>nat</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_size</span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> 
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_size</span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>sum_list</span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="free"><span>term_size</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11866..11871">lemma</span></span></span><span> </span><span class="entity_def" id="RPO_NP_Hard.size_of_rpo_constraint_of_cnf|fact"><span class="entity_def" id="RPO_NP_Hard.size_of_rpo_constraint_of_cnf|thm"><span>size_of_rpo_constraint_of_cnf</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.rpo_constraint_of_cnf|const"><span>rpo_constraint_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf|const"><span>size_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>12</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>as</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bs</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>S</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>NS</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_12070..12072">mp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>S</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>NS</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.multiset_problem_of_cnf|const"><span>multiset_problem_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Multiset_Ordering_NP_Hard.html#Multiset_Ordering_NP_Hard.size_of_multiset_problem_of_cnf|fact"><span>size_of_multiset_problem_of_cnf</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12070..12072"><a class="entity_ref" href="RPO_NP_Hard.html#offset_12070..12072"><a class="entity_ref" href="RPO_NP_Hard.html#offset_12070..12072"><a class="entity_ref" href="RPO_NP_Hard.html#offset_12070..12072"><span>mp</span></a></a></a></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><span>assms</span></a></a></a></a><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12236..12239">las</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>as</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>bs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12296..12298">tl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf|const"><span>term_lists_of_cnf</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_lists_of_cnf_def|fact"><span>term_lists_of_cnf_def</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12070..12072"><span>mp</span></a><span> </span><span>split</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.rpo_constraint_of_cnf_def|fact"><span>rpo_constraint_of_cnf_def</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12296..12298"><span>tl</span></a><span> </span><span>split</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12509..12511">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>as</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span>Var</span><span> </span><span class="main"><span>(</span></span><span>Inr</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms|type"><span>FSyms</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>nat</span><span class="main"><span>)</span></span><span> </span><span>Term.term</span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span>Fun</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.A|const"><span>A</span></a><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>x</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>b</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12746..12751">len_n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_11866..11871"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Propositional_Formula.html#Propositional_Formula.size_cnf_def|fact"><span>size_cnf_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="free"><span>cnf</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>cnf</span></span><span class="main"><span>,</span></span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term.cases|fact"><span>ms_elem_to_term.cases</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>o_def</span><span> </span><span>sum_list_triv</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12746..12751"><span>len_n</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13026..13033">size_ms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="skolem"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>a</span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span class="free"><span>t</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>G</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>cs</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>cs</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>as</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>bs</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13172..13173">u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Fun</span><span> </span><span class="skolem"><span>G</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>cs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12509..12511"><span>st</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>hence</span></span></span><span> </span><span class="entity_def" id="offset_13256..13259">lcs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>cs</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_12236..12239"><span>las</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span class="skolem"><span>cs</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.ms_elem_to_term|const"><span>ms_elem_to_term</span></a><span> </span><span class="free"><span>cnf</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13172..13173"><span>u</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>o_def</span><span> </span><span>size_list_conv_sum_list</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>â</span></span><span class="skolem"><span>cs</span></span><span class="main"><span>.</span></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13256..13259"><span>lcs</span></a><span> </span><span>le_refl</span><span> </span><span>sum_list_mono</span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13026..13033"><span>size_ms</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="main"><span>1</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>sum_list_triv</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>add_mono</span><span> </span><span>le_refl</span><span> </span><span>mult_mono</span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13256..13259"><span>lcs</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â¦</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>^</span></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="dynamic"><span class="dynamic"><span>field_simps</span></span></span><span> </span><span>power2_eq_square</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="main"><span>1</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13797..13798">}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13797..13798"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#offset_13797..13798"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>+</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.term_size|const"><span>term_size</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span><span class="hidden">â§</span><sup>2</sup></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>12</span></span><span> </span><span class="main"><span>*</span></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Check Executability</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="main"><span>(</span></span><span>code</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.rpo_constraint_of_cnf|const"><span>rpo_constraint_of_cnf</span></a><span> </span><span class="main"><span>[</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>              </span><span class="comment1"><span>â â¹</span><span>clause 0</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>                           </span><span class="comment1"><span>â â¹</span><span>clause 1</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''z''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>               </span><span class="comment1"><span>â â¹</span><span>clause 2</span><span>âº</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''x''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''y''</span></span><span class="main"><span>,</span></span><span>True</span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''z''</span></span><span class="main"><span>,</span></span><span>False</span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span> </span><span class="comment1"><span>â â¹</span><span>clause 3</span><span>âº</span></span><span> 
   </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="inner_quoted"><span>''SAT: ''</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.trivial_rpo.rpo_s|const"><span>trivial_rpo.rpo_s</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_quoted"><span>''Encoding: ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="inner_quoted"><span>'' &gt;RPO ''</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>hide_const</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>open</span></span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.A|const"><span>A</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.F|const"><span>F</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.G|const"><span>G</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.H|const"><span>H</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.U|const"><span>U</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.P|const"><span>P</span></a><span> </span><a class="entity_ref" href="RPO_NP_Hard.html#RPO_NP_Hard.FSyms.N|const"><span>N</span></a><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div>