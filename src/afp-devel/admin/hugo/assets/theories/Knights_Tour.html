<div id='KnightsTour'>y>
<div class="head">
<h1>Theory KnightsTour</h1>
</div>

<pre class="source"><span class="comment1"><span>(</span><span>*</span><span> Author: Lukas Koller </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>KnightsTour</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../../HOL/HOL/Main.html"><span>Main</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Introduction and Definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path is a sequence of moves on a chessboard s.t.\ every step in sequence is a 
</span><span>valid move for a Knight and that the Knight visits every square on the boards exactly once. 
</span><span>A Knight is a chess figure that is only able to move two squares vertically and one square 
</span><span>horizontally or two squares horizontally and one square vertically. Finding a Knight's path is an 
</span><span>instance of the Hamiltonian Path Problem. A Knight's circuit is a Knight's path, where additionally 
</span><span>the Knight can move from the last square to the first square of the path, forming a loop.
</span><span>
</span><span>Cull and De Curtins </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span> prove the existence of a Knight's path on a </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board for
</span><span>sufficiently large </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nâº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>mâº</span></span></span><span>. The main idea for the proof is to inductivly construct a Knight's 
</span><span>path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board from a few pre-computed Knight's paths for small boards, i.e. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>5Ã5âº</span></span></span><span>, 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã6âº</span></span></span><span>, ..., </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã9âº</span></span></span><span>. The paths for small boards are transformed (i.e. transpose, mirror, translate) 
</span><span>and concatenated to create paths for larger boards.
</span><span>
</span><span>While formalizing the proofs I discovered two mistakes in the original proof in 
</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>: (i) the pre-computed path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ã6âº</span></span></span><span>-board that ends in 
</span><span>the upper-left (in Figure 2) and (ii) the pre-computed path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã8âº</span></span></span><span>-board that ends in 
</span><span>the upper-left (in Figure 5) are incorrect: on the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ã6âº</span></span></span><span>-board the Knight cannot step 
</span><span>from square 26 to square 27; in the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã8âº</span></span></span><span>-board the Knight cannot step from square 27 to 
</span><span>square 28. In this formalization I have replaced the two incorrect paths with correct paths.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A square on a board is identified by its coordinates.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="KnightsTour.square|type"><span>square</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>Ã</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A board is represented as a set of squares. Note, that this allows boards to have an 
</span><span>arbitrary shape and do not necessarily need to be rectangular.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board|type"><span>board</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A (rectangular) </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(nÃm)âº</span></span></span><span>-board is the set of all squares </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(i,j)âº</span></span></span><span> where </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>1 â¤ i â¤ nâº</span></span></span><span> 
</span><span>and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>1 â¤ j â¤ mâº</span></span></span><span>. </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> is the lower-left corner, and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(n,m)âº</span></span></span><span> is the upper-right corner.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.board_def|fact"><span class="entity_def" id="KnightsTour.board_def|thm"><span class="entity_def" id="KnightsTour.board_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.board|const"><span>board</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>board</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A path is a sequence of steps on a board. A path is represented by the list of visited 
</span><span>squares on the board. Each square on the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(nÃm)âº</span></span></span><span>-board is identified by its coordinates </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(i,j)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>type_synonym</span></span></span><span> </span><span class="entity_def" id="KnightsTour.path|type"><span>path</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight can only move two squares vertically and one square horizontally or two squares 
</span><span>horizontally and one square vertically. Thus, a knight at position </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(i,j)âº</span></span></span><span> can only move 
</span><span>to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(iÂ±1,jÂ±2)âº</span></span></span><span> or </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(iÂ±2,jÂ±1)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.valid_step_def|fact"><span class="entity_def" id="KnightsTour.valid_step_def|thm"><span class="entity_def" id="KnightsTour.valid_step_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.valid_step|const"><span>valid_step</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>valid_step</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span>
                                                </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Now we define an inductive predicate that characterizes a Knight's path. A square </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub>âº</span></span></span><span> can be
</span><span>pre-pended to a current Knight's path </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>j</sub>#psâº</span></span></span><span> if (i) there is a valid step from the square </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub>âº</span></span></span><span> to 
</span><span>the first square </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>j</sub>âº</span></span></span><span> of the current path and (ii) the square </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub>âº</span></span></span><span> has not been visited yet.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.knights_path.inducts|fact"><span class="entity_def" id="KnightsTour.knights_path.simps|fact"><span class="entity_def" id="KnightsTour.knights_path.induct|fact"><span class="entity_def" id="KnightsTour.knights_path.cases|fact"><span class="entity_def" id="KnightsTour.knights_path.intros|fact"><span class="entity_def" id="KnightsTour.knights_path.inducts|thm"><span class="entity_def" id="KnightsTour.knights_path.simps|thm"><span class="entity_def" id="KnightsTour.knights_path.induct|thm"><span class="entity_def" id="KnightsTour.knights_path.cases|thm"><span class="entity_def" id="KnightsTour.knights_path.intros(2)|thm"><span class="entity_def" id="KnightsTour.knights_path.intros(1)|thm"><span class="entity_def" id="KnightsTour.knights_path_def|axiom"><span>inductive</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.knights_path|const"><span>knights_path</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>knights_path</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>knights_path</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>knights_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.knights_path.equation|fact"><span class="entity_def" id="KnightsTour.knights_path_o_iE|fact"><span class="entity_def" id="KnightsTour.knights_path_o_iI|fact"><span class="entity_def" id="KnightsTour.knights_path_o_i_def|fact"><span class="entity_def" id="KnightsTour.knights_path_i_iE|fact"><span class="entity_def" id="KnightsTour.knights_path_i_iI|fact"><span class="entity_def" id="KnightsTour.knights_path_i_i_def|fact"><span class="entity_def" id="KnightsTour.knights_path.equation(3)|thm"><span class="entity_def" id="KnightsTour.knights_path.equation(2)|thm"><span class="entity_def" id="KnightsTour.knights_path.equation(1)|thm"><span class="entity_def" id="KnightsTour.knights_path_o_iE|thm"><span class="entity_def" id="KnightsTour.knights_path_o_iI|thm"><span class="entity_def" id="KnightsTour.knights_path_o_i_def|thm"><span class="entity_def" id="KnightsTour.knights_path_i_iE|thm"><span class="entity_def" id="KnightsTour.knights_path_i_iI|thm"><span class="entity_def" id="KnightsTour.knights_path_i_i_def|thm"><span class="entity_def" id="KnightsTour.knights_path_o_i_def|axiom"><span class="entity_def" id="KnightsTour.knights_path_i_i_def|axiom"><span class="entity_def" id="KnightsTour.knights_path_o_i|const"><span class="entity_def" id="KnightsTour.knights_path_i_i|const"><span>code_pred</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span class="quoted"><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a></span></a></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A sequence is a Knight's circuit iff the sequence if a Knight's path and there is a valid 
</span><span>step from the last square to the first square.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.knights_circuit_def|fact"><span class="entity_def" id="KnightsTour.knights_circuit_def|thm"><span class="entity_def" id="KnightsTour.knights_circuit_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.knights_circuit|const"><span>knights_circuit</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Executable Checker for a Knight's Path</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>This section gives the implementation and correctness-proof for an executable checker for a
</span><span>knights-path w.r.t.\ the definition </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Implementation of an Executable Checker</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.row_exec.elims|fact"><span class="entity_def" id="KnightsTour.row_exec.induct|fact"><span class="entity_def" id="KnightsTour.row_exec.simps|fact"><span class="entity_def" id="KnightsTour.row_exec.pelims|fact"><span class="entity_def" id="KnightsTour.row_exec.cases|fact"><span class="entity_def" id="KnightsTour.row_exec.termination|fact"><span class="entity_def" id="KnightsTour.row_exec.pinduct|fact"><span class="entity_def" id="KnightsTour.row_exec.psimps|fact"><span class="entity_def" id="KnightsTour.row_exec_rel.inducts|fact"><span class="entity_def" id="KnightsTour.row_exec_rel.simps|fact"><span class="entity_def" id="KnightsTour.row_exec_rel.induct|fact"><span class="entity_def" id="KnightsTour.row_exec_rel.cases|fact"><span class="entity_def" id="KnightsTour.row_exec_rel.intros|fact"><span class="entity_def" id="KnightsTour.row_exec_graph.inducts|fact"><span class="entity_def" id="KnightsTour.row_exec_graph.simps|fact"><span class="entity_def" id="KnightsTour.row_exec_graph.induct|fact"><span class="entity_def" id="KnightsTour.row_exec_graph.cases|fact"><span class="entity_def" id="KnightsTour.row_exec_graph.intros|fact"><span class="entity_def" id="KnightsTour.row_exec.elims|thm"><span class="entity_def" id="KnightsTour.row_exec.induct|thm"><span class="entity_def" id="KnightsTour.row_exec.simps(2)|thm"><span class="entity_def" id="KnightsTour.row_exec.simps(1)|thm"><span class="entity_def" id="KnightsTour.row_exec.pelims|thm"><span class="entity_def" id="KnightsTour.row_exec.cases|thm"><span class="entity_def" id="KnightsTour.row_exec.termination|thm"><span class="entity_def" id="KnightsTour.row_exec.pinduct|thm"><span class="entity_def" id="KnightsTour.row_exec.psimps(2)|thm"><span class="entity_def" id="KnightsTour.row_exec.psimps(1)|thm"><span class="entity_def" id="KnightsTour.row_exec_rel.inducts|thm"><span class="entity_def" id="KnightsTour.row_exec_rel.simps|thm"><span class="entity_def" id="KnightsTour.row_exec_rel.induct|thm"><span class="entity_def" id="KnightsTour.row_exec_rel.cases|thm"><span class="entity_def" id="KnightsTour.row_exec_rel.intros|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.inducts|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.simps|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.induct|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.cases|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.row_exec_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.row_exec_def|axiom"><span class="entity_def" id="KnightsTour.row_exec_rel_def|axiom"><span class="entity_def" id="KnightsTour.row_exec_sumC_def|axiom"><span class="entity_def" id="KnightsTour.row_exec_graph_def|axiom"><span class="entity_def" id="KnightsTour.row_exec_dom|const"><span class="entity_def" id="KnightsTour.row_exec_rel|const"><span class="entity_def" id="KnightsTour.row_exec_sumC|const"><span class="entity_def" id="KnightsTour.row_exec_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.row_exec|const"><span>row_exec</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>row_exec</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>row_exec</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>row_exec</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.board_exec_aux.elims|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.induct|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.simps|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.pelims|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.cases|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.termination|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.pinduct|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.psimps|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.inducts|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.simps|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.induct|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.cases|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.intros|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.inducts|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.simps|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.induct|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.cases|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.intros|fact"><span class="entity_def" id="KnightsTour.board_exec_aux.elims|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.induct|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.simps(2)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.simps(1)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.pelims|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.cases|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.termination|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.pinduct|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.psimps(2)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux.psimps(1)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.inducts|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.simps|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.induct|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.cases|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_rel.intros|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.inducts|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.simps|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.induct|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.cases|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.board_exec_aux_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_aux_rel_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_aux_sumC_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_aux_graph_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_aux_dom|const"><span class="entity_def" id="KnightsTour.board_exec_aux_rel|const"><span class="entity_def" id="KnightsTour.board_exec_aux_sumC|const"><span class="entity_def" id="KnightsTour.board_exec_aux_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set|type"><span>set</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>board_exec_aux</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>  
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>board_exec_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="free"><span>board_exec_aux</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>M</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Compute a board.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.board_exec.elims|fact"><span class="entity_def" id="KnightsTour.board_exec.induct|fact"><span class="entity_def" id="KnightsTour.board_exec.simps|fact"><span class="entity_def" id="KnightsTour.board_exec.pelims|fact"><span class="entity_def" id="KnightsTour.board_exec.cases|fact"><span class="entity_def" id="KnightsTour.board_exec.termination|fact"><span class="entity_def" id="KnightsTour.board_exec.pinduct|fact"><span class="entity_def" id="KnightsTour.board_exec.psimps|fact"><span class="entity_def" id="KnightsTour.board_exec_rel.inducts|fact"><span class="entity_def" id="KnightsTour.board_exec_rel.simps|fact"><span class="entity_def" id="KnightsTour.board_exec_rel.induct|fact"><span class="entity_def" id="KnightsTour.board_exec_rel.cases|fact"><span class="entity_def" id="KnightsTour.board_exec_rel.intros|fact"><span class="entity_def" id="KnightsTour.board_exec_graph.inducts|fact"><span class="entity_def" id="KnightsTour.board_exec_graph.simps|fact"><span class="entity_def" id="KnightsTour.board_exec_graph.induct|fact"><span class="entity_def" id="KnightsTour.board_exec_graph.cases|fact"><span class="entity_def" id="KnightsTour.board_exec_graph.intros|fact"><span class="entity_def" id="KnightsTour.board_exec.elims|thm"><span class="entity_def" id="KnightsTour.board_exec.induct|thm"><span class="entity_def" id="KnightsTour.board_exec.simps|thm"><span class="entity_def" id="KnightsTour.board_exec.pelims|thm"><span class="entity_def" id="KnightsTour.board_exec.cases|thm"><span class="entity_def" id="KnightsTour.board_exec.termination|thm"><span class="entity_def" id="KnightsTour.board_exec.pinduct|thm"><span class="entity_def" id="KnightsTour.board_exec.psimps|thm"><span class="entity_def" id="KnightsTour.board_exec_rel.inducts|thm"><span class="entity_def" id="KnightsTour.board_exec_rel.simps|thm"><span class="entity_def" id="KnightsTour.board_exec_rel.induct|thm"><span class="entity_def" id="KnightsTour.board_exec_rel.cases|thm"><span class="entity_def" id="KnightsTour.board_exec_graph.inducts|thm"><span class="entity_def" id="KnightsTour.board_exec_graph.simps|thm"><span class="entity_def" id="KnightsTour.board_exec_graph.induct|thm"><span class="entity_def" id="KnightsTour.board_exec_graph.cases|thm"><span class="entity_def" id="KnightsTour.board_exec_graph.intros|thm"><span class="entity_def" id="KnightsTour.board_exec_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_rel_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_sumC_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_graph_def|axiom"><span class="entity_def" id="KnightsTour.board_exec_dom|const"><span class="entity_def" id="KnightsTour.board_exec_rel|const"><span class="entity_def" id="KnightsTour.board_exec_sumC|const"><span class="entity_def" id="KnightsTour.board_exec_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.board_exec|const"><span>board_exec</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>board_exec</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.step_checker.elims|fact"><span class="entity_def" id="KnightsTour.step_checker.induct|fact"><span class="entity_def" id="KnightsTour.step_checker.simps|fact"><span class="entity_def" id="KnightsTour.step_checker.pelims|fact"><span class="entity_def" id="KnightsTour.step_checker.cases|fact"><span class="entity_def" id="KnightsTour.step_checker.termination|fact"><span class="entity_def" id="KnightsTour.step_checker.pinduct|fact"><span class="entity_def" id="KnightsTour.step_checker.psimps|fact"><span class="entity_def" id="KnightsTour.step_checker_rel.inducts|fact"><span class="entity_def" id="KnightsTour.step_checker_rel.simps|fact"><span class="entity_def" id="KnightsTour.step_checker_rel.induct|fact"><span class="entity_def" id="KnightsTour.step_checker_rel.cases|fact"><span class="entity_def" id="KnightsTour.step_checker_rel.intros|fact"><span class="entity_def" id="KnightsTour.step_checker_graph.inducts|fact"><span class="entity_def" id="KnightsTour.step_checker_graph.simps|fact"><span class="entity_def" id="KnightsTour.step_checker_graph.induct|fact"><span class="entity_def" id="KnightsTour.step_checker_graph.cases|fact"><span class="entity_def" id="KnightsTour.step_checker_graph.intros|fact"><span class="entity_def" id="KnightsTour.step_checker.elims(3)|thm"><span class="entity_def" id="KnightsTour.step_checker.elims(2)|thm"><span class="entity_def" id="KnightsTour.step_checker.elims(1)|thm"><span class="entity_def" id="KnightsTour.step_checker.induct|thm"><span class="entity_def" id="KnightsTour.step_checker.simps|thm"><span class="entity_def" id="KnightsTour.step_checker.pelims(3)|thm"><span class="entity_def" id="KnightsTour.step_checker.pelims(2)|thm"><span class="entity_def" id="KnightsTour.step_checker.pelims(1)|thm"><span class="entity_def" id="KnightsTour.step_checker.cases|thm"><span class="entity_def" id="KnightsTour.step_checker.termination|thm"><span class="entity_def" id="KnightsTour.step_checker.pinduct|thm"><span class="entity_def" id="KnightsTour.step_checker.psimps|thm"><span class="entity_def" id="KnightsTour.step_checker_rel.inducts|thm"><span class="entity_def" id="KnightsTour.step_checker_rel.simps|thm"><span class="entity_def" id="KnightsTour.step_checker_rel.induct|thm"><span class="entity_def" id="KnightsTour.step_checker_rel.cases|thm"><span class="entity_def" id="KnightsTour.step_checker_graph.inducts|thm"><span class="entity_def" id="KnightsTour.step_checker_graph.simps|thm"><span class="entity_def" id="KnightsTour.step_checker_graph.induct|thm"><span class="entity_def" id="KnightsTour.step_checker_graph.cases|thm"><span class="entity_def" id="KnightsTour.step_checker_graph.intros|thm"><span class="entity_def" id="KnightsTour.step_checker_def|axiom"><span class="entity_def" id="KnightsTour.step_checker_rel_def|axiom"><span class="entity_def" id="KnightsTour.step_checker_sumC_def|axiom"><span class="entity_def" id="KnightsTour.step_checker_graph_def|axiom"><span class="entity_def" id="KnightsTour.step_checker_dom|const"><span class="entity_def" id="KnightsTour.step_checker_rel|const"><span class="entity_def" id="KnightsTour.step_checker_sumC|const"><span class="entity_def" id="KnightsTour.step_checker_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.step_checker|const"><span>step_checker</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step_checker</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> 
    </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> 
     </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i'</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j'</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.path_checker.elims|fact"><span class="entity_def" id="KnightsTour.path_checker.induct|fact"><span class="entity_def" id="KnightsTour.path_checker.simps|fact"><span class="entity_def" id="KnightsTour.path_checker.pelims|fact"><span class="entity_def" id="KnightsTour.path_checker.cases|fact"><span class="entity_def" id="KnightsTour.path_checker.termination|fact"><span class="entity_def" id="KnightsTour.path_checker.pinduct|fact"><span class="entity_def" id="KnightsTour.path_checker.psimps|fact"><span class="entity_def" id="KnightsTour.path_checker_rel.inducts|fact"><span class="entity_def" id="KnightsTour.path_checker_rel.simps|fact"><span class="entity_def" id="KnightsTour.path_checker_rel.induct|fact"><span class="entity_def" id="KnightsTour.path_checker_rel.cases|fact"><span class="entity_def" id="KnightsTour.path_checker_rel.intros|fact"><span class="entity_def" id="KnightsTour.path_checker_graph.inducts|fact"><span class="entity_def" id="KnightsTour.path_checker_graph.simps|fact"><span class="entity_def" id="KnightsTour.path_checker_graph.induct|fact"><span class="entity_def" id="KnightsTour.path_checker_graph.cases|fact"><span class="entity_def" id="KnightsTour.path_checker_graph.intros|fact"><span class="entity_def" id="KnightsTour.path_checker.elims(3)|thm"><span class="entity_def" id="KnightsTour.path_checker.elims(2)|thm"><span class="entity_def" id="KnightsTour.path_checker.elims(1)|thm"><span class="entity_def" id="KnightsTour.path_checker.induct|thm"><span class="entity_def" id="KnightsTour.path_checker.simps(3)|thm"><span class="entity_def" id="KnightsTour.path_checker.simps(2)|thm"><span class="entity_def" id="KnightsTour.path_checker.simps(1)|thm"><span class="entity_def" id="KnightsTour.path_checker.pelims(3)|thm"><span class="entity_def" id="KnightsTour.path_checker.pelims(2)|thm"><span class="entity_def" id="KnightsTour.path_checker.pelims(1)|thm"><span class="entity_def" id="KnightsTour.path_checker.cases|thm"><span class="entity_def" id="KnightsTour.path_checker.termination|thm"><span class="entity_def" id="KnightsTour.path_checker.pinduct|thm"><span class="entity_def" id="KnightsTour.path_checker.psimps(3)|thm"><span class="entity_def" id="KnightsTour.path_checker.psimps(2)|thm"><span class="entity_def" id="KnightsTour.path_checker.psimps(1)|thm"><span class="entity_def" id="KnightsTour.path_checker_rel.inducts|thm"><span class="entity_def" id="KnightsTour.path_checker_rel.simps|thm"><span class="entity_def" id="KnightsTour.path_checker_rel.induct|thm"><span class="entity_def" id="KnightsTour.path_checker_rel.cases|thm"><span class="entity_def" id="KnightsTour.path_checker_rel.intros|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.inducts|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.simps|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.induct|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.cases|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.intros(3)|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.path_checker_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.path_checker_def|axiom"><span class="entity_def" id="KnightsTour.path_checker_rel_def|axiom"><span class="entity_def" id="KnightsTour.path_checker_sumC_def|axiom"><span class="entity_def" id="KnightsTour.path_checker_graph_def|axiom"><span class="entity_def" id="KnightsTour.path_checker_dom|const"><span class="entity_def" id="KnightsTour.path_checker_rel|const"><span class="entity_def" id="KnightsTour.path_checker_sumC|const"><span class="entity_def" id="KnightsTour.path_checker_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.path_checker|const"><span>path_checker</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>path_checker</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.False|const"><span>False</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>path_checker</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>path_checker</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>path_checker</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.circuit_checker.elims|fact"><span class="entity_def" id="KnightsTour.circuit_checker.induct|fact"><span class="entity_def" id="KnightsTour.circuit_checker.simps|fact"><span class="entity_def" id="KnightsTour.circuit_checker.pelims|fact"><span class="entity_def" id="KnightsTour.circuit_checker.cases|fact"><span class="entity_def" id="KnightsTour.circuit_checker.termination|fact"><span class="entity_def" id="KnightsTour.circuit_checker.pinduct|fact"><span class="entity_def" id="KnightsTour.circuit_checker.psimps|fact"><span class="entity_def" id="KnightsTour.circuit_checker_rel.inducts|fact"><span class="entity_def" id="KnightsTour.circuit_checker_rel.simps|fact"><span class="entity_def" id="KnightsTour.circuit_checker_rel.induct|fact"><span class="entity_def" id="KnightsTour.circuit_checker_rel.cases|fact"><span class="entity_def" id="KnightsTour.circuit_checker_rel.intros|fact"><span class="entity_def" id="KnightsTour.circuit_checker_graph.inducts|fact"><span class="entity_def" id="KnightsTour.circuit_checker_graph.simps|fact"><span class="entity_def" id="KnightsTour.circuit_checker_graph.induct|fact"><span class="entity_def" id="KnightsTour.circuit_checker_graph.cases|fact"><span class="entity_def" id="KnightsTour.circuit_checker_graph.intros|fact"><span class="entity_def" id="KnightsTour.circuit_checker.elims(3)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.elims(2)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.elims(1)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.induct|thm"><span class="entity_def" id="KnightsTour.circuit_checker.simps|thm"><span class="entity_def" id="KnightsTour.circuit_checker.pelims(3)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.pelims(2)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.pelims(1)|thm"><span class="entity_def" id="KnightsTour.circuit_checker.cases|thm"><span class="entity_def" id="KnightsTour.circuit_checker.termination|thm"><span class="entity_def" id="KnightsTour.circuit_checker.pinduct|thm"><span class="entity_def" id="KnightsTour.circuit_checker.psimps|thm"><span class="entity_def" id="KnightsTour.circuit_checker_rel.inducts|thm"><span class="entity_def" id="KnightsTour.circuit_checker_rel.simps|thm"><span class="entity_def" id="KnightsTour.circuit_checker_rel.induct|thm"><span class="entity_def" id="KnightsTour.circuit_checker_rel.cases|thm"><span class="entity_def" id="KnightsTour.circuit_checker_graph.inducts|thm"><span class="entity_def" id="KnightsTour.circuit_checker_graph.simps|thm"><span class="entity_def" id="KnightsTour.circuit_checker_graph.induct|thm"><span class="entity_def" id="KnightsTour.circuit_checker_graph.cases|thm"><span class="entity_def" id="KnightsTour.circuit_checker_graph.intros|thm"><span class="entity_def" id="KnightsTour.circuit_checker_def|axiom"><span class="entity_def" id="KnightsTour.circuit_checker_rel_def|axiom"><span class="entity_def" id="KnightsTour.circuit_checker_sumC_def|axiom"><span class="entity_def" id="KnightsTour.circuit_checker_graph_def|axiom"><span class="entity_def" id="KnightsTour.circuit_checker_dom|const"><span class="entity_def" id="KnightsTour.circuit_checker_rel|const"><span class="entity_def" id="KnightsTour.circuit_checker_sumC|const"><span class="entity_def" id="KnightsTour.circuit_checker_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.circuit_checker|const"><span>circuit_checker</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>circuit_checker</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Correctness Proof of the Executable Checker</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.row_exec_leq|fact"><span class="entity_def" id="KnightsTour.row_exec_leq|thm"><span>row_exec_leq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_exec_aux_leq_mem|fact"><span class="entity_def" id="KnightsTour.board_exec_aux_leq_mem|thm"><span>board_exec_aux_leq_mem</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quoted"><span class="free"><span>M</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux.induct|fact"><span>board_exec_aux.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_exec_leq|fact"><span class="entity_def" id="KnightsTour.board_exec_leq|thm"><span>board_exec_leq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec|const"><span>board_exec</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux_leq_mem|fact"><span>board_exec_aux_leq_mem</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec_leq|fact"><span>row_exec_leq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_exec_correct|fact"><span class="entity_def" id="KnightsTour.board_exec_correct|thm"><span>board_exec_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec|const"><span>board_exec</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_leq|fact"><span>board_exec_leq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_checker_correct|fact"><span class="entity_def" id="KnightsTour.step_checker_correct|thm"><span>step_checker_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_checker_rev|fact"><span class="entity_def" id="KnightsTour.step_checker_rev|thm"><span>step_checker_rev</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker.simps|fact"><span>step_checker.simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5990..5995">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_intro_rev|fact"><span class="entity_def" id="KnightsTour.knights_path_intro_rev|thm"><span>knights_path_intro_rev</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_5990..5995"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6168..6173">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_6168..6173"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Final correctness corollary for the executable checker </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.path_checker_correct|fact"><span class="entity_def" id="KnightsTour.path_checker_correct|thm"><span>path_checker_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker.induct|fact"><span>path_checker.induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>3</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>b</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_intro_rev|fact"><span>knights_path_intro_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>                  
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_exec_simp|fact"><span class="entity_def" id="KnightsTour.knights_path_exec_simp|thm"><span>knights_path_exec_simp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker|const"><span>path_checker</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec|const"><span>board_exec</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_correct|fact"><span>board_exec_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker_correct|fact"><span>path_checker_correct</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.circuit_checker_correct|fact"><span class="entity_def" id="KnightsTour.circuit_checker_correct|thm"><span>circuit_checker_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.circuit_checker|const"><span>circuit_checker</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path_checker_correct|fact"><span>path_checker_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_exec_simp|fact"><span class="entity_def" id="KnightsTour.knights_circuit_exec_simp|thm"><span>knights_circuit_exec_simp</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.circuit_checker|const"><span>circuit_checker</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec|const"><span>board_exec</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_correct|fact"><span>board_exec_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.circuit_checker_correct|fact"><span>circuit_checker_correct</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Basic Properties of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_leq_subset|fact"><span class="entity_def" id="KnightsTour.board_leq_subset|thm"><span>board_leq_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.finite_row_exec|fact"><span class="entity_def" id="KnightsTour.finite_row_exec|thm"><span>finite_row_exec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.finite_board_exec_aux|fact"><span class="entity_def" id="KnightsTour.finite_board_exec_aux|thm"><span>finite_board_exec_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_finite|fact"><span class="entity_def" id="KnightsTour.board_finite|thm"><span>board_finite</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.finite_board_exec_aux|fact"><span>finite_board_exec_aux</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.finite_row_exec|fact"><span>finite_row_exec</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_correct|fact"><span>board_exec_correct</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.card_row_exec|fact"><span class="entity_def" id="KnightsTour.card_row_exec|thm"><span>card_row_exec</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8084..8087">Suc</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec_leq|fact"><span>row_exec_leq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card_Suc_eq|fact"><span>card_Suc_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_8084..8087"><span>Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.plus_1_eq_Suc|fact"><span>plus_1_eq_Suc</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec.simps|fact"><span>row_exec.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_8084..8087"><span>Suc.IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.set_comp_ins|fact"><span class="entity_def" id="KnightsTour.set_comp_ins|thm"><span>set_comp_ins</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?Mi</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?iM</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?Mi</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?iM</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?Mi</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?iM</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?iM</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?Mi</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?iM</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?Mi</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.finite_card_set_comp|fact"><span class="entity_def" id="KnightsTour.finite_card_set_comp|thm"><span>finite_card_set_comp</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>M</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite_induct|fact"><span>finite_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>M</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.set_comp_ins|fact"><span>set_comp_ins</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>M</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.card_board_exec_aux|fact"><span class="entity_def" id="KnightsTour.card_board_exec_aux|thm"><span>card_board_exec_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9285..9288">Suc</span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?M'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rec_k</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>finite</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="var"><span>?M'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="var"><span>?rec_k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_9285..9288"><span>Suc</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.finite_board_exec_aux|fact"><span>finite_board_exec_aux</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9467..9479">card_Un_simp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?M'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?rec_k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?M'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?rec_k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux_leq_mem|fact"><span>board_exec_aux_leq_mem</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card_Un_Int|fact"><span>card_Un_Int</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?M'</span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?rec_k</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9606..9612">card_M</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?M'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_9285..9288"><span>Suc</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.finite_card_set_comp|fact"><span>finite_card_set_comp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>M</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?M'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?rec_k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_9467..9479"><span>card_Un_simp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_9285..9288"><span>Suc</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_9606..9612"><span>card_M</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc|const"><span>Suc</span></a><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>M</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.card_board|fact"><span class="entity_def" id="KnightsTour.card_board|thm"><span>card_board</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_aux|const"><span>board_exec_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.row_exec|const"><span>row_exec</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_exec_correct|fact"><span>board_exec_correct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.card_row_exec|fact"><span>card_row_exec</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.card_board_exec_aux|fact"><span>card_board_exec_aux</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.finite_row_exec|fact"><span>finite_row_exec</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_board_non_empty|fact"><span class="entity_def" id="KnightsTour.knights_path_board_non_empty|thm"><span>knights_path_board_non_empty</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_board_m_n_geq_1|fact"><span class="entity_def" id="KnightsTour.knights_path_board_m_n_geq_1|thm"><span>knights_path_board_m_n_geq_1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_board_non_empty|fact"><span>knights_path_board_non_empty</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_non_nil|fact"><span class="entity_def" id="KnightsTour.knights_path_non_nil|thm"><span>knights_path_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_set_eq|fact"><span class="entity_def" id="KnightsTour.knights_path_set_eq|thm"><span>knights_path_set_eq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_subset|fact"><span class="entity_def" id="KnightsTour.knights_path_subset|thm"><span>knights_path_subset</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_board_unique|fact"><span class="entity_def" id="KnightsTour.knights_path_board_unique|thm"><span>knights_path_board_unique</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_neq|fact"><span class="entity_def" id="KnightsTour.valid_step_neq|thm"><span>valid_step_neq</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_non_transitive|fact"><span class="entity_def" id="KnightsTour.valid_step_non_transitive|thm"><span>valid_step_non_transitive</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_11195..11200">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">â©</span><sub>i</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j<span class="hidden">â©</span><sub>i</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">â©</span><sub>j</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j<span class="hidden">â©</span><sub>j</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">â©</span><sub>k</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j<span class="hidden">â©</span><sub>k</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_11195..11200"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_distinct|fact"><span class="entity_def" id="KnightsTour.knights_path_distinct|thm"><span>knights_path_distinct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11737..11738">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_neq|fact"><span>valid_step_neq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_11737..11738"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_length|fact"><span class="entity_def" id="KnightsTour.knights_path_length|thm"><span>knights_path_length</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_distinct|fact"><span>knights_path_distinct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct_card|fact"><span>distinct_card</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12030..12035">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_take|fact"><span class="entity_def" id="KnightsTour.knights_path_take|thm"><span>knights_path_take</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12030..12035"><span>assms</span></a><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_12243..12244">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_neq|fact"><span>valid_step_neq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12565..12572">k_simps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
        </span><span>take_simp1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
        </span><span class="entity_def" id="offset_12700..12710">take_simp2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12030..12035"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Cons&apos;|fact"><span>take_Cons'</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>k</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Cons&apos;|fact"><span>take_Cons'</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12565..12572"><span>k_simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12969..12971">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Cons&apos;|fact"><span>take_Cons'</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12565..12572"><span>k_simps</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13135..13141">no_mem</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12243..12244"><span>2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_take_subset|fact"><span>set_take_subset</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13135..13141"><span>no_mem</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12969..12971"><span>kp</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12565..12572"><span>k_simps</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_12700..12710"><span>take_simp2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13543..13548">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_drop|fact"><span class="entity_def" id="KnightsTour.knights_path_drop|thm"><span>knights_path_drop</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13543..13548"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_13755..13756">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13755..13756"><span>2</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13755..13756"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13543..13548"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13755..13756"><span>2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_Cons&apos;|fact"><span>drop_Cons'</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>k</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_13755..13756"><span>2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path can be split to form two new disjoint Knight's paths.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14327..14336">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_split|fact"><span class="entity_def" id="KnightsTour.knights_path_split|thm"><span>knights_path_split</span></span></span><span class="main"><span>:</span></span><span>             
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="bound"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14327..14336"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14630..14633">kp1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14671..14674">kp2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14327..14336"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_take|fact"><span>knights_path_take</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_drop|fact"><span>knights_path_drop</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14775..14780">union</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14327..14336"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append_take_drop_id|fact"><span>append_take_drop_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.set_append|fact"><span>set_append</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14885..14890">inter</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14327..14336"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_distinct|fact"><span>knights_path_distinct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.append_take_drop_id|fact"><span>append_take_drop_id</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct_append|fact"><span>distinct_append</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14630..14633"><span>kp1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14671..14674"><span>kp2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14775..14780"><span>union</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_14885..14890"><span>inter</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Append two disjoint Knight's paths.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15093..15102">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_append|fact"><span class="entity_def" id="KnightsTour.knights_path_append|thm"><span>knights_path_append</span></span></span><span class="main"><span>:</span></span><span>             
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_15093..15102"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_rev|fact"><span class="entity_def" id="KnightsTour.valid_step_rev|thm"><span>valid_step_rev</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_correct|fact"><span>step_checker_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker_rev|fact"><span>step_checker_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.exhaust_sel|fact"><span>prod.exhaust_sel</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reverse a Knight's path.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16117..16126">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_rev|fact"><span class="entity_def" id="KnightsTour.knights_path_rev|thm"><span>knights_path_rev</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_16117..16126"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16275..16276">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_16275..16276"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reverse a Knight's circuit.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16660..16669">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_rev|fact"><span class="entity_def" id="KnightsTour.knights_circuit_rev|thm"><span>knights_circuit_rev</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_16660..16669"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_rev|fact"><span>knights_path_rev</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_rev|fact"><span>hd_rev</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_rev|fact"><span>last_rev</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> Function to rotate a Knight's circuit to start with (1,1),(3,2),... </span><span>*</span><span>)</span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span> fun rot_c_acc :: "path â path â path" where
  "rot_c_acc (s<span class="hidden">â©</span><sub>i</sub>#s<span class="hidden">â©</span><sub>j</sub>#ps) acc = 
    (if s<span class="hidden">â©</span><sub>i</sub> = (1,1) then 
      if s<span class="hidden">â©</span><sub>j</sub> = (3,2) then s<span class="hidden">â©</span><sub>i</sub>#rev (s<span class="hidden">â©</span><sub>j</sub>#ps@acc) else s<span class="hidden">â©</span><sub>i</sub>#s<span class="hidden">â©</span><sub>j</sub>#ps@acc
    else rot_c_acc (s<span class="hidden">â©</span><sub>j</sub>#ps) (s<span class="hidden">â©</span><sub>i</sub>#acc))"
| "rot_c_acc _ acc = []"

definition "rot_c ps â¡ rot_c_acc ps []" </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17229..17234">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_rotate1|fact"><span class="entity_def" id="KnightsTour.knights_circuit_rotate1|thm"><span>knights_circuit_rotate1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17229..17234"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17439..17442">kp1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17229..17234"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17579..17586">kp_elim</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17730..17733">vs'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17833..17836">kp2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17941..17943">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>[</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17439..17442"><span>kp1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17579..17586"><span>kp_elim</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17941..17943"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17833..17836"><span>kp2</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_17730..17733"><span>vs'</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit can be rotated to start at any square on the board.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18355..18360">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_rotate_to|fact"><span class="entity_def" id="KnightsTour.knights_circuit_rotate_to|thm"><span>knights_circuit_rotate_to</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="bound"><span>ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18355..18360"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>b</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_18571..18574">Suc</span><span> </span><span class="skolem"><span>k</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>           
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18571..18574"><span>Suc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18571..18574"><span>Suc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop.drop_Nil|fact"><span>drop_Nil</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_Suc|fact"><span>drop_Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_eq_Nil2|fact"><span>drop_eq_Nil2</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.le_antisym|fact"><span>le_antisym</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat_less_le|fact"><span>nat_less_le</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?ps'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18571..18574"><span>Suc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.exhaust_sel|fact"><span>list.exhaust_sel</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.tl_Nil|fact"><span>tl_Nil</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18571..18574"><span>Suc</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_rotate1|fact"><span>knights_circuit_rotate1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_Suc|fact"><span>drop_Suc</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_18571..18574"><span>Suc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For positive boards (1,1) can only have (2,3) and (3,2) as a neighbour.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19232..19237">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_1_1|fact"><span class="entity_def" id="KnightsTour.valid_step_1_1|thm"><span>valid_step_1_1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_19232..19237"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.list_len_g_1_split|fact"><span class="entity_def" id="KnightsTour.list_len_g_1_split|thm"><span>list_len_g_1_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>x<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>xs'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="bound"><span>x<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="bound"><span>xs'</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_19497..19501">Cons</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length_Suc_conv|fact"><span>length_Suc_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_19497..19501"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.list_len_g_3_split|fact"><span class="entity_def" id="KnightsTour.list_len_g_3_split|thm"><span>list_len_g_3_split</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="bound"><span>x<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>xs'</span></span><span> </span><span class="bound"><span>x<span class="hidden">â©</span><sub>3</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="bound"><span>x<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="bound"><span>xs'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>x<span class="hidden">â©</span><sub>3</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_20032..20036">Cons</span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="numeral"><span>3</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>3</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>x<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>2</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length_Suc_conv|fact"><span>length_Suc_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>2</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>xs<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>x<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length_Suc_conv|fact"><span>length_Suc_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x<span class="hidden">â©</span><sub>3</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>xs<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>x<span class="hidden">â©</span><sub>3</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length_Suc_conv|fact"><span>length_Suc_conv</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>xs<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="numeral"><span>3</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20032..20036"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Any Knight's circuit on a positive board can be rotated to start with (1,1) and 
</span><span>end with (3,2).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20723..20732">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.rotate_knights_circuit|fact"><span class="entity_def" id="KnightsTour.rotate_knights_circuit|thm"><span>rotate_knights_circuit</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_drop_conv_nth|fact"><span>hd_drop_conv_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.in_set_conv_nth|fact"><span>in_set_conv_nth</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_21246..21256">ps<span class="hidden">â©</span><sub>r</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_rotate_to|fact"><span>knights_circuit_rotate_to</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21365..21367">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21365..21367"><span>kp</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card|const"><span>card</span></a><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_leq_subset|fact"><span>board_leq_subset</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.card_board|fact"><span>card_board</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span class="main"><span>]</span></span><span>
          </span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.card_mono|fact"><span>card_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_finite|fact"><span>board_finite</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>3</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_length|fact"><span>knights_path_length</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21365..21367"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.list_len_g_3_split|fact"><span>list_len_g_3_split</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21365..21367"><span>kp</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_distinct|fact"><span>knights_path_distinct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22088..22094">vs_s<span class="hidden">â©</span><sub>k</sub></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22176..22182">vs_s<span class="hidden">â©</span><sub>j</sub></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22211..22214">kp'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21365..21367"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21365..21367"><span>kp</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_22088..22094"><span>vs_s<span class="hidden">â©</span><sub>k</sub></span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_22176..22182"><span>vs_s<span class="hidden">â©</span><sub>j</sub></span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_1_1|fact"><span>valid_step_1_1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.collapse|fact"><span>prod.collapse</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>r</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_21246..21256"><span>ps<span class="hidden">â©</span><sub>r</sub>_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22956..22958">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_23090..23098">rev_simp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_rev|fact"><span>knights_path_rev</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_22211..22214"><span>kp'</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span> 
         </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_22088..22094"><span>vs_s<span class="hidden">â©</span><sub>k</sub></span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_23090..23098"><span>rev_simp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_20723..20732"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert_absorb|fact"><span>insert_absorb</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_23090..23098"><span>rev_simp</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_22956..22958"><span>vs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Transposing Paths and Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Implementation of Path and Board Transposition</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.transpose_square_def|fact"><span class="entity_def" id="KnightsTour.transpose_square_def|thm"><span class="entity_def" id="KnightsTour.transpose_square_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.transpose_square|const"><span>transpose_square</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.transpose.elims|fact"><span class="entity_def" id="KnightsTour.transpose.induct|fact"><span class="entity_def" id="KnightsTour.transpose.simps|fact"><span class="entity_def" id="KnightsTour.transpose.pelims|fact"><span class="entity_def" id="KnightsTour.transpose.cases|fact"><span class="entity_def" id="KnightsTour.transpose.termination|fact"><span class="entity_def" id="KnightsTour.transpose.pinduct|fact"><span class="entity_def" id="KnightsTour.transpose.psimps|fact"><span class="entity_def" id="KnightsTour.transpose_rel.inducts|fact"><span class="entity_def" id="KnightsTour.transpose_rel.simps|fact"><span class="entity_def" id="KnightsTour.transpose_rel.induct|fact"><span class="entity_def" id="KnightsTour.transpose_rel.cases|fact"><span class="entity_def" id="KnightsTour.transpose_rel.intros|fact"><span class="entity_def" id="KnightsTour.transpose_graph.inducts|fact"><span class="entity_def" id="KnightsTour.transpose_graph.simps|fact"><span class="entity_def" id="KnightsTour.transpose_graph.induct|fact"><span class="entity_def" id="KnightsTour.transpose_graph.cases|fact"><span class="entity_def" id="KnightsTour.transpose_graph.intros|fact"><span class="entity_def" id="KnightsTour.transpose.elims|thm"><span class="entity_def" id="KnightsTour.transpose.induct|thm"><span class="entity_def" id="KnightsTour.transpose.simps(2)|thm"><span class="entity_def" id="KnightsTour.transpose.simps(1)|thm"><span class="entity_def" id="KnightsTour.transpose.pelims|thm"><span class="entity_def" id="KnightsTour.transpose.cases|thm"><span class="entity_def" id="KnightsTour.transpose.termination|thm"><span class="entity_def" id="KnightsTour.transpose.pinduct|thm"><span class="entity_def" id="KnightsTour.transpose.psimps(2)|thm"><span class="entity_def" id="KnightsTour.transpose.psimps(1)|thm"><span class="entity_def" id="KnightsTour.transpose_rel.inducts|thm"><span class="entity_def" id="KnightsTour.transpose_rel.simps|thm"><span class="entity_def" id="KnightsTour.transpose_rel.induct|thm"><span class="entity_def" id="KnightsTour.transpose_rel.cases|thm"><span class="entity_def" id="KnightsTour.transpose_rel.intros|thm"><span class="entity_def" id="KnightsTour.transpose_graph.inducts|thm"><span class="entity_def" id="KnightsTour.transpose_graph.simps|thm"><span class="entity_def" id="KnightsTour.transpose_graph.induct|thm"><span class="entity_def" id="KnightsTour.transpose_graph.cases|thm"><span class="entity_def" id="KnightsTour.transpose_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.transpose_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.transpose_def|axiom"><span class="entity_def" id="KnightsTour.transpose_rel_def|axiom"><span class="entity_def" id="KnightsTour.transpose_sumC_def|axiom"><span class="entity_def" id="KnightsTour.transpose_graph_def|axiom"><span class="entity_def" id="KnightsTour.transpose_dom|const"><span class="entity_def" id="KnightsTour.transpose_rel|const"><span class="entity_def" id="KnightsTour.transpose_sumC|const"><span class="entity_def" id="KnightsTour.transpose_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.transpose|const"><span>transpose</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>transpose</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>transpose</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>transpose</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.transpose_board_def|fact"><span class="entity_def" id="KnightsTour.transpose_board_def|thm"><span class="entity_def" id="KnightsTour.transpose_board_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.transpose_board|const"><span>transpose_board</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>transpose_board</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>j</span></span><span class="main"><span>,</span></span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Correctness of Path and Board Transposition</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose2|fact"><span class="entity_def" id="KnightsTour.transpose2|thm"><span>transpose2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_nil|fact"><span class="entity_def" id="KnightsTour.transpose_nil|thm"><span>transpose_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose.elims|fact"><span>transpose.elims</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_length|fact"><span class="entity_def" id="KnightsTour.transpose_length|thm"><span>transpose_length</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_transpose|fact"><span class="entity_def" id="KnightsTour.hd_transpose|thm"><span>hd_transpose</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_transpose|fact"><span class="entity_def" id="KnightsTour.last_transpose|thm"><span>last_transpose</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_24921..24925">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_24921..24925"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>      
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_24921..24925"><span>Cons</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_nil|fact"><span>transpose_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.take_transpose|fact"><span class="entity_def" id="KnightsTour.take_transpose|thm"><span>take_transpose</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_25324..25328">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_25324..25328"><span>Cons.IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Cons&apos;|fact"><span>take_Cons'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.drop_transpose|fact"><span class="entity_def" id="KnightsTour.drop_transpose|thm"><span>drop_transpose</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_25735..25739">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_25735..25739"><span>Cons.IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_Cons&apos;|fact"><span>drop_Cons'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_board_correct|fact"><span class="entity_def" id="KnightsTour.transpose_board_correct|thm"><span>transpose_board_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_def|fact"><span>transpose_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_board|fact"><span class="entity_def" id="KnightsTour.transpose_board|thm"><span>transpose_board</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_correct|fact"><span>transpose_board_correct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.insert_transpose_board|fact"><span class="entity_def" id="KnightsTour.insert_transpose_board|thm"><span>insert_transpose_board</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_def|fact"><span>transpose_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_board2|fact"><span class="entity_def" id="KnightsTour.transpose_board2|thm"><span>transpose_board2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_def|fact"><span>transpose_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_union|fact"><span class="entity_def" id="KnightsTour.transpose_union|thm"><span>transpose_union</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_def|fact"><span>transpose_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_valid_step|fact"><span class="entity_def" id="KnightsTour.transpose_valid_step|thm"><span>transpose_valid_step</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_26942..26947">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_knights_path&apos;|fact"><span class="entity_def" id="KnightsTour.transpose_knights_path&apos;|thm"><span>transpose_knights_path'</span></span></span><span class="main"><span>:</span></span><span>  
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_26942..26947"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_correct|fact"><span>transpose_board_correct</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_27399..27400">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27427..27432">prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_27399..27400"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_correct|fact"><span>transpose_board_correct</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_valid_step|fact"><span>transpose_valid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_27399..27400"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_27427..27432"><span>prems</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.insert_transpose_board|fact"><span>insert_transpose_board</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_27788..27797">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_knights_path|fact"><span class="entity_def" id="KnightsTour.transpose_knights_path|thm"><span>transpose_knights_path</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_27788..27797"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path&apos;|fact"><span>transpose_knights_path'</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|fact"><span>transpose_board</span></a><span class="main"><span>)</span></span><span> 

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28005..28014">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_knights_circuit|fact"><span class="entity_def" id="KnightsTour.transpose_knights_circuit|thm"><span>transpose_knights_circuit</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_28005..28014"><span>assms</span></a><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_28204..28206">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_28005..28014"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28305..28309">kp_t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_28204..28206"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_valid_step|fact"><span>transpose_valid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_28305..28309"><span>kp_t</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Mirroring Paths and Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Implementation of Path and Board Mirroring</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.min1|const"><span>min1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min|const"><span>Min</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.max1|const"><span>max1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.min2|const"><span>min2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min|const"><span>Min</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.max2|const"><span>max2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror1_square_def|fact"><span class="entity_def" id="KnightsTour.mirror1_square_def|thm"><span class="entity_def" id="KnightsTour.mirror1_square_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror1_square|const"><span>mirror1_square</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror1_square</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror1_aux.elims|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.induct|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.simps|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.pelims|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.cases|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.termination|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.pinduct|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.psimps|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.inducts|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.simps|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.induct|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.cases|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.intros|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.inducts|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.simps|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.induct|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.cases|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.intros|fact"><span class="entity_def" id="KnightsTour.mirror1_aux.elims|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.induct|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.simps(2)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.simps(1)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.pelims|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.cases|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.termination|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.pinduct|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.psimps(2)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux.psimps(1)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.inducts|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.simps|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.induct|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.cases|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_rel.intros|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.inducts|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.simps|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.induct|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.cases|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.mirror1_aux_def|axiom"><span class="entity_def" id="KnightsTour.mirror1_aux_rel_def|axiom"><span class="entity_def" id="KnightsTour.mirror1_aux_sumC_def|axiom"><span class="entity_def" id="KnightsTour.mirror1_aux_graph_def|axiom"><span class="entity_def" id="KnightsTour.mirror1_aux_dom|const"><span class="entity_def" id="KnightsTour.mirror1_aux_rel|const"><span class="entity_def" id="KnightsTour.mirror1_aux_sumC|const"><span class="entity_def" id="KnightsTour.mirror1_aux_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror1_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror1_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>mirror1_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror1_def|fact"><span class="entity_def" id="KnightsTour.mirror1_def|thm"><span class="entity_def" id="KnightsTour.mirror1_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.mirror1|const"><span>mirror1</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max1|const"><span>max1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min1|const"><span>min1</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror1_board_def|fact"><span class="entity_def" id="KnightsTour.mirror1_board_def|thm"><span class="entity_def" id="KnightsTour.mirror1_board_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror1_board|const"><span>mirror1_board</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror1_board</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror2_square_def|fact"><span class="entity_def" id="KnightsTour.mirror2_square_def|thm"><span class="entity_def" id="KnightsTour.mirror2_square_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror2_square|const"><span>mirror2_square</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror2_square</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror2_aux.elims|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.induct|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.simps|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.pelims|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.cases|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.termination|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.pinduct|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.psimps|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.inducts|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.simps|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.induct|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.cases|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.intros|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.inducts|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.simps|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.induct|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.cases|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.intros|fact"><span class="entity_def" id="KnightsTour.mirror2_aux.elims|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.induct|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.simps(2)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.simps(1)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.pelims|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.cases|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.termination|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.pinduct|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.psimps(2)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux.psimps(1)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.inducts|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.simps|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.induct|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.cases|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_rel.intros|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.inducts|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.simps|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.induct|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.cases|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.mirror2_aux_def|axiom"><span class="entity_def" id="KnightsTour.mirror2_aux_rel_def|axiom"><span class="entity_def" id="KnightsTour.mirror2_aux_sumC_def|axiom"><span class="entity_def" id="KnightsTour.mirror2_aux_graph_def|axiom"><span class="entity_def" id="KnightsTour.mirror2_aux_dom|const"><span class="entity_def" id="KnightsTour.mirror2_aux_rel|const"><span class="entity_def" id="KnightsTour.mirror2_aux_sumC|const"><span class="entity_def" id="KnightsTour.mirror2_aux_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror2_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror2_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>mirror2_aux</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror2_def|fact"><span class="entity_def" id="KnightsTour.mirror2_def|thm"><span class="entity_def" id="KnightsTour.mirror2_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.mirror2|const"><span>mirror2</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max2|const"><span>max2</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min2|const"><span>min2</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.mirror2_board_def|fact"><span class="entity_def" id="KnightsTour.mirror2_board_def|thm"><span class="entity_def" id="KnightsTour.mirror2_board_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.mirror2_board|const"><span>mirror2_board</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>mirror2_board</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>m</span></span></span></span><span> </span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Correctness of Path and Board Mirroring</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_board_id|fact"><span class="entity_def" id="KnightsTour.mirror1_board_id|thm"><span>mirror1_board_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_30017..30022">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_30017..30022"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_def|fact"><span>mirror1_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_30671..30676">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_30671..30676"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>âº</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_def|fact"><span>mirror1_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_board_id|fact"><span class="entity_def" id="KnightsTour.mirror2_board_id|thm"><span>mirror2_board_id</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_31404..31409">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_31404..31409"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_def|fact"><span>mirror2_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>j</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_32058..32063">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_32058..32063"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>j</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>âº</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_def|fact"><span>mirror2_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_min1|fact"><span class="entity_def" id="KnightsTour.knights_path_min1|thm"><span>knights_path_min1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min1|const"><span>min1</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_32710..32715">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_board_m_n_geq_1|fact"><span>knights_path_board_m_n_geq_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_32856..32860">ge_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>finite</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
          </span><span>non_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
          </span><span>mem_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_finite|fact"><span>board_finite</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min|const"><span>Min</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_32856..32860"><span>ge_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min_eq_iff|fact"><span>Min_eq_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_32710..32715"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_min2|fact"><span class="entity_def" id="KnightsTour.knights_path_min2|thm"><span>knights_path_min2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min2|const"><span>min2</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_33360..33365">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_board_m_n_geq_1|fact"><span>knights_path_board_m_n_geq_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_33506..33510">ge_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>finite</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
          </span><span>non_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
          </span><span>mem_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_finite|fact"><span>board_finite</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.sndI|fact"><span>sndI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min|const"><span>Min</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_33506..33510"><span>ge_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Min_eq_iff|fact"><span>Min_eq_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_33360..33365"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_max1|fact"><span class="entity_def" id="KnightsTour.knights_path_max1|thm"><span>knights_path_max1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max1|const"><span>max1</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_34014..34019">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_board_m_n_geq_1|fact"><span>knights_path_board_m_n_geq_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34164..34169">leq_n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>finite</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
          </span><span>non_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
          </span><span>mem_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_finite|fact"><span>board_finite</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.fstI|fact"><span>fstI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_34164..34169"><span>leq_n</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max_eq_iff|fact"><span>Max_eq_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_34014..34019"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_max2|fact"><span class="entity_def" id="KnightsTour.knights_path_max2|thm"><span>knights_path_max2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max2|const"><span>max2</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_34686..34691">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_board_m_n_geq_1|fact"><span>knights_path_board_m_n_geq_1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_34836..34841">leq_m</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>finite</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Finite_Set.html#Finite_Set.finite|const"><span>finite</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
          </span><span>non_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
          </span><span>mem_1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_finite|fact"><span>board_finite</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/BNF_Def.html#BNF_Def.sndI|fact"><span>sndI</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_eqI|fact"><span>image_eqI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max|const"><span>Max</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image|const"><span>`</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_34836..34841"><span>leq_m</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Lattices_Big.html#Lattices_Big.linorder_class.Max_eq_iff|fact"><span>Max_eq_iff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_34686..34691"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_set_eq|fact"><span>knights_path_set_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_aux_nil|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_nil|thm"><span>mirror1_aux_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux.elims|fact"><span>mirror1_aux.elims</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_nil|fact"><span class="entity_def" id="KnightsTour.mirror1_nil|thm"><span>mirror1_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_def|fact"><span>mirror1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux_nil|fact"><span>mirror1_aux_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_aux_nil|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_nil|thm"><span>mirror2_aux_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux.elims|fact"><span>mirror2_aux.elims</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_nil|fact"><span class="entity_def" id="KnightsTour.mirror2_nil|thm"><span>mirror2_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_def|fact"><span>mirror2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux_nil|fact"><span>mirror2_aux_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.length_mirror1_aux|fact"><span class="entity_def" id="KnightsTour.length_mirror1_aux|thm"><span>length_mirror1_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.length_mirror1|fact"><span class="entity_def" id="KnightsTour.length_mirror1|thm"><span>length_mirror1</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_def|fact"><span>mirror1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.length_mirror1_aux|fact"><span>length_mirror1_aux</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.length_mirror2_aux|fact"><span class="entity_def" id="KnightsTour.length_mirror2_aux|thm"><span>length_mirror2_aux</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.length_mirror2|fact"><span class="entity_def" id="KnightsTour.length_mirror2|thm"><span>length_mirror2</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_def|fact"><span>mirror2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.length_mirror2_aux|fact"><span>length_mirror2_aux</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_board_iff|fact"><span class="entity_def" id="KnightsTour.mirror1_board_iff|thm"><span>mirror1_board_iff</span></span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_def|fact"><span>mirror1_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_board_iff|fact"><span class="entity_def" id="KnightsTour.mirror2_board_iff|thm"><span>mirror2_board_iff</span></span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_def|fact"><span>mirror2_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.insert_mirror1_board|fact"><span class="entity_def" id="KnightsTour.insert_mirror1_board|thm"><span>insert_mirror1_board</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_def|fact"><span>mirror1_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.insert_mirror2_board|fact"><span class="entity_def" id="KnightsTour.insert_mirror2_board|thm"><span>insert_mirror2_board</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.insert|const"><span>insert</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_def|fact"><span>mirror2_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_mirror1|fact"><span class="entity_def" id="KnightsTour.valid_step_mirror1|thm"><span>valid_step_mirror1</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_36899..36904">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_36899..36904"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_37271..37276">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_37271..37276"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.valid_step_mirror2|fact"><span class="entity_def" id="KnightsTour.valid_step_mirror2|thm"><span>valid_step_mirror2</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_37773..37778">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_37773..37778"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_38145..38150">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_38145..38150"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_38523..38528">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_mirror1|fact"><span class="entity_def" id="KnightsTour.hd_mirror1|thm"><span>hd_mirror1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_38523..38528"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_def|fact"><span>mirror1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_38523..38528"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min1|fact"><span>knights_path_min1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max1|fact"><span>knights_path_max1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_38523..38528"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.collapse|fact"><span>list.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_38523..38528"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39042..39047">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_mirror1_aux|fact"><span class="entity_def" id="KnightsTour.last_mirror1_aux|thm"><span>last_mirror1_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39042..39047"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_39191..39195">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux_nil|fact"><span>mirror1_aux_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39191..39195"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square_def|fact"><span>mirror1_square_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39317..39322">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_mirror1|fact"><span class="entity_def" id="KnightsTour.last_mirror1|thm"><span>last_mirror1</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_def|fact"><span>mirror1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39317..39322"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror1_aux|fact"><span>last_mirror1_aux</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max1|fact"><span>knights_path_max1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min1|fact"><span>knights_path_min1</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_39567..39572">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_mirror2|fact"><span class="entity_def" id="KnightsTour.hd_mirror2|thm"><span>hd_mirror2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39567..39572"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_def|fact"><span>mirror2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39567..39572"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min2|fact"><span>knights_path_min2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max2|fact"><span>knights_path_max2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.tl|const"><span>tl</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39567..39572"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.collapse|fact"><span>list.collapse</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_39567..39572"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40086..40091">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_mirror2_aux|fact"><span class="entity_def" id="KnightsTour.last_mirror2_aux|thm"><span>last_mirror2_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40086..40091"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_40235..40239">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux_nil|fact"><span>mirror2_aux_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40235..40239"><span>Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square_def|fact"><span>mirror2_square_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40361..40366">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_mirror2|fact"><span class="entity_def" id="KnightsTour.last_mirror2|thm"><span>last_mirror2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_def|fact"><span>mirror2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40361..40366"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror2_aux|fact"><span>last_mirror2_aux</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max2|fact"><span>knights_path_max2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min2|fact"><span>knights_path_min2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_40611..40616">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_aux_knights_path|fact"><span class="entity_def" id="KnightsTour.mirror1_aux_knights_path|thm"><span>mirror1_aux_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40611..40616"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_def|fact"><span>mirror1_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_40980..40981">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_41008..41013">prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_square|const"><span>mirror1_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40980..40981"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_iff|fact"><span>mirror1_board_iff</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_mirror1|fact"><span>valid_step_mirror1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_40980..40981"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_41008..41013"><span>prems</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.insert_mirror1_board|fact"><span>insert_mirror1_board</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_41367..41376">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror1_knights_path|fact"><span class="entity_def" id="KnightsTour.mirror1_knights_path|thm"><span>mirror1_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_41367..41376"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min1|const"><span>min1</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max1|const"><span>max1</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_41367..41376"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min1|fact"><span>knights_path_min1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max1|fact"><span>knights_path_max1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board|const"><span>mirror1_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_board_id|fact"><span>mirror1_board_id</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux|const"><span>mirror1_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_41367..41376"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_aux_knights_path|fact"><span>mirror1_aux_knights_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_def|fact"><span>mirror1_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_41915..41920">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_aux_knights_path|fact"><span class="entity_def" id="KnightsTour.mirror2_aux_knights_path|thm"><span>mirror2_aux_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_41915..41920"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>1</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>{</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_def|fact"><span>mirror2_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_42284..42285">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_42312..42317">prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span> 
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_square|const"><span>mirror2_square</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_42284..42285"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_iff|fact"><span>mirror2_board_iff</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_mirror2|fact"><span>valid_step_mirror2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_42284..42285"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_42312..42317"><span>prems</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.insert_mirror2_board|fact"><span>insert_mirror2_board</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_42671..42680">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.mirror2_knights_path|fact"><span class="entity_def" id="KnightsTour.mirror2_knights_path|thm"><span>mirror2_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.min2|const"><span>min2</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.max2|const"><span>max2</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_42671..42680"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_min2|fact"><span>knights_path_min2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_max2|fact"><span>knights_path_max2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board|const"><span>mirror2_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_board_id|fact"><span>mirror2_board_id</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux|const"><span>mirror2_aux</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_42671..42680"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_aux_knights_path|fact"><span>mirror2_aux_knights_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_def|fact"><span>mirror2_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Rotate Knight's Paths</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Transposing (</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span class="antiquote"><span>}</span></span></span><span>) and mirroring (along first axis </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>mirror1âº</span></span></span><span>) a Knight's path 
</span><span>preserves the Knight's path's property. Tranpose+Mirror1 equals a 90deg-clockwise turn.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43429..43438">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.rot90_knights_path|fact"><span class="entity_def" id="KnightsTour.rot90_knights_path|thm"><span>rot90_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_43429..43438"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_knights_path|fact"><span>mirror1_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_43627..43632">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_rot90_knights_path|fact"><span class="entity_def" id="KnightsTour.hd_rot90_knights_path|thm"><span>hd_rot90_knights_path</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_43627..43632"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_43627..43632"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_mirror1|fact"><span>hd_mirror1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_44031..44036">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_rot90_knights_path|fact"><span class="entity_def" id="KnightsTour.last_rot90_knights_path|thm"><span>last_rot90_knights_path</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_44031..44036"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j</span></span><span class="main"><span>,</span></span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_44031..44036"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror1|fact"><span>last_mirror1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Translating Paths and Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>When constructing knight's paths for larger boards multiple knight's paths for smaller boards
</span><span>are concatenated. To concatenate paths the the coordinates in the path need to be translated. 
</span><span>Therefore, simple auxiliary functions are provided.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Implementation of Path and Board Translation</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Translate the coordinates for a path by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(k<span class="hidden">â©</span><sub>1</sub>,k<span class="hidden">â©</span><sub>2</sub>)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.trans_path.elims|fact"><span class="entity_def" id="KnightsTour.trans_path.induct|fact"><span class="entity_def" id="KnightsTour.trans_path.simps|fact"><span class="entity_def" id="KnightsTour.trans_path.pelims|fact"><span class="entity_def" id="KnightsTour.trans_path.cases|fact"><span class="entity_def" id="KnightsTour.trans_path.termination|fact"><span class="entity_def" id="KnightsTour.trans_path.pinduct|fact"><span class="entity_def" id="KnightsTour.trans_path.psimps|fact"><span class="entity_def" id="KnightsTour.trans_path_rel.inducts|fact"><span class="entity_def" id="KnightsTour.trans_path_rel.simps|fact"><span class="entity_def" id="KnightsTour.trans_path_rel.induct|fact"><span class="entity_def" id="KnightsTour.trans_path_rel.cases|fact"><span class="entity_def" id="KnightsTour.trans_path_rel.intros|fact"><span class="entity_def" id="KnightsTour.trans_path_graph.inducts|fact"><span class="entity_def" id="KnightsTour.trans_path_graph.simps|fact"><span class="entity_def" id="KnightsTour.trans_path_graph.induct|fact"><span class="entity_def" id="KnightsTour.trans_path_graph.cases|fact"><span class="entity_def" id="KnightsTour.trans_path_graph.intros|fact"><span class="entity_def" id="KnightsTour.trans_path.elims|thm"><span class="entity_def" id="KnightsTour.trans_path.induct|thm"><span class="entity_def" id="KnightsTour.trans_path.simps(2)|thm"><span class="entity_def" id="KnightsTour.trans_path.simps(1)|thm"><span class="entity_def" id="KnightsTour.trans_path.pelims|thm"><span class="entity_def" id="KnightsTour.trans_path.cases|thm"><span class="entity_def" id="KnightsTour.trans_path.termination|thm"><span class="entity_def" id="KnightsTour.trans_path.pinduct|thm"><span class="entity_def" id="KnightsTour.trans_path.psimps(2)|thm"><span class="entity_def" id="KnightsTour.trans_path.psimps(1)|thm"><span class="entity_def" id="KnightsTour.trans_path_rel.inducts|thm"><span class="entity_def" id="KnightsTour.trans_path_rel.simps|thm"><span class="entity_def" id="KnightsTour.trans_path_rel.induct|thm"><span class="entity_def" id="KnightsTour.trans_path_rel.cases|thm"><span class="entity_def" id="KnightsTour.trans_path_rel.intros|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.inducts|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.simps|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.induct|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.cases|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.trans_path_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.trans_path_def|axiom"><span class="entity_def" id="KnightsTour.trans_path_rel_def|axiom"><span class="entity_def" id="KnightsTour.trans_path_sumC_def|axiom"><span class="entity_def" id="KnightsTour.trans_path_graph_def|axiom"><span class="entity_def" id="KnightsTour.trans_path_dom|const"><span class="entity_def" id="KnightsTour.trans_path_rel|const"><span class="entity_def" id="KnightsTour.trans_path_sumC|const"><span class="entity_def" id="KnightsTour.trans_path_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.trans_path|const"><span>trans_path</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>Ã</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><span class="free"><span>trans_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>k<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Translate the coordinates of a board by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(k<span class="hidden">â©</span><sub>1</sub>,k<span class="hidden">â©</span><sub>2</sub>)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.trans_board_def|fact"><span class="entity_def" id="KnightsTour.trans_board_def|thm"><span class="entity_def" id="KnightsTour.trans_board_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.trans_board|const"><span>trans_board</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod|type"><span>Ã</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|type"><span>board</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>trans_board</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="bound"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="bound"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>|</span></span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>j</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>b</span></span></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Correctness of Path and Board Translation</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_path_length|fact"><span class="entity_def" id="KnightsTour.trans_path_length|thm"><span>trans_path_length</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_path_non_nil|fact"><span class="entity_def" id="KnightsTour.trans_path_non_nil|thm"><span>trans_path_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_path_correct|fact"><span class="entity_def" id="KnightsTour.trans_path_correct|thm"><span>trans_path_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_path_non_nil_last|fact"><span class="entity_def" id="KnightsTour.trans_path_non_nil_last|thm"><span>trans_path_non_nil_last</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_non_nil|fact"><span>trans_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_45813..45818">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_trans_path|fact"><span class="entity_def" id="KnightsTour.hd_trans_path|thm"><span>hd_trans_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_45813..45818"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_45963..45968">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_trans_path|fact"><span class="entity_def" id="KnightsTour.last_trans_path|thm"><span>last_trans_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_45963..45968"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_non_nil_last|fact"><span>trans_path_non_nil_last</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.take_trans|fact"><span class="entity_def" id="KnightsTour.take_trans|thm"><span>take_trans</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_46470..46474">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_46470..46474"><span>Cons.IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_Cons&apos;|fact"><span>take_Cons'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.drop_trans|fact"><span class="entity_def" id="KnightsTour.drop_trans|thm"><span>drop_trans</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>k</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_46899..46903">Cons</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> 
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_46899..46903"><span>Cons.IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop_Cons&apos;|fact"><span>drop_Cons'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_board_correct|fact"><span class="entity_def" id="KnightsTour.trans_board_correct|thm"><span>trans_board_correct</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="free"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>â·</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_subset|fact"><span class="entity_def" id="KnightsTour.board_subset|thm"><span>board_subset</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Board concatenation</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_concat|fact"><span class="entity_def" id="KnightsTour.board_concat|thm"><span>board_concat</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.subset_eq|const"><span>â</span></a></span><span> </span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_47695..47702">x_split</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_47695..47702"><span>x_split</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_48034..48037">asm</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>j</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_47695..47702"><span>x_split</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b1</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b2</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_47695..47702"><span>x_split</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_48034..48037"><span>asm</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_correct|fact"><span>trans_board_correct</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_trans_board|fact"><span class="entity_def" id="KnightsTour.transpose_trans_board|thm"><span>transpose_trans_board</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board_def|fact"><span>transpose_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.board_concatT|fact"><span class="entity_def" id="KnightsTour.board_concatT|thm"><span>board_concatT</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span><span class="main"><span>)</span></span><span> </span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board2|fact"><span>transpose_board2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_union|fact"><span>transpose_union</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|fact"><span>transpose_board</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_trans_board|fact"><span>transpose_trans_board</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|const"><span>transpose_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_concat|fact"><span>board_concat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>also</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>...</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_board|fact"><span>transpose_board</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>finally</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_valid_step|fact"><span class="entity_def" id="KnightsTour.trans_valid_step|thm"><span>trans_valid_step</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Translating a path and a boards preserves the validity.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_49237..49242">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_knights_path|fact"><span class="entity_def" id="KnightsTour.trans_knights_path|thm"><span>trans_knights_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_49237..49242"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.induct|fact"><span>knights_path.induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_49434..49435">2</span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_49480..49485">split</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?xs</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>b</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_49660..49665">simps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?xs</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_49480..49485"><span>split</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.not_member|const"><span>â</span></a></span><span> </span><span class="var"><span>?b</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_49434..49435"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_49480..49485"><span>split</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_valid_step|fact"><span>trans_valid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="main"><span>{</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="var"><span>?xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_49660..49665"><span>simps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.intros|fact"><span>knights_path.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Predicate that indicates if two squares </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub>âº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>j</sub>âº</span></span></span><span> are adjacent in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>psâº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.step_in_def|fact"><span class="entity_def" id="KnightsTour.step_in_def|thm"><span class="entity_def" id="KnightsTour.step_in_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.step_in|const"><span>step_in</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>step_in</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>k</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="bound"><span>k</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_in_Cons|fact"><span class="entity_def" id="KnightsTour.step_in_Cons|thm"><span>step_in_Cons</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s<span class="hidden">â©</span><sub>k</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_in_append|fact"><span class="entity_def" id="KnightsTour.step_in_append|thm"><span>step_in_append</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ps'</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ps'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ps'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_in_prepend|fact"><span class="entity_def" id="KnightsTour.step_in_prepend|thm"><span>step_in_prepend</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_Cons|fact"><span>step_in_Cons</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>ps'</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>ps</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.step_in_valid_step|fact"><span class="entity_def" id="KnightsTour.step_in_valid_step|thm"><span>step_in_valid_step</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_51489..51494">assms</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="free"><span>b</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_51559..51566">k_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_51559..51566"><span>k_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.list_len_g_1_split|fact"><span>list_len_g_1_split</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_51489..51494"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_51559..51566"><span>k_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_51489..51494"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split|fact"><span>knights_path_split</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_51559..51566"><span>k_prems</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>âº</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.Cons_nth_drop_Suc|fact"><span>Cons_nth_drop_Suc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_diff_1|fact"><span>Suc_diff_1</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_drop_conv_nth|fact"><span>hd_drop_conv_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_snoc|fact"><span>last_snoc</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take_hd_drop|fact"><span>take_hd_drop</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="skolem"><span>b</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path.cases|fact"><span>knights_path.cases</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.trans_step_in|fact"><span class="entity_def" id="KnightsTour.trans_step_in|thm"><span>trans_step_in</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps'</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?ps'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?ps'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>k<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_length|fact"><span>trans_path_length</span></a><span>
          </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.take_trans|fact"><span>take_trans</span></a><span> 
          </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_trans_path|fact"><span>hd_trans_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.drop_trans|fact"><span>drop_trans</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span class="main"><span>)</span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.transpose_step_in|fact"><span class="entity_def" id="KnightsTour.transpose_step_in|thm"><span>transpose_step_in</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>_</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
      </span><span class="entity_def" id="offset_53447..53454">k_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_53574..53581">non_nil</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.take_transpose|fact"><span>take_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.drop_transpose|fact"><span>drop_transpose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?psT</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="var"><span>?psT</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_53574..53581"><span>non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_53447..53454"><span>k_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_53447..53454"><span>k_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_length|fact"><span>transpose_length</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.hd_take|fact"><span class="entity_def" id="KnightsTour.hd_take|thm"><span>hd_take</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.last_drop|fact"><span class="entity_def" id="KnightsTour.last_drop|thm"><span>last_drop</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate Knight's Paths and Circuits</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate two knight's path on a </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board along the 2nd axis if the first path contains
</span><span>the step </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub> â s<span class="hidden">â©</span><sub>j</sub>âº</span></span></span><span> and there are valid steps </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>i</sub> â hd ps<span class="hidden">â©</span><sub>2</sub>'âº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>s<span class="hidden">â©</span><sub>j</sub> â last ps<span class="hidden">â©</span><sub>2</sub>'âº</span></span></span><span>, where 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>ps<span class="hidden">â©</span><sub>2</sub>'âº</span></span></span><span> is </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>ps<span class="hidden">â©</span><sub>2</sub>âº</span></span></span><span> is translated by </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m<span class="hidden">â©</span><sub>1</sub>âº</span></span></span><span>. An arbitrary step in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>ps<span class="hidden">â©</span><sub>2</sub>âº</span></span></span><span> is preserved.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_54498..54507">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_split_concat_si_prev|fact"><span class="entity_def" id="KnightsTour.knights_path_split_concat_si_prev|thm"><span>knights_path_split_concat_si_prev</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>  
    </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55113..55117">kp2'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b'</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_knights_path|fact"><span>trans_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>k</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_55263..55270">k_prems</span><span class="main"><span>:</span></span><span> 
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_55475..55482">b_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split|fact"><span>knights_path_split</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_trans_path|fact"><span>hd_trans_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_55952..55954">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55263..55270"><span>k_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55475..55482"><span>b_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_56264..56275">inter_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55113..55117"><span>kp2'</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55475..55482"><span>b_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_56264..56275"><span>inter_empty</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55952..55954"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="skolem"><span>b<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55475..55482"><span>b_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_56264..56275"><span>inter_empty</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55952..55954"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> ps<span class="hidden">â©</span><sub>1</sub></span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b'</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_55475..55482"><span>b_prems</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_commute|fact"><span>Un_commute</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.Un_assoc|fact"><span>Un_assoc</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_56704..56706">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_concat|fact"><span>board_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_56800..56802">hd</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>k</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_take|fact"><span>hd_take</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_56892..56896">last</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_drop|fact"><span>last_drop</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_57002..57009">m_simps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>j</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>j'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j'</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_57076..57078">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i'</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_54498..54507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_append|fact"><span>step_in_append</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_prepend|fact"><span>step_in_prepend</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_step_in|fact"><span>trans_step_in</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> 
                  </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>i</span></span></span><span> </span><span class="quoted"><span class="free"><span>j</span></span></span><span> </span><span class="quoted"><span class="free"><span>i'</span></span></span><span> </span><span class="quoted"><span class="free"><span>j'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57002..57009"><span>m_simps</span></a><span class="main"><span>)</span></span><span>
  
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_56704..56706"><span>kp</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_56800..56802"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_56892..56896"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57076..57078"><span>si</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.len1_hd_last|fact"><span class="entity_def" id="KnightsTour.len1_hd_last|thm"><span>len1_hd_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>xs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>xs</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>xs</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Weaker version of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat_si_prev|fact"><span>knights_path_split_concat_si_prev</span></a><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_57498..57507">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_split_concat|fact"><span class="entity_def" id="KnightsTour.knights_path_split_concat|thm"><span>knights_path_split_concat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57498..57507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length_0_conv|fact"><span>length_0_conv</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.less_one|fact"><span>less_one</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.linorder_neqE_nat|fact"><span>linorder_neqE_nat</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>k</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="comment1"><span>(</span><span>*</span><span> contradiction </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57498..57507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.len1_hd_last|fact"><span>len1_hd_last</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>k</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>k</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57498..57507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_valid_step|fact"><span>step_in_valid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_non_transitive|fact"><span>valid_step_non_transitive</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>j<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.list_len_g_1_split|fact"><span>list_len_g_1_split</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>i<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>,</span></span><span class="skolem"><span>j<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater|const"><span>&gt;</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_57498..57507"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat_si_prev|fact"><span>knights_path_split_concat_si_prev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate two knight's path on a </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board along the 1st axis.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_58916..58925">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_split_concatT|fact"><span class="entity_def" id="KnightsTour.knights_path_split_concatT|thm"><span>knights_path_split_concatT</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_59372..59375">kps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square|const"><span>transpose_square</span></a><span> </span><span class="free"><span>s<span class="hidden">â©</span><sub>j</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_59574..59576">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>T</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_step_in|fact"><span>transpose_step_in</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_59738..59746">hd_last2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_59887..59889">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>i</sub>T</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>i<span class="hidden">â©</span><sub>l</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?s<span class="hidden">â©</span><sub>j</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_58916..58925"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_valid_step|fact"><span>transpose_valid_step</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.splits|fact"><span>prod.splits</span></a><span class="main"><span>)</span></span><span>

  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
    </span><span class="entity_def" id="offset_60087..60095">ps_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>T</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat|fact"><span>knights_path_split_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_59372..59375"><span>kps</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_59574..59576"><span>si</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_59738..59746"><span>hd_last2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_59887..59889"><span>vs</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?psT</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>n<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?psT</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?psT</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_60087..60095"><span>ps_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose2|fact"><span>transpose2</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate two Knight's path along the 2nd axis. There is a valid step from the last square 
</span><span>in the first Knight's path </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>ps<span class="hidden">â©</span><sub>1</sub>âº</span></span></span><span> to the first square in the second Knight's path </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>ps<span class="hidden">â©</span><sub>2</sub>âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_60768..60777">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_concat|fact"><span class="entity_def" id="KnightsTour.knights_path_concat|thm"><span>knights_path_concat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_61142..61153">inter_empty</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>j<span class="hidden">â©</span><sub>h</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_60768..60777"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_trans_path|fact"><span>hd_trans_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_61337..61339">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
        </span><span class="entity_def" id="offset_61413..61415">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_60768..60777"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_knights_path|fact"><span>trans_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_61337..61339"><span>kp</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_61142..61153"><span>inter_empty</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_61413..61415"><span>vs</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_concat|fact"><span>board_concat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate two Knight's path along the 2nd axis. The first Knight's path end in 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(2,m<span class="hidden">â©</span><sub>1</sub>-1)âº</span></span></span><span> (lower-right) and the second Knight's paths start in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> (lower-left).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_61814..61823">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_lr_concat|fact"><span class="entity_def" id="KnightsTour.knights_path_lr_concat|thm"><span>knights_path_lr_concat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_61814..61823"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_61814..61823"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_concat|fact"><span>knights_path_concat</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Concatenate two Knight's circuits along the 2nd axis. In the first Knight's path the 
</span><span>squares </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(2,m<span class="hidden">â©</span><sub>1</sub>-1)âº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(4,m<span class="hidden">â©</span><sub>1</sub>)âº</span></span></span><span> are adjacent and the second Knight's cirucit starts in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> 
</span><span>(lower-left) and end in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(3,2)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_62461..62470">corollary</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_lr_concat|fact"><span class="entity_def" id="KnightsTour.knights_circuit_lr_concat|thm"><span>knights_circuit_lr_concat</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_62843..62846">kp1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_62886..62889">kp2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_62934..62936">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_62461..62470"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_63035..63042">m_simps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> 
      </span><span class="entity_def" id="offset_63367..63369">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_62461..62470"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_62843..62846"><span>kp1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_62886..62889"><span>kp2</span></a><span> 
          </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat_si_prev|fact"><span>knights_path_split_concat_si_prev</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="free"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
                                              </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span></span><span> </span><span class="quoted"><span class="numeral"><span>3</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>2</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>2</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>4</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_63035..63042"><span>m_simps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span>m<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_62934..62936"><span>vs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_63367..63369"><span>si</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Parsing Paths</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>In this section functions are implemented to parse and construct paths. The parser converts 
</span><span>the matrix representation (</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(nat list) listâº</span></span></span><span>) used in </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>" </span><span class="antiquote"><span>}</span></span></span><span> to a path 
</span><span>(</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>pathâº</span></span></span><span>).</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>for debugging</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.test_path.elims|fact"><span class="entity_def" id="KnightsTour.test_path.induct|fact"><span class="entity_def" id="KnightsTour.test_path.simps|fact"><span class="entity_def" id="KnightsTour.test_path.pelims|fact"><span class="entity_def" id="KnightsTour.test_path.cases|fact"><span class="entity_def" id="KnightsTour.test_path.termination|fact"><span class="entity_def" id="KnightsTour.test_path.pinduct|fact"><span class="entity_def" id="KnightsTour.test_path.psimps|fact"><span class="entity_def" id="KnightsTour.test_path_rel.inducts|fact"><span class="entity_def" id="KnightsTour.test_path_rel.simps|fact"><span class="entity_def" id="KnightsTour.test_path_rel.induct|fact"><span class="entity_def" id="KnightsTour.test_path_rel.cases|fact"><span class="entity_def" id="KnightsTour.test_path_rel.intros|fact"><span class="entity_def" id="KnightsTour.test_path_graph.inducts|fact"><span class="entity_def" id="KnightsTour.test_path_graph.simps|fact"><span class="entity_def" id="KnightsTour.test_path_graph.induct|fact"><span class="entity_def" id="KnightsTour.test_path_graph.cases|fact"><span class="entity_def" id="KnightsTour.test_path_graph.intros|fact"><span class="entity_def" id="KnightsTour.test_path.elims(3)|thm"><span class="entity_def" id="KnightsTour.test_path.elims(2)|thm"><span class="entity_def" id="KnightsTour.test_path.elims(1)|thm"><span class="entity_def" id="KnightsTour.test_path.induct|thm"><span class="entity_def" id="KnightsTour.test_path.simps(3)|thm"><span class="entity_def" id="KnightsTour.test_path.simps(2)|thm"><span class="entity_def" id="KnightsTour.test_path.simps(1)|thm"><span class="entity_def" id="KnightsTour.test_path.pelims(3)|thm"><span class="entity_def" id="KnightsTour.test_path.pelims(2)|thm"><span class="entity_def" id="KnightsTour.test_path.pelims(1)|thm"><span class="entity_def" id="KnightsTour.test_path.cases|thm"><span class="entity_def" id="KnightsTour.test_path.termination|thm"><span class="entity_def" id="KnightsTour.test_path.pinduct|thm"><span class="entity_def" id="KnightsTour.test_path.psimps(3)|thm"><span class="entity_def" id="KnightsTour.test_path.psimps(2)|thm"><span class="entity_def" id="KnightsTour.test_path.psimps(1)|thm"><span class="entity_def" id="KnightsTour.test_path_rel.inducts|thm"><span class="entity_def" id="KnightsTour.test_path_rel.simps|thm"><span class="entity_def" id="KnightsTour.test_path_rel.induct|thm"><span class="entity_def" id="KnightsTour.test_path_rel.cases|thm"><span class="entity_def" id="KnightsTour.test_path_rel.intros|thm"><span class="entity_def" id="KnightsTour.test_path_graph.inducts|thm"><span class="entity_def" id="KnightsTour.test_path_graph.simps|thm"><span class="entity_def" id="KnightsTour.test_path_graph.induct|thm"><span class="entity_def" id="KnightsTour.test_path_graph.cases|thm"><span class="entity_def" id="KnightsTour.test_path_graph.intros(3)|thm"><span class="entity_def" id="KnightsTour.test_path_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.test_path_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.test_path_def|axiom"><span class="entity_def" id="KnightsTour.test_path_rel_def|axiom"><span class="entity_def" id="KnightsTour.test_path_sumC_def|axiom"><span class="entity_def" id="KnightsTour.test_path_graph_def|axiom"><span class="entity_def" id="KnightsTour.test_path_dom|const"><span class="entity_def" id="KnightsTour.test_path_rel|const"><span class="entity_def" id="KnightsTour.test_path_sumC|const"><span class="entity_def" id="KnightsTour.test_path_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.test_path|const"><span>test_path</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.bool|type"><span>bool</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>test_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_checker|const"><span>step_checker</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>i</sub></span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><span class="free"><span>test_path</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s<span class="hidden">â©</span><sub>j</sub></span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>xs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>test_path</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.True|const"><span>True</span></a><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.f_opt.elims|fact"><span class="entity_def" id="KnightsTour.f_opt.induct|fact"><span class="entity_def" id="KnightsTour.f_opt.simps|fact"><span class="entity_def" id="KnightsTour.f_opt.pelims|fact"><span class="entity_def" id="KnightsTour.f_opt.cases|fact"><span class="entity_def" id="KnightsTour.f_opt.termination|fact"><span class="entity_def" id="KnightsTour.f_opt.pinduct|fact"><span class="entity_def" id="KnightsTour.f_opt.psimps|fact"><span class="entity_def" id="KnightsTour.f_opt_rel.inducts|fact"><span class="entity_def" id="KnightsTour.f_opt_rel.simps|fact"><span class="entity_def" id="KnightsTour.f_opt_rel.induct|fact"><span class="entity_def" id="KnightsTour.f_opt_rel.cases|fact"><span class="entity_def" id="KnightsTour.f_opt_rel.intros|fact"><span class="entity_def" id="KnightsTour.f_opt_graph.inducts|fact"><span class="entity_def" id="KnightsTour.f_opt_graph.simps|fact"><span class="entity_def" id="KnightsTour.f_opt_graph.induct|fact"><span class="entity_def" id="KnightsTour.f_opt_graph.cases|fact"><span class="entity_def" id="KnightsTour.f_opt_graph.intros|fact"><span class="entity_def" id="KnightsTour.f_opt.elims|thm"><span class="entity_def" id="KnightsTour.f_opt.induct|thm"><span class="entity_def" id="KnightsTour.f_opt.simps(2)|thm"><span class="entity_def" id="KnightsTour.f_opt.simps(1)|thm"><span class="entity_def" id="KnightsTour.f_opt.pelims|thm"><span class="entity_def" id="KnightsTour.f_opt.cases|thm"><span class="entity_def" id="KnightsTour.f_opt.termination|thm"><span class="entity_def" id="KnightsTour.f_opt.pinduct|thm"><span class="entity_def" id="KnightsTour.f_opt.psimps(2)|thm"><span class="entity_def" id="KnightsTour.f_opt.psimps(1)|thm"><span class="entity_def" id="KnightsTour.f_opt_rel.inducts|thm"><span class="entity_def" id="KnightsTour.f_opt_rel.simps|thm"><span class="entity_def" id="KnightsTour.f_opt_rel.induct|thm"><span class="entity_def" id="KnightsTour.f_opt_rel.cases|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.inducts|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.simps|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.induct|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.cases|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.f_opt_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.f_opt_def|axiom"><span class="entity_def" id="KnightsTour.f_opt_rel_def|axiom"><span class="entity_def" id="KnightsTour.f_opt_sumC_def|axiom"><span class="entity_def" id="KnightsTour.f_opt_graph_def|axiom"><span class="entity_def" id="KnightsTour.f_opt_dom|const"><span class="entity_def" id="KnightsTour.f_opt_rel|const"><span class="entity_def" id="KnightsTour.f_opt_sumC|const"><span class="entity_def" id="KnightsTour.f_opt_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.f_opt|const"><span>f_opt</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f_opt</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>f_opt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>a</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.elims|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.induct|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.simps|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.pelims|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.cases|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.termination|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.pinduct|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.psimps|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.inducts|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.simps|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.induct|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.cases|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.intros|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.inducts|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.simps|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.induct|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.cases|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.intros|fact"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.elims|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.induct|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.simps(2)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.simps(1)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.pelims|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.cases|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.termination|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.pinduct|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.psimps(2)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq.psimps(1)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.inducts|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.simps|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.induct|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel.cases|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.inducts|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.simps|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.induct|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.cases|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_def|axiom"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel_def|axiom"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_sumC_def|axiom"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph_def|axiom"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_dom|const"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_rel|const"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_sumC|const"><span class="entity_def" id="KnightsTour.add_opt_fst_sq_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.add_opt_fst_sq|const"><span>add_opt_fst_sq</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>add_opt_fst_sq</span></span><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>add_opt_fst_sq</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>,</span></span><span class="free"><span class="bound"><span class="entity"><span>j</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.find_k_in_col.elims|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.induct|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.simps|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.pelims|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.cases|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.termination|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.pinduct|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.psimps|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.inducts|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.simps|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.induct|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.cases|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.intros|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.inducts|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.simps|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.induct|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.cases|fact"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.intros|fact"><span class="entity_def" id="KnightsTour.find_k_in_col.elims|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.induct|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.simps(2)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.simps(1)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.pelims|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.cases|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.termination|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.pinduct|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.psimps(2)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col.psimps(1)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.inducts|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.simps|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.induct|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.cases|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_rel.intros|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.inducts|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.simps|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.induct|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.cases|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.find_k_in_col_def|axiom"><span class="entity_def" id="KnightsTour.find_k_in_col_rel_def|axiom"><span class="entity_def" id="KnightsTour.find_k_in_col_sumC_def|axiom"><span class="entity_def" id="KnightsTour.find_k_in_col_graph_def|axiom"><span class="entity_def" id="KnightsTour.find_k_in_col_dom|const"><span class="entity_def" id="KnightsTour.find_k_in_col_rel|const"><span class="entity_def" id="KnightsTour.find_k_in_col_sumC|const"><span class="entity_def" id="KnightsTour.find_k_in_col_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.find_k_in_col|const"><span>find_k_in_col</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|type"><span>int</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>find_k_in_col</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>find_k_in_col</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.f_opt|const"><span>f_opt</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>(+)</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>find_k_in_col</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>cs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.find_k_sqr.elims|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.induct|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.simps|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.pelims|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.cases|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.termination|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.pinduct|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.psimps|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.inducts|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.simps|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.induct|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.cases|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.intros|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.inducts|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.simps|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.induct|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.cases|fact"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.intros|fact"><span class="entity_def" id="KnightsTour.find_k_sqr.elims|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.induct|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.simps(2)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.simps(1)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.pelims|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.cases|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.termination|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.pinduct|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.psimps(2)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr.psimps(1)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.inducts|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.simps|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.induct|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.cases|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_rel.intros|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.inducts|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.simps|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.induct|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.cases|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.find_k_sqr_def|axiom"><span class="entity_def" id="KnightsTour.find_k_sqr_rel_def|axiom"><span class="entity_def" id="KnightsTour.find_k_sqr_sumC_def|axiom"><span class="entity_def" id="KnightsTour.find_k_sqr_graph_def|axiom"><span class="entity_def" id="KnightsTour.find_k_sqr_dom|const"><span class="entity_def" id="KnightsTour.find_k_sqr_rel|const"><span class="entity_def" id="KnightsTour.find_k_sqr_sumC|const"><span class="entity_def" id="KnightsTour.find_k_sqr_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.find_k_sqr|const"><span>find_k_sqr</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.square|type"><span>square</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>find_k_sqr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>find_k_sqr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.find_k_in_col|const"><span>find_k_in_col</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span> 
      None </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.f_opt|const"><span>f_opt</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>i</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>find_k_sqr</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="main"><span>|</span></span><span> Some </span><span class="bound"><span>j</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="bound"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Auxiliary function to easily parse pre-computed boards from paper.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.to_sqrs.elims|fact"><span class="entity_def" id="KnightsTour.to_sqrs.induct|fact"><span class="entity_def" id="KnightsTour.to_sqrs.simps|fact"><span class="entity_def" id="KnightsTour.to_sqrs.pelims|fact"><span class="entity_def" id="KnightsTour.to_sqrs.cases|fact"><span class="entity_def" id="KnightsTour.to_sqrs.termination|fact"><span class="entity_def" id="KnightsTour.to_sqrs.pinduct|fact"><span class="entity_def" id="KnightsTour.to_sqrs.psimps|fact"><span class="entity_def" id="KnightsTour.to_sqrs_rel.inducts|fact"><span class="entity_def" id="KnightsTour.to_sqrs_rel.simps|fact"><span class="entity_def" id="KnightsTour.to_sqrs_rel.induct|fact"><span class="entity_def" id="KnightsTour.to_sqrs_rel.cases|fact"><span class="entity_def" id="KnightsTour.to_sqrs_rel.intros|fact"><span class="entity_def" id="KnightsTour.to_sqrs_graph.inducts|fact"><span class="entity_def" id="KnightsTour.to_sqrs_graph.simps|fact"><span class="entity_def" id="KnightsTour.to_sqrs_graph.induct|fact"><span class="entity_def" id="KnightsTour.to_sqrs_graph.cases|fact"><span class="entity_def" id="KnightsTour.to_sqrs_graph.intros|fact"><span class="entity_def" id="KnightsTour.to_sqrs.elims|thm"><span class="entity_def" id="KnightsTour.to_sqrs.induct|thm"><span class="entity_def" id="KnightsTour.to_sqrs.simps(2)|thm"><span class="entity_def" id="KnightsTour.to_sqrs.simps(1)|thm"><span class="entity_def" id="KnightsTour.to_sqrs.pelims|thm"><span class="entity_def" id="KnightsTour.to_sqrs.cases|thm"><span class="entity_def" id="KnightsTour.to_sqrs.termination|thm"><span class="entity_def" id="KnightsTour.to_sqrs.pinduct|thm"><span class="entity_def" id="KnightsTour.to_sqrs.psimps(2)|thm"><span class="entity_def" id="KnightsTour.to_sqrs.psimps(1)|thm"><span class="entity_def" id="KnightsTour.to_sqrs_rel.inducts|thm"><span class="entity_def" id="KnightsTour.to_sqrs_rel.simps|thm"><span class="entity_def" id="KnightsTour.to_sqrs_rel.induct|thm"><span class="entity_def" id="KnightsTour.to_sqrs_rel.cases|thm"><span class="entity_def" id="KnightsTour.to_sqrs_rel.intros|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.inducts|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.simps|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.induct|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.cases|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.to_sqrs_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.to_sqrs_def|axiom"><span class="entity_def" id="KnightsTour.to_sqrs_rel_def|axiom"><span class="entity_def" id="KnightsTour.to_sqrs_sumC_def|axiom"><span class="entity_def" id="KnightsTour.to_sqrs_graph_def|axiom"><span class="entity_def" id="KnightsTour.to_sqrs_dom|const"><span class="entity_def" id="KnightsTour.to_sqrs_rel|const"><span class="entity_def" id="KnightsTour.to_sqrs_sumC|const"><span class="entity_def" id="KnightsTour.to_sqrs_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.to_sqrs|const"><span>to_sqrs</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.path|type"><span>path</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option|type"><span>option</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>to_sqrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>to_sqrs</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>case</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.find_k_sqr|const"><span>find_k_sqr</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span> </span><span class="keyword1"><span>of</span></span><span>
      None </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.None|const"><span>None</span></a><span>
    </span><span class="main"><span>|</span></span><span> Some </span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.f_opt|const"><span>f_opt</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span class="bound"><span>ps</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="main"><span>[</span></span><span class="bound"><span>s<span class="hidden">â©</span><sub>i</sub></span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>to_sqrs</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>k</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.num_elems.elims|fact"><span class="entity_def" id="KnightsTour.num_elems.induct|fact"><span class="entity_def" id="KnightsTour.num_elems.simps|fact"><span class="entity_def" id="KnightsTour.num_elems.pelims|fact"><span class="entity_def" id="KnightsTour.num_elems.cases|fact"><span class="entity_def" id="KnightsTour.num_elems.termination|fact"><span class="entity_def" id="KnightsTour.num_elems.pinduct|fact"><span class="entity_def" id="KnightsTour.num_elems.psimps|fact"><span class="entity_def" id="KnightsTour.num_elems_rel.inducts|fact"><span class="entity_def" id="KnightsTour.num_elems_rel.simps|fact"><span class="entity_def" id="KnightsTour.num_elems_rel.induct|fact"><span class="entity_def" id="KnightsTour.num_elems_rel.cases|fact"><span class="entity_def" id="KnightsTour.num_elems_rel.intros|fact"><span class="entity_def" id="KnightsTour.num_elems_graph.inducts|fact"><span class="entity_def" id="KnightsTour.num_elems_graph.simps|fact"><span class="entity_def" id="KnightsTour.num_elems_graph.induct|fact"><span class="entity_def" id="KnightsTour.num_elems_graph.cases|fact"><span class="entity_def" id="KnightsTour.num_elems_graph.intros|fact"><span class="entity_def" id="KnightsTour.num_elems.elims|thm"><span class="entity_def" id="KnightsTour.num_elems.induct|thm"><span class="entity_def" id="KnightsTour.num_elems.simps|thm"><span class="entity_def" id="KnightsTour.num_elems.pelims|thm"><span class="entity_def" id="KnightsTour.num_elems.cases|thm"><span class="entity_def" id="KnightsTour.num_elems.termination|thm"><span class="entity_def" id="KnightsTour.num_elems.pinduct|thm"><span class="entity_def" id="KnightsTour.num_elems.psimps|thm"><span class="entity_def" id="KnightsTour.num_elems_rel.inducts|thm"><span class="entity_def" id="KnightsTour.num_elems_rel.simps|thm"><span class="entity_def" id="KnightsTour.num_elems_rel.induct|thm"><span class="entity_def" id="KnightsTour.num_elems_rel.cases|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.inducts|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.simps|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.induct|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.cases|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.intros(2)|thm"><span class="entity_def" id="KnightsTour.num_elems_graph.intros(1)|thm"><span class="entity_def" id="KnightsTour.num_elems_def|axiom"><span class="entity_def" id="KnightsTour.num_elems_rel_def|axiom"><span class="entity_def" id="KnightsTour.num_elems_sumC_def|axiom"><span class="entity_def" id="KnightsTour.num_elems_graph_def|axiom"><span class="entity_def" id="KnightsTour.num_elems_dom|const"><span class="entity_def" id="KnightsTour.num_elems_rel|const"><span class="entity_def" id="KnightsTour.num_elems_sumC|const"><span class="entity_def" id="KnightsTour.num_elems_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="KnightsTour.num_elems|const"><span>num_elems</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list|type"><span>list</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>num_elems</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Cons|const"><span>#</span></a></span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Convert a matrix (</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nat list listâº</span></span></span><span>) to a path (</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>pathâº</span></span></span><span>). With this function we implicitly 
</span><span>define the lower-left corner to be </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> and the upper-right corner to be </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(n,m)âº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="KnightsTour.to_path_def|fact"><span class="entity_def" id="KnightsTour.to_path_def|thm"><span class="entity_def" id="KnightsTour.to_path_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.to_path|const"><span>to_path</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_sqrs|const"><span>to_sqrs</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.num_elems|const"><span>num_elems</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>rs</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Example</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>value</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Knight's Paths for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>5Ãmâº</span></span></span><span>-Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Given here are knight's paths, </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>kp5xmlrâº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>kp5xmurâº</span></span></span><span>, for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ãm)âº</span></span></span><span>-board that start 
</span><span>in the lower-left corner for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>mâ{5,6,7,8,9}âº</span></span></span><span>. The path </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>kp5xmlrâº</span></span></span><span> ends in the lower-right corner, 
</span><span>whereas the path </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>kp5xmurâº</span></span></span><span> ends in the upper-right corner. 
</span><span>The tables show the visited squares numbered in ascending order.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b5x5|const"><span>b5x5</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã5)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>lower-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>       3 &amp; 22 &amp; 13 &amp; 16 &amp;  5 \\
</span><span>      12 &amp; 17 &amp;  4 &amp; 21 &amp; 14 \\
</span><span>      23 &amp;  2 &amp; 15 &amp;  6 &amp;  9 \\
</span><span>      18 &amp; 11 &amp;  8 &amp; 25 &amp; 20 \\
</span><span>       1 &amp; 24 &amp; 19 &amp; 10 &amp;  7
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_lr|fact"><span class="entity_def" id="KnightsTour.kp_5x5_lr|thm"><span>kp_5x5_lr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x5|const"><span>b5x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_lr_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x5_lr_hd|thm"><span>kp_5x5_lr_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_lr_last|fact"><span class="entity_def" id="KnightsTour.kp_5x5_lr_last|thm"><span>kp_5x5_lr_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_lr_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x5_lr_non_nil|thm"><span>kp_5x5_lr_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã5)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>       7 &amp; 12 &amp; 15 &amp; 20 &amp;  5 \\
</span><span>      16 &amp; 21 &amp;  6 &amp; 25 &amp; 14 \\
</span><span>      11 &amp;  8 &amp; 13 &amp;  4 &amp; 19 \\
</span><span>      22 &amp; 17 &amp;  2 &amp;  9 &amp; 24 \\
</span><span>       1 &amp; 10 &amp; 23 &amp; 18 &amp;  3
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_ur|fact"><span class="entity_def" id="KnightsTour.kp_5x5_ur|thm"><span>kp_5x5_ur</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x5|const"><span>b5x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_ur_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x5_ur_hd|thm"><span>kp_5x5_ur_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_ur_last|fact"><span class="entity_def" id="KnightsTour.kp_5x5_ur_last|thm"><span>kp_5x5_ur_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_ur_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x5_ur_non_nil|thm"><span>kp_5x5_ur_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b5x6|const"><span>b5x6</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã6)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>lower-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>       7 &amp; 14 &amp; 21 &amp; 28 &amp;  5 &amp; 12 \\
</span><span>      22 &amp; 27 &amp;  6 &amp; 13 &amp; 20 &amp; 29 \\
</span><span>      15 &amp;  8 &amp; 17 &amp; 24 &amp; 11 &amp;  4 \\
</span><span>      26 &amp; 23 &amp;  2 &amp;  9 &amp; 30 &amp; 19 \\
</span><span>       1 &amp; 16 &amp; 25 &amp; 18 &amp;  3 &amp; 10
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x6lr|const"><span>kp5x6lr</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_lr|fact"><span class="entity_def" id="KnightsTour.kp_5x6_lr|thm"><span>kp_5x6_lr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x6|const"><span>b5x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6lr|const"><span>kp5x6lr</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_lr_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x6_lr_hd|thm"><span>kp_5x6_lr_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6lr|const"><span>kp5x6lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_lr_last|fact"><span class="entity_def" id="KnightsTour.kp_5x6_lr_last|thm"><span>kp_5x6_lr_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6lr|const"><span>kp5x6lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_lr_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x6_lr_non_nil|thm"><span>kp_5x6_lr_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6lr|const"><span>kp5x6lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã6)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>       3 &amp; 10 &amp; 29 &amp; 20 &amp;  5 &amp; 12 \\
</span><span>      28 &amp; 19 &amp;  4 &amp; 11 &amp; 30 &amp; 21 \\
</span><span>       9 &amp;  2 &amp; 17 &amp; 24 &amp; 13 &amp;  6 \\
</span><span>      18 &amp; 27 &amp;  8 &amp; 15 &amp; 22 &amp; 25 \\
</span><span>       1 &amp; 16 &amp; 23 &amp; 26 &amp;  7 &amp; 14
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x6ur|const"><span>kp5x6ur</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_ur|fact"><span class="entity_def" id="KnightsTour.kp_5x6_ur|thm"><span>kp_5x6_ur</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x6|const"><span>b5x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6ur|const"><span>kp5x6ur</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_ur_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x6_ur_hd|thm"><span>kp_5x6_ur_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6ur|const"><span>kp5x6ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_ur_last|fact"><span class="entity_def" id="KnightsTour.kp_5x6_ur_last|thm"><span>kp_5x6_ur_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6ur|const"><span>kp5x6ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x6_ur_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x6_ur_non_nil|thm"><span>kp_5x6_ur_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x6ur|const"><span>kp5x6ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b5x7|const"><span>b5x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>lower-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>       3 &amp; 12 &amp; 21 &amp; 30 &amp;  5 &amp; 14 &amp; 23 \\
</span><span>      20 &amp; 29 &amp;  4 &amp; 13 &amp; 22 &amp; 31 &amp;  6 \\
</span><span>      11 &amp;  2 &amp; 19 &amp; 32 &amp;  7 &amp; 24 &amp; 15 \\
</span><span>      28 &amp; 33 &amp; 10 &amp; 17 &amp; 26 &amp; 35 &amp;  8 \\
</span><span>       1 &amp; 18 &amp; 27 &amp; 34 &amp;  9 &amp; 16 &amp; 25
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_lr|fact"><span class="entity_def" id="KnightsTour.kp_5x7_lr|thm"><span>kp_5x7_lr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x7|const"><span>b5x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_lr_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x7_lr_hd|thm"><span>kp_5x7_lr_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_lr_last|fact"><span class="entity_def" id="KnightsTour.kp_5x7_lr_last|thm"><span>kp_5x7_lr_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_lr_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x7_lr_non_nil|thm"><span>kp_5x7_lr_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>       3 &amp; 32 &amp; 11 &amp; 34 &amp;  5 &amp; 26 &amp; 13 \\
</span><span>      10 &amp; 19 &amp;  4 &amp; 25 &amp; 12 &amp; 35 &amp;  6 \\
</span><span>      31 &amp;  2 &amp; 33 &amp; 20 &amp; 23 &amp; 14 &amp; 27 \\
</span><span>      18 &amp;  9 &amp; 24 &amp; 29 &amp; 16 &amp;  7 &amp; 22 \\
</span><span>       1 &amp; 30 &amp; 17 &amp;  8 &amp; 21 &amp; 28 &amp; 15
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x7ur|const"><span>kp5x7ur</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_ur|fact"><span class="entity_def" id="KnightsTour.kp_5x7_ur|thm"><span>kp_5x7_ur</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x7|const"><span>b5x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ur|const"><span>kp5x7ur</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_ur_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x7_ur_hd|thm"><span>kp_5x7_ur_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ur|const"><span>kp5x7ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_ur_last|fact"><span class="entity_def" id="KnightsTour.kp_5x7_ur_last|thm"><span>kp_5x7_ur_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ur|const"><span>kp5x7ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_ur_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x7_ur_non_nil|thm"><span>kp_5x7_ur_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ur|const"><span>kp5x7ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b5x8|const"><span>b5x8</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã8)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>lower-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>       3 &amp; 12 &amp; 37 &amp; 26 &amp;  5 &amp; 14 &amp; 17 &amp; 28 \\
</span><span>      34 &amp; 23 &amp;  4 &amp; 13 &amp; 36 &amp; 27 &amp;  6 &amp; 15 \\
</span><span>      11 &amp;  2 &amp; 35 &amp; 38 &amp; 25 &amp; 16 &amp; 29 &amp; 18 \\
</span><span>      22 &amp; 33 &amp; 24 &amp;  9 &amp; 20 &amp; 31 &amp; 40 &amp;  7 \\
</span><span>       1 &amp; 10 &amp; 21 &amp; 32 &amp; 39 &amp;  8 &amp; 19 &amp; 30
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x8lr|const"><span>kp5x8lr</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_lr|fact"><span class="entity_def" id="KnightsTour.kp_5x8_lr|thm"><span>kp_5x8_lr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x8|const"><span>b5x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8lr|const"><span>kp5x8lr</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_lr_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x8_lr_hd|thm"><span>kp_5x8_lr_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8lr|const"><span>kp5x8lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_lr_last|fact"><span class="entity_def" id="KnightsTour.kp_5x8_lr_last|thm"><span>kp_5x8_lr_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8lr|const"><span>kp5x8lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_lr_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x8_lr_non_nil|thm"><span>kp_5x8_lr_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8lr|const"><span>kp5x8lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã8)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      33 &amp;  8 &amp; 17 &amp; 38 &amp; 35 &amp;  6 &amp; 15 &amp; 24 \\
</span><span>      18 &amp; 37 &amp; 34 &amp;  7 &amp; 16 &amp; 25 &amp; 40 &amp;  5 \\
</span><span>       9 &amp; 32 &amp; 29 &amp; 36 &amp; 39 &amp; 14 &amp; 23 &amp; 26 \\
</span><span>      30 &amp; 19 &amp;  2 &amp; 11 &amp; 28 &amp; 21 &amp;  4 &amp; 13 \\
</span><span>       1 &amp; 10 &amp; 31 &amp; 20 &amp;  3 &amp; 12 &amp; 27 &amp; 22
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x8ur|const"><span>kp5x8ur</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_ur|fact"><span class="entity_def" id="KnightsTour.kp_5x8_ur|thm"><span>kp_5x8_ur</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x8|const"><span>b5x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8ur|const"><span>kp5x8ur</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_ur_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x8_ur_hd|thm"><span>kp_5x8_ur_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8ur|const"><span>kp5x8ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_ur_last|fact"><span class="entity_def" id="KnightsTour.kp_5x8_ur_last|thm"><span>kp_5x8_ur_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8ur|const"><span>kp5x8ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x8_ur_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x8_ur_non_nil|thm"><span>kp_5x8_ur_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x8ur|const"><span>kp5x8ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b5x9|const"><span>b5x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>
  </span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the lower-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>       9 &amp;  4 &amp; 11 &amp; 16 &amp; 23 &amp; 42 &amp; 33 &amp; 36 &amp; 25 \\
</span><span>      12 &amp; 17 &amp;  8 &amp;  3 &amp; 32 &amp; 37 &amp; 24 &amp; 41 &amp; 34 \\
</span><span>       5 &amp; 10 &amp; 15 &amp; 20 &amp; 43 &amp; 22 &amp; 35 &amp; 26 &amp; 29 \\
</span><span>      18 &amp; 13 &amp;  2 &amp;  7 &amp; 38 &amp; 31 &amp; 28 &amp; 45 &amp; 40 \\
</span><span>       1 &amp;  6 &amp; 19 &amp; 14 &amp; 21 &amp; 44 &amp; 39 &amp; 30 &amp; 27
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_lr|fact"><span class="entity_def" id="KnightsTour.kp_5x9_lr|thm"><span>kp_5x9_lr</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x9|const"><span>b5x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_lr_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x9_lr_hd|thm"><span>kp_5x9_lr_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_lr_last|fact"><span class="entity_def" id="KnightsTour.kp_5x9_lr_last|thm"><span>kp_5x9_lr_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_lr_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x9_lr_non_nil|thm"><span>kp_5x9_lr_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>
  </span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the upper-right.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>       9 &amp;  4 &amp; 11 &amp; 16 &amp; 27 &amp; 32 &amp; 35 &amp; 40 &amp; 25 \\
</span><span>      12 &amp; 17 &amp;  8 &amp;  3 &amp; 36 &amp; 41 &amp; 26 &amp; 45 &amp; 34 \\
</span><span>       5 &amp; 10 &amp; 15 &amp; 20 &amp; 31 &amp; 28 &amp; 33 &amp; 24 &amp; 39 \\
</span><span>      18 &amp; 13 &amp;  2 &amp;  7 &amp; 42 &amp; 37 &amp; 22 &amp; 29 &amp; 44 \\
</span><span>       1 &amp;  6 &amp; 19 &amp; 14 &amp; 21 &amp; 30 &amp; 43 &amp; 38 &amp; 23
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x9ur|const"><span>kp5x9ur</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_ur|fact"><span class="entity_def" id="KnightsTour.kp_5x9_ur|thm"><span>kp_5x9_ur</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x9|const"><span>b5x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ur|const"><span>kp5x9ur</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_ur_hd|fact"><span class="entity_def" id="KnightsTour.kp_5x9_ur_hd|thm"><span>kp_5x9_ur_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ur|const"><span>kp5x9ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_ur_last|fact"><span class="entity_def" id="KnightsTour.kp_5x9_ur_last|thm"><span>kp_5x9_ur_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ur|const"><span>kp5x9ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_ur_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_5x9_ur_non_nil|thm"><span>kp_5x9_ur_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ur|const"><span>kp5x9ur</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5xm_lr|fact"><span class="entity_def" id="KnightsTour.kp_5xm_lr(20)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(19)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(18)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(17)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(16)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(15)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(14)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(13)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(12)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(11)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(10)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(9)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(8)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(7)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(6)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(5)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(4)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(3)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(2)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_lr(1)|thm"><span>kp_5xm_lr</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_lr|fact"><span>kp_5x5_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_lr_hd|fact"><span>kp_5x5_lr_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_lr_last|fact"><span>kp_5x5_lr_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_lr_non_nil|fact"><span>kp_5x5_lr_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_lr|fact"><span>kp_5x6_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_lr_hd|fact"><span>kp_5x6_lr_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_lr_last|fact"><span>kp_5x6_lr_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_lr_non_nil|fact"><span>kp_5x6_lr_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr|fact"><span>kp_5x7_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr_hd|fact"><span>kp_5x7_lr_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr_last|fact"><span>kp_5x7_lr_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr_non_nil|fact"><span>kp_5x7_lr_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_lr|fact"><span>kp_5x8_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_lr_hd|fact"><span>kp_5x8_lr_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_lr_last|fact"><span>kp_5x8_lr_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_lr_non_nil|fact"><span>kp_5x8_lr_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr|fact"><span>kp_5x9_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr_hd|fact"><span>kp_5x9_lr_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr_last|fact"><span>kp_5x9_lr_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr_non_nil|fact"><span>kp_5x9_lr_non_nil</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5xm_ur|fact"><span class="entity_def" id="KnightsTour.kp_5xm_ur(20)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(19)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(18)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(17)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(16)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(15)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(14)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(13)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(12)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(11)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(10)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(9)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(8)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(7)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(6)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(5)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(4)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(3)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(2)|thm"><span class="entity_def" id="KnightsTour.kp_5xm_ur(1)|thm"><span>kp_5xm_ur</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ur|fact"><span>kp_5x5_ur</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ur_hd|fact"><span>kp_5x5_ur_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ur_last|fact"><span>kp_5x5_ur_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ur_non_nil|fact"><span>kp_5x5_ur_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_ur|fact"><span>kp_5x6_ur</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_ur_hd|fact"><span>kp_5x6_ur_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_ur_last|fact"><span>kp_5x6_ur_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x6_ur_non_nil|fact"><span>kp_5x6_ur_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_ur|fact"><span>kp_5x7_ur</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_ur_hd|fact"><span>kp_5x7_ur_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_ur_last|fact"><span>kp_5x7_ur_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_ur_non_nil|fact"><span>kp_5x7_ur_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_ur|fact"><span>kp_5x8_ur</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_ur_hd|fact"><span>kp_5x8_ur_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_ur_last|fact"><span>kp_5x8_ur_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x8_ur_non_nil|fact"><span>kp_5x8_ur_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_ur|fact"><span>kp_5x9_ur</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_ur_hd|fact"><span>kp_5x9_ur_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_ur_last|fact"><span>kp_5x9_ur_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_ur_non_nil|fact"><span>kp_5x9_ur_non_nil</span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>5Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's path that starts in 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> (bottom-left) and ends in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(2,m-1)âº</span></span></span><span> (bottom-right).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_74906..74911">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_5xm_lr_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_5xm_lr_exists|thm"><span>knights_path_5xm_lr_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_74906..74911"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.wellorder_class.less_induct|fact"><span>less_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_75103..75107">less</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5xm_lr|fact"><span>kp_5xm_lr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_75296..75300">m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_75354..75361">ps<span class="hidden">â©</span><sub>1</sub>_IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
                                </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75103..75107"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5lr|const"><span>kp5x5lr</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x5|const"><span>b5x5</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5xm_lr|fact"><span>kp_5xm_lr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_75764..75765">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span>         
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75296..75300"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75354..75361"><span>ps<span class="hidden">â©</span><sub>1</sub>_IH</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_lr_concat|fact"><span>knights_path_lr_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_75901..75902">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75354..75361"><span>ps<span class="hidden">â©</span><sub>1</sub>_IH</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75296..75300"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_76103..76104">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_appendR|fact"><span>last_appendR</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_non_nil|fact"><span>trans_path_non_nil</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75764..75765"><span>1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_75901..75902"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76103..76104"><span>3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>5Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's path that starts in 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> (bottom-left) and ends in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(4,m-1)âº</span></span></span><span> (top-right).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_76415..76420">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_5xm_ur_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_5xm_ur_exists|thm"><span>knights_path_5xm_ur_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76415..76420"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76415..76420"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5xm_ur|fact"><span>kp_5xm_ur</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_76768..76772">m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_76826..76834">ps_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
                                   </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_lr_exists|fact"><span>knights_path_5xm_lr_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ur|const"><span>kp5x5ur</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x5|const"><span>b5x5</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> 
         </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5xm_ur|fact"><span>kp_5xm_ur</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_77268..77269">1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps'</span></span><span>"</span></span></span><span>              
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76768..76772"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76826..76834"><span>ps_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_lr_concat|fact"><span>knights_path_lr_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_77409..77410">2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76826..76834"><span>ps_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_76768..76772"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_77610..77611">3</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_appendR|fact"><span>last_appendR</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_non_nil|fact"><span>trans_path_non_nil</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>âº</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>
    
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_77268..77269"><span>1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_77409..77410"><span>2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_77610..77611"><span>3</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_lr_exists|fact"><span>knights_path_5xm_lr_exists</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_lr_exists|fact"><span>knights_path_5xm_lr_exists</span></a><span class="antiquote"><span>}</span></span></span><span> formalize Lemma 1 
</span><span>from </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_5xm_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_5xm_exists(2)|thm"><span class="entity_def" id="KnightsTour.knights_path_5xm_exists(1)|thm"><span>knights_path_5xm_exists</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_lr_exists|fact"><span>knights_path_5xm_lr_exists</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_ur_exists|fact"><span>knights_path_5xm_ur_exists</span></a><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Knight's Paths and Circuits for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ãmâº</span></span></span><span>-Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b6x5|const"><span>b6x5</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>
  </span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã5)âº</span></span></span><span>-board that starts in the lower-left and ends in the upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>      10 &amp; 19 &amp;  4 &amp; 29 &amp; 12 \\
</span><span>       3 &amp; 30 &amp; 11 &amp; 20 &amp;  5 \\
</span><span>      18 &amp;  9 &amp; 24 &amp; 13 &amp; 28 \\
</span><span>      25 &amp;  2 &amp; 17 &amp;  6 &amp; 21 \\
</span><span>      16 &amp; 23 &amp;  8 &amp; 27 &amp; 14 \\
</span><span>       1 &amp; 26 &amp; 15 &amp; 22 &amp;  7
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x5_ul|fact"><span class="entity_def" id="KnightsTour.kp_6x5_ul|thm"><span>kp_6x5_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x5|const"><span>b6x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x5_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_6x5_ul_hd|thm"><span>kp_6x5_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x5_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_6x5_ul_last|thm"><span>kp_6x5_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x5_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_6x5_ul_non_nil|thm"><span>kp_6x5_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã5)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>      16 &amp;  9 &amp;  6 &amp; 27 &amp; 18 \\
</span><span>       7 &amp; 26 &amp; 17 &amp; 14 &amp;  5 \\
</span><span>      10 &amp; 15 &amp;  8 &amp; 19 &amp; 28 \\
</span><span>      25 &amp; 30 &amp; 23 &amp;  4 &amp; 13 \\
</span><span>      22 &amp; 11 &amp;  2 &amp; 29 &amp; 20 \\
</span><span>       1 &amp; 24 &amp; 21 &amp; 12 &amp;  3
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc6x5|const"><span>kc6x5</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x5|fact"><span class="entity_def" id="KnightsTour.kc_6x5|thm"><span>kc_6x5</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x5|const"><span>b6x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x5|const"><span>kc6x5</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x5_hd|fact"><span class="entity_def" id="KnightsTour.kc_6x5_hd|thm"><span>kc_6x5_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x5|const"><span>kc6x5</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x5_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_6x5_non_nil|thm"><span>kc_6x5_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x5|const"><span>kc6x5</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b6x6|const"><span>b6x6</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The path given for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ã6âº</span></span></span><span>-board that ends in the upper-left is wrong. The Knight cannot 
</span><span>move from square 26 to square 27.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>      14 &amp; 23 &amp;  6 &amp; 28 &amp; 12 &amp; 21 \\
</span><span>       7 &amp; 36 &amp; 13 &amp; 22 &amp;  5 &amp; \color{red}{27} \\
</span><span>      24 &amp; 15 &amp; 29 &amp; 35 &amp; 20 &amp; 11 \\
</span><span>      30 &amp;  8 &amp; 17 &amp; \color{red}{26} &amp; 34 &amp;  4 \\
</span><span>      16 &amp; 25 &amp;  2 &amp; 32 &amp; 10 &amp; 19 \\
</span><span>       1 &amp; 31 &amp;  9 &amp; 18 &amp;  3 &amp; 33
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x6ul_false|const"><span>kp6x6ul_false</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x6|const"><span>b6x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x6ul_false|const"><span>kp6x6ul_false</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>I have computed a correct Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ã6âº</span></span></span><span>-board that ends in the upper-left.
</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã6)âº</span></span></span><span>-board that starts in the lower-left and ends in the upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>       8 &amp; 25 &amp; 10 &amp; 21 &amp;  6 &amp; 23 \\
</span><span>      11 &amp; 36 &amp;  7 &amp; 24 &amp; 33 &amp; 20 \\
</span><span>      26 &amp;  9 &amp; 34 &amp;  3 &amp; 22 &amp;  5 \\
</span><span>      35 &amp; 12 &amp; 15 &amp; 30 &amp; 19 &amp; 32 \\
</span><span>      14 &amp; 27 &amp;  2 &amp; 17 &amp;  4 &amp; 29 \\
</span><span>       1 &amp; 16 &amp; 13 &amp; 28 &amp; 31 &amp; 18
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x6ul|const"><span>kp6x6ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x6_ul|fact"><span class="entity_def" id="KnightsTour.kp_6x6_ul|thm"><span>kp_6x6_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x6|const"><span>b6x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x6ul|const"><span>kp6x6ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x6_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_6x6_ul_hd|thm"><span>kp_6x6_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x6ul|const"><span>kp6x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x6_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_6x6_ul_last|thm"><span>kp_6x6_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x6ul|const"><span>kp6x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x6_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_6x6_ul_non_nil|thm"><span>kp_6x6_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x6ul|const"><span>kp6x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã6)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>       4 &amp; 25 &amp; 34 &amp; 15 &amp; 18 &amp;  7 \\
</span><span>      35 &amp; 14 &amp;  5 &amp;  8 &amp; 33 &amp; 16 \\
</span><span>      24 &amp;  3 &amp; 26 &amp; 17 &amp;  6 &amp; 19 \\
</span><span>      13 &amp; 36 &amp; 23 &amp; 30 &amp;  9 &amp; 32 \\
</span><span>      22 &amp; 27 &amp;  2 &amp; 11 &amp; 20 &amp; 29 \\
</span><span>       1 &amp; 12 &amp; 21 &amp; 28 &amp; 31 &amp; 10
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc6x6|const"><span>kc6x6</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x6|fact"><span class="entity_def" id="KnightsTour.kc_6x6|thm"><span>kc_6x6</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x6|const"><span>b6x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x6|const"><span>kc6x6</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x6_hd|fact"><span class="entity_def" id="KnightsTour.kc_6x6_hd|thm"><span>kc_6x6_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x6|const"><span>kc6x6</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x6_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_6x6_non_nil|thm"><span>kc_6x6_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x6|const"><span>kc6x6</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b6x7|const"><span>b6x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>      18 &amp; 23 &amp;  8 &amp; 39 &amp; 16 &amp; 25 &amp;  6 \\
</span><span>       9 &amp; 42 &amp; 17 &amp; 24 &amp;  7 &amp; 40 &amp; 15 \\
</span><span>      22 &amp; 19 &amp; 32 &amp; 41 &amp; 38 &amp;  5 &amp; 26 \\
</span><span>      33 &amp; 10 &amp; 21 &amp; 28 &amp; 31 &amp; 14 &amp; 37 \\
</span><span>      20 &amp; 29 &amp;  2 &amp; 35 &amp; 12 &amp; 27 &amp;  4 \\
</span><span>       1 &amp; 34 &amp; 11 &amp; 30 &amp;  3 &amp; 36 &amp; 13
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x7ul|const"><span>kp6x7ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x7_ul|fact"><span class="entity_def" id="KnightsTour.kp_6x7_ul|thm"><span>kp_6x7_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x7|const"><span>b6x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x7ul|const"><span>kp6x7ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x7_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_6x7_ul_hd|thm"><span>kp_6x7_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x7ul|const"><span>kp6x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x7_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_6x7_ul_last|thm"><span>kp_6x7_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x7ul|const"><span>kp6x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x7_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_6x7_ul_non_nil|thm"><span>kp_6x7_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x7ul|const"><span>kp6x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã7)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>      26 &amp; 37 &amp;  8 &amp; 17 &amp; 28 &amp; 31 &amp;  6 \\
</span><span>       9 &amp; 18 &amp; 27 &amp; 36 &amp;  7 &amp; 16 &amp; 29 \\
</span><span>      38 &amp; 25 &amp; 10 &amp; 19 &amp; 30 &amp;  5 &amp; 32 \\
</span><span>      11 &amp; 42 &amp; 23 &amp; 40 &amp; 35 &amp; 20 &amp; 15 \\
</span><span>      24 &amp; 39 &amp;  2 &amp; 13 &amp; 22 &amp; 33 &amp;  4 \\
</span><span>       1 &amp; 12 &amp; 41 &amp; 34 &amp;  3 &amp; 14 &amp; 21
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc6x7|const"><span>kc6x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x7|fact"><span class="entity_def" id="KnightsTour.kc_6x7|thm"><span>kc_6x7</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x7|const"><span>b6x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x7|const"><span>kc6x7</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x7_hd|fact"><span class="entity_def" id="KnightsTour.kc_6x7_hd|thm"><span>kc_6x7_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x7|const"><span>kc6x7</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x7_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_6x7_non_nil|thm"><span>kc_6x7_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x7|const"><span>kc6x7</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b6x8|const"><span>b6x8</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã8)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      18 &amp; 31 &amp;  8 &amp; 35 &amp; 16 &amp; 33 &amp;  6 &amp; 45 \\
</span><span>       9 &amp; 48 &amp; 17 &amp; 32 &amp;  7 &amp; 46 &amp; 15 &amp; 26 \\
</span><span>      30 &amp; 19 &amp; 36 &amp; 47 &amp; 34 &amp; 27 &amp; 44 &amp;  5 \\
</span><span>      37 &amp; 10 &amp; 21 &amp; 28 &amp; 43 &amp; 40 &amp; 25 &amp; 14 \\
</span><span>      20 &amp; 29 &amp;  2 &amp; 39 &amp; 12 &amp; 23 &amp;  4 &amp; 41 \\
</span><span>       1 &amp; 38 &amp; 11 &amp; 22 &amp;  3 &amp; 42 &amp; 13 &amp; 24
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x8ul|const"><span>kp6x8ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x8_ul|fact"><span class="entity_def" id="KnightsTour.kp_6x8_ul|thm"><span>kp_6x8_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x8|const"><span>b6x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x8ul|const"><span>kp6x8ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x8_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_6x8_ul_hd|thm"><span>kp_6x8_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x8ul|const"><span>kp6x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x8_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_6x8_ul_last|thm"><span>kp_6x8_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x8ul|const"><span>kp6x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x8_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_6x8_ul_non_nil|thm"><span>kp_6x8_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x8ul|const"><span>kp6x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã8)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      30 &amp; 35 &amp;  8 &amp; 15 &amp; 28 &amp; 39 &amp;  6 &amp; 13 \\
</span><span>       9 &amp; 16 &amp; 29 &amp; 36 &amp;  7 &amp; 14 &amp; 27 &amp; 38 \\
</span><span>      34 &amp; 31 &amp; 10 &amp; 23 &amp; 40 &amp; 37 &amp; 12 &amp;  5 \\
</span><span>      17 &amp; 48 &amp; 33 &amp; 46 &amp; 11 &amp; 22 &amp; 41 &amp; 26 \\
</span><span>      32 &amp; 45 &amp;  2 &amp; 19 &amp; 24 &amp; 43 &amp;  4 &amp; 21 \\
</span><span>       1 &amp; 18 &amp; 47 &amp; 44 &amp;  3 &amp; 20 &amp; 25 &amp; 42
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc6x8|const"><span>kc6x8</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x8|fact"><span class="entity_def" id="KnightsTour.kc_6x8|thm"><span>kc_6x8</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x8|const"><span>b6x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x8|const"><span>kc6x8</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x8_hd|fact"><span class="entity_def" id="KnightsTour.kc_6x8_hd|thm"><span>kc_6x8_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x8|const"><span>kc6x8</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x8_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_6x8_non_nil|thm"><span>kc_6x8_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x8|const"><span>kc6x8</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b6x9|const"><span>b6x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      22 &amp; 45 &amp; 10 &amp; 53 &amp; 20 &amp; 47 &amp;  8 &amp; 35 &amp; 18 \\
</span><span>      11 &amp; 54 &amp; 21 &amp; 46 &amp;  9 &amp; 36 &amp; 19 &amp; 48 &amp;  7 \\
</span><span>      44 &amp; 23 &amp; 42 &amp; 37 &amp; 52 &amp; 49 &amp; 32 &amp; 17 &amp; 34 \\
</span><span>      41 &amp; 12 &amp; 25 &amp; 50 &amp; 27 &amp; 38 &amp; 29 &amp;  6 &amp; 31 \\
</span><span>      24 &amp; 43 &amp;  2 &amp; 39 &amp; 14 &amp; 51 &amp;  4 &amp; 33 &amp; 16 \\
</span><span>       1 &amp; 40 &amp; 13 &amp; 26 &amp;  3 &amp; 28 &amp; 15 &amp; 30 &amp;  5
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp6x9ul|const"><span>kp6x9ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x9_ul|fact"><span class="entity_def" id="KnightsTour.kp_6x9_ul|thm"><span>kp_6x9_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x9|const"><span>b6x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x9ul|const"><span>kp6x9ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x9_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_6x9_ul_hd|thm"><span>kp_6x9_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x9ul|const"><span>kp6x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x9_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_6x9_ul_last|thm"><span>kp_6x9_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x9ul|const"><span>kp6x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6x9_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_6x9_ul_non_nil|thm"><span>kp_6x9_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x9ul|const"><span>kp6x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(6Ã9)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      14 &amp; 49 &amp;  4 &amp; 51 &amp; 24 &amp; 39 &amp;  6 &amp; 29 &amp; 22 \\
</span><span>       3 &amp; 52 &amp; 13 &amp; 40 &amp;  5 &amp; 32 &amp; 23 &amp; 42 &amp;  7 \\
</span><span>      48 &amp; 15 &amp; 50 &amp; 25 &amp; 38 &amp; 41 &amp; 28 &amp; 21 &amp; 30 \\
</span><span>      53 &amp;  2 &amp; 37 &amp; 12 &amp; 33 &amp; 26 &amp; 31 &amp;  8 &amp; 43 \\
</span><span>      16 &amp; 47 &amp; 54 &amp; 35 &amp; 18 &amp; 45 &amp; 10 &amp; 27 &amp; 20 \\
</span><span>       1 &amp; 36 &amp; 17 &amp; 46 &amp; 11 &amp; 34 &amp; 19 &amp; 44 &amp;  9
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc6x9|const"><span>kc6x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x9|fact"><span class="entity_def" id="KnightsTour.kc_6x9|thm"><span>kc_6x9</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x9|const"><span>b6x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x9|const"><span>kc6x9</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x9_hd|fact"><span class="entity_def" id="KnightsTour.kc_6x9_hd|thm"><span>kc_6x9_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x9|const"><span>kc6x9</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6x9_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_6x9_non_nil|thm"><span>kc_6x9_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x9|const"><span>kc6x9</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_6xm_ul|fact"><span class="entity_def" id="KnightsTour.kp_6xm_ul(20)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(19)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(18)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(17)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(16)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(15)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(14)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(13)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(12)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(11)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(10)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(9)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(8)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(7)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(6)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(5)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(4)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(3)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(2)|thm"><span class="entity_def" id="KnightsTour.kp_6xm_ul(1)|thm"><span>kp_6xm_ul</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x5_ul|fact"><span>kp_6x5_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x5_ul_hd|fact"><span>kp_6x5_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x5_ul_last|fact"><span>kp_6x5_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x5_ul_non_nil|fact"><span>kp_6x5_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x6_ul|fact"><span>kp_6x6_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x6_ul_hd|fact"><span>kp_6x6_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x6_ul_last|fact"><span>kp_6x6_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x6_ul_non_nil|fact"><span>kp_6x6_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x7_ul|fact"><span>kp_6x7_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x7_ul_hd|fact"><span>kp_6x7_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x7_ul_last|fact"><span>kp_6x7_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x7_ul_non_nil|fact"><span>kp_6x7_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x8_ul|fact"><span>kp_6x8_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x8_ul_hd|fact"><span>kp_6x8_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x8_ul_last|fact"><span>kp_6x8_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x8_ul_non_nil|fact"><span>kp_6x8_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x9_ul|fact"><span>kp_6x9_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x9_ul_hd|fact"><span>kp_6x9_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x9_ul_last|fact"><span>kp_6x9_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6x9_ul_non_nil|fact"><span>kp_6x9_ul_non_nil</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_6xm|fact"><span class="entity_def" id="KnightsTour.kc_6xm(15)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(14)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(13)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(12)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(11)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(10)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(9)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(8)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(7)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(6)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(5)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(4)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(3)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(2)|thm"><span class="entity_def" id="KnightsTour.kc_6xm(1)|thm"><span>kc_6xm</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x5|fact"><span>kc_6x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x5_hd|fact"><span>kc_6x5_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x5_non_nil|fact"><span>kc_6x5_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x6|fact"><span>kc_6x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x6_hd|fact"><span>kc_6x6_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x6_non_nil|fact"><span>kc_6x6_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x7|fact"><span>kc_6x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x7_hd|fact"><span>kc_6x7_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x7_non_nil|fact"><span>kc_6x7_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x8|fact"><span>kc_6x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x8_hd|fact"><span>kc_6x8_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x8_non_nil|fact"><span>kc_6x8_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x9|fact"><span>kc_6x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x9_hd|fact"><span>kc_6x9_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6x9_non_nil|fact"><span>kc_6x9_non_nil</span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's path that starts in 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> (bottom-left) and ends in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5,2)âº</span></span></span><span> (top-left).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_87731..87736">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_6xm_ul_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_6xm_ul_exists|thm"><span>knights_path_6xm_ul_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_87731..87736"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.wellorder_class.less_induct|fact"><span>less_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_87922..87926">less</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6xm_ul|fact"><span>kp_6xm_ul</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp6x5ul|const"><span>kp6x5ul</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_88162..88172">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_6xm_ul|fact"><span>kp_6xm_ul</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_88340..88347">ps<span class="hidden">â©</span><sub>2</sub>_IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
                                </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_87922..87926"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>27</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>27</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>27</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_88162..88172"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_88340..88347"><span>ps<span class="hidden">â©</span><sub>2</sub>_IH</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat|fact"><span>knights_path_split_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>6</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>6Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's circuit.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_89098..89103">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_6xm_exists|fact"><span class="entity_def" id="KnightsTour.knights_circuit_6xm_exists|thm"><span>knights_circuit_6xm_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89098..89103"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89098..89103"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6xm|fact"><span>kc_6xm</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc6x5|const"><span>kc6x5</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x5|const"><span>b6x5</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_6xm|fact"><span>kc_6xm</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_rev|fact"><span>knights_circuit_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_rev|fact"><span>last_rev</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_89563..89573">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b6x5|const"><span>b6x5</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_rev|fact"><span>valid_step_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_89714..89718">m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_89772..89781">ps2_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
                                   </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_ul_exists|fact"><span>knights_path_6xm_ul_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>2</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>              
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89714..89718"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89563..89573"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89772..89781"><span>ps2_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat|fact"><span>knights_path_split_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>6</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_89563..89573"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_ul_exists|fact"><span>knights_path_6xm_ul_exists</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_6xm_exists|fact"><span>knights_circuit_6xm_exists</span></a><span class="antiquote"><span>}</span></span></span><span> formalize Lemma 2 
</span><span>from </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_6xm_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_6xm_exists(2)|thm"><span class="entity_def" id="KnightsTour.knights_path_6xm_exists(1)|thm"><span>knights_path_6xm_exists</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_ul_exists|fact"><span>knights_path_6xm_ul_exists</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_6xm_exists|fact"><span>knights_circuit_6xm_exists</span></a><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Knight's Paths and Circuits for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ãmâº</span></span></span><span>-Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b8x5|const"><span>b8x5</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã5)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>      28 &amp;  7 &amp; 22 &amp; 39 &amp; 26 \\
</span><span>      23 &amp; 40 &amp; 27 &amp;  6 &amp; 21 \\
</span><span>       8 &amp; 29 &amp; 38 &amp; 25 &amp; 14 \\
</span><span>      37 &amp; 24 &amp; 15 &amp; 20 &amp;  5 \\
</span><span>      16 &amp;  9 &amp; 30 &amp; 13 &amp; 34 \\
</span><span>      31 &amp; 36 &amp; 33 &amp;  4 &amp; 19 \\
</span><span>      10 &amp; 17 &amp;  2 &amp; 35 &amp; 12 \\
</span><span>       1 &amp; 32 &amp; 11 &amp; 18 &amp;  3
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x5_ul|fact"><span class="entity_def" id="KnightsTour.kp_8x5_ul|thm"><span>kp_8x5_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x5|const"><span>b8x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x5_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_8x5_ul_hd|thm"><span>kp_8x5_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x5_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_8x5_ul_last|thm"><span>kp_8x5_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x5_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_8x5_ul_non_nil|thm"><span>kp_8x5_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã5)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>      26 &amp;  7 &amp; 28 &amp; 15 &amp; 24 \\
</span><span>      31 &amp; 16 &amp; 25 &amp;  6 &amp; 29 \\
</span><span>       8 &amp; 27 &amp; 30 &amp; 23 &amp; 14 \\
</span><span>      17 &amp; 32 &amp; 39 &amp; 34 &amp;  5 \\
</span><span>      38 &amp;  9 &amp; 18 &amp; 13 &amp; 22 \\
</span><span>      19 &amp; 40 &amp; 33 &amp;  4 &amp; 35 \\
</span><span>      10 &amp; 37 &amp;  2 &amp; 21 &amp; 12 \\
</span><span>       1 &amp; 20 &amp; 11 &amp; 36 &amp;  3
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc8x5|const"><span>kc8x5</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x5|fact"><span class="entity_def" id="KnightsTour.kc_8x5|thm"><span>kc_8x5</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x5|const"><span>b8x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x5_hd|fact"><span class="entity_def" id="KnightsTour.kc_8x5_hd|thm"><span>kc_8x5_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x5_last|fact"><span class="entity_def" id="KnightsTour.kc_8x5_last|thm"><span>kc_8x5_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x5_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_8x5_non_nil|thm"><span>kc_8x5_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x5_si|fact"><span class="entity_def" id="KnightsTour.kc_8x5_si|thm"><span>kc_8x5_si</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>21</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>21</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>21</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>21</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b8x6|const"><span>b8x6</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã6)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>      42 &amp; 11 &amp; 26 &amp;  9 &amp; 34 &amp; 13 \\
</span><span>      25 &amp; 48 &amp; 43 &amp; 12 &amp; 27 &amp;  8 \\
</span><span>      44 &amp; 41 &amp; 10 &amp; 33 &amp; 14 &amp; 35 \\
</span><span>      47 &amp; 24 &amp; 45 &amp; 20 &amp;  7 &amp; 28 \\
</span><span>      40 &amp; 19 &amp; 32 &amp;  3 &amp; 36 &amp; 15 \\
</span><span>      23 &amp; 46 &amp; 21 &amp;  6 &amp; 29 &amp;  4 \\
</span><span>      18 &amp; 39 &amp;  2 &amp; 31 &amp; 16 &amp; 37 \\
</span><span>       1 &amp; 22 &amp; 17 &amp; 38 &amp;  5 &amp; 30
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x6ul|const"><span>kp8x6ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x6_ul|fact"><span class="entity_def" id="KnightsTour.kp_8x6_ul|thm"><span>kp_8x6_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x6|const"><span>b8x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x6ul|const"><span>kp8x6ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x6_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_8x6_ul_hd|thm"><span>kp_8x6_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x6ul|const"><span>kp8x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x6_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_8x6_ul_last|thm"><span>kp_8x6_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x6ul|const"><span>kp8x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x6_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_8x6_ul_non_nil|thm"><span>kp_8x6_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x6ul|const"><span>kp8x6ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã6)âº</span></span></span><span>-board. I have reversed circuit s.t. the circuit steps 
</span><span>from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(2,5)âº</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(4,6)âº</span></span></span><span> and not the other way around. This makes the proofs easier.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllll}
</span><span>       8 &amp; 29 &amp; 24 &amp; 45 &amp; 12 &amp; 37 \\
</span><span>      25 &amp; 46 &amp;  9 &amp; 38 &amp; 23 &amp; 44 \\
</span><span>      30 &amp;  7 &amp; 28 &amp; 13 &amp; 36 &amp; 11 \\
</span><span>      47 &amp; 26 &amp; 39 &amp; 10 &amp; 43 &amp; 22 \\
</span><span>       6 &amp; 31 &amp;  4 &amp; 27 &amp; 14 &amp; 35 \\
</span><span>       3 &amp; 48 &amp; 17 &amp; 40 &amp; 21 &amp; 42 \\
</span><span>      32 &amp;  5 &amp;  2 &amp; 19 &amp; 34 &amp; 15 \\
</span><span>       1 &amp; 18 &amp; 33 &amp; 16 &amp; 41 &amp; 20
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc8x6|const"><span>kc8x6</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x6|fact"><span class="entity_def" id="KnightsTour.kc_8x6|thm"><span>kc_8x6</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x6|const"><span>b8x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x6|const"><span>kc8x6</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x6_hd|fact"><span class="entity_def" id="KnightsTour.kc_8x6_hd|thm"><span>kc_8x6_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x6|const"><span>kc8x6</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x6_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_8x6_non_nil|thm"><span>kc_8x6_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x6|const"><span>kc8x6</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x6_si|fact"><span class="entity_def" id="KnightsTour.kc_8x6_si|thm"><span>kc_8x6_si</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x6|const"><span>kc8x6</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>34</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>34</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>34</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>34</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b8x7|const"><span>b8x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>      38 &amp; 19 &amp;  6 &amp; 55 &amp; 46 &amp; 21 &amp;  8 \\
</span><span>       5 &amp; 56 &amp; 39 &amp; 20 &amp;  7 &amp; 54 &amp; 45 \\
</span><span>      18 &amp; 37 &amp;  4 &amp; 47 &amp; 34 &amp;  9 &amp; 22 \\
</span><span>       3 &amp; 48 &amp; 35 &amp; 40 &amp; 53 &amp; 44 &amp; 33 \\
</span><span>      36 &amp; 17 &amp; 52 &amp; 49 &amp; 32 &amp; 23 &amp; 10 \\
</span><span>      51 &amp;  2 &amp; 29 &amp; 14 &amp; 41 &amp; 26 &amp; 43 \\
</span><span>      16 &amp; 13 &amp; 50 &amp; 31 &amp; 28 &amp; 11 &amp; 24 \\
</span><span>       1 &amp; 30 &amp; 15 &amp; 12 &amp; 25 &amp; 42 &amp; 27
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x7ul|const"><span>kp8x7ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x7_ul|fact"><span class="entity_def" id="KnightsTour.kp_8x7_ul|thm"><span>kp_8x7_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x7|const"><span>b8x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x7ul|const"><span>kp8x7ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x7_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_8x7_ul_hd|thm"><span>kp_8x7_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x7ul|const"><span>kp8x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x7_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_8x7_ul_last|thm"><span>kp_8x7_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x7ul|const"><span>kp8x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x7_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_8x7_ul_non_nil|thm"><span>kp_8x7_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x7ul|const"><span>kp8x7ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã7)âº</span></span></span><span>-board. I have reversed circuit s.t. the circuit steps 
</span><span>from </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(2,6)âº</span></span></span><span> to </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(4,7)âº</span></span></span><span> and not the other way around. This makes the proofs easier.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>      36 &amp; 31 &amp; 18 &amp; 53 &amp; 20 &amp; 29 &amp; 44 \\
</span><span>      17 &amp; 54 &amp; 35 &amp; 30 &amp; 45 &amp; 52 &amp; 21 \\
</span><span>      32 &amp; 37 &amp; 46 &amp; 19 &amp;  8 &amp; 43 &amp; 28 \\
</span><span>      55 &amp; 16 &amp;  7 &amp; 34 &amp; 27 &amp; 22 &amp; 51 \\
</span><span>      38 &amp; 33 &amp; 26 &amp; 47 &amp;  6 &amp;  9 &amp; 42 \\
</span><span>       3 &amp; 56 &amp; 15 &amp; 12 &amp; 25 &amp; 50 &amp; 23 \\
</span><span>      14 &amp; 39 &amp;  2 &amp;  5 &amp; 48 &amp; 41 &amp; 10 \\
</span><span>       1 &amp;  4 &amp; 13 &amp; 40 &amp; 11 &amp; 24 &amp; 49 
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc8x7|const"><span>kc8x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x7|fact"><span class="entity_def" id="KnightsTour.kc_8x7|thm"><span>kc_8x7</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x7|const"><span>b8x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x7|const"><span>kc8x7</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x7_hd|fact"><span class="entity_def" id="KnightsTour.kc_8x7_hd|thm"><span>kc_8x7_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x7|const"><span>kc8x7</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x7_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_8x7_non_nil|thm"><span>kc_8x7_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x7|const"><span>kc8x7</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x7_si|fact"><span class="entity_def" id="KnightsTour.kc_8x7_si|thm"><span>kc_8x7_si</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x7|const"><span>kc8x7</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>41</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>41</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>41</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>41</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b8x8|const"><span>b8x8</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The path given for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã8âº</span></span></span><span>-board that ends in the upper-left is wrong. The Knight cannot 
</span><span>move from square 27 to square 28.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      24 &amp; 11 &amp; 37 &amp;  9 &amp; 26 &amp; 21 &amp; 39 &amp;  7 \\
</span><span>      36 &amp; 64 &amp; 24 &amp; 22 &amp; 38 &amp;  8 &amp; \color{red}{27} &amp; 20 \\
</span><span>      12 &amp; 23 &amp; 10 &amp; 53 &amp; 58 &amp; 49 &amp;  6 &amp; \color{red}{28} \\
</span><span>      63 &amp; 35 &amp; 61 &amp; 50 &amp; 55 &amp; 52 &amp; 19 &amp; 40 \\
</span><span>      46 &amp; 13 &amp; 54 &amp; 57 &amp; 48 &amp; 59 &amp; 29 &amp;  5 \\
</span><span>      34 &amp; 62 &amp; 47 &amp; 60 &amp; 51 &amp; 56 &amp; 41 &amp; 18 \\
</span><span>      14 &amp; 45 &amp;  2 &amp; 32 &amp; 16 &amp; 43 &amp;  4 &amp; 30 \\
</span><span>       1 &amp; 33 &amp; 15 &amp; 44 &amp;  3 &amp; 31 &amp; 17 &amp; 42
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x8ul_false|const"><span>kp8x8ul_false</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Not|const"><span>Â¬</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x8|const"><span>b8x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x8ul_false|const"><span>kp8x8ul_false</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>I have computed a correct Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ã8âº</span></span></span><span>-board that ends in the upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      38 &amp; 41 &amp; 36 &amp; 27 &amp; 32 &amp; 43 &amp; 20 &amp; 25 \\
</span><span>      35 &amp; 64 &amp; 39 &amp; 42 &amp; 21 &amp; 26 &amp; 29 &amp; 44 \\
</span><span>      40 &amp; 37 &amp;  6 &amp; 33 &amp; 28 &amp; 31 &amp; 24 &amp; 19 \\
</span><span>       5 &amp; 34 &amp; 63 &amp; 14 &amp;  7 &amp; 22 &amp; 45 &amp; 30 \\
</span><span>      62 &amp; 13 &amp;  4 &amp;  9 &amp; 58 &amp; 49 &amp; 18 &amp; 23 \\
</span><span>       3 &amp; 10 &amp; 61 &amp; 52 &amp; 15 &amp;  8 &amp; 57 &amp; 46 \\
</span><span>      12 &amp; 53 &amp;  2 &amp; 59 &amp; 48 &amp; 55 &amp; 50 &amp; 17 \\
</span><span>       1 &amp; 60 &amp; 11 &amp; 54 &amp; 51 &amp; 16 &amp; 47 &amp; 56
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x8ul|const"><span>kp8x8ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x8_ul|fact"><span class="entity_def" id="KnightsTour.kp_8x8_ul|thm"><span>kp_8x8_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x8|const"><span>b8x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x8ul|const"><span>kp8x8ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x8_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_8x8_ul_hd|thm"><span>kp_8x8_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x8ul|const"><span>kp8x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x8_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_8x8_ul_last|thm"><span>kp_8x8_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x8ul|const"><span>kp8x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x8_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_8x8_ul_non_nil|thm"><span>kp_8x8_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x8ul|const"><span>kp8x8ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã8)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{llllllll}
</span><span>      48 &amp; 13 &amp; 30 &amp;  9 &amp; 56 &amp; 45 &amp; 28 &amp;  7 \\
</span><span>      31 &amp; 10 &amp; 47 &amp; 50 &amp; 29 &amp;  8 &amp; 57 &amp; 44 \\
</span><span>      14 &amp; 49 &amp; 12 &amp; 55 &amp; 46 &amp; 59 &amp;  6 &amp; 27 \\
</span><span>      11 &amp; 32 &amp; 37 &amp; 60 &amp; 51 &amp; 54 &amp; 43 &amp; 58 \\
</span><span>      36 &amp; 15 &amp; 52 &amp; 63 &amp; 38 &amp; 61 &amp; 26 &amp;  5 \\
</span><span>      33 &amp; 64 &amp; 35 &amp; 18 &amp; 53 &amp; 40 &amp; 23 &amp; 42 \\
</span><span>      16 &amp; 19 &amp;  2 &amp; 39 &amp; 62 &amp; 21 &amp;  4 &amp; 25 \\
</span><span>       1 &amp; 34 &amp; 17 &amp; 20 &amp;  3 &amp; 24 &amp; 41 &amp; 22
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc8x8|const"><span>kc8x8</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x8|fact"><span class="entity_def" id="KnightsTour.kc_8x8|thm"><span>kc_8x8</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x8|const"><span>b8x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x8|const"><span>kc8x8</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x8_hd|fact"><span class="entity_def" id="KnightsTour.kc_8x8_hd|thm"><span>kc_8x8_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x8|const"><span>kc8x8</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x8_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_8x8_non_nil|thm"><span>kc_8x8_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x8|const"><span>kc8x8</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x8_si|fact"><span class="entity_def" id="KnightsTour.kc_8x8_si|thm"><span>kc_8x8_si</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x8|const"><span>kc8x8</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>4</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>4</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b8x9|const"><span>b8x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      32 &amp; 47 &amp;  6 &amp; 71 &amp; 30 &amp; 45 &amp;  8 &amp; 43 &amp; 26 \\
</span><span>       5 &amp; 72 &amp; 31 &amp; 46 &amp;  7 &amp; 70 &amp; 27 &amp; 22 &amp;  9 \\
</span><span>      48 &amp; 33 &amp;  4 &amp; 29 &amp; 64 &amp; 23 &amp; 44 &amp; 25 &amp; 42 \\
</span><span>       3 &amp; 60 &amp; 35 &amp; 62 &amp; 69 &amp; 28 &amp; 41 &amp; 10 &amp; 21 \\
</span><span>      34 &amp; 49 &amp; 68 &amp; 65 &amp; 36 &amp; 63 &amp; 24 &amp; 55 &amp; 40 \\
</span><span>      59 &amp;  2 &amp; 61 &amp; 16 &amp; 67 &amp; 56 &amp; 37 &amp; 20 &amp; 11 \\
</span><span>      50 &amp; 15 &amp; 66 &amp; 57 &amp; 52 &amp; 13 &amp; 18 &amp; 39 &amp; 54 \\
</span><span>       1 &amp; 58 &amp; 51 &amp; 14 &amp; 17 &amp; 38 &amp; 53 &amp; 12 &amp; 19
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp8x9ul|const"><span>kp8x9ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>71</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>72</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>70</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>69</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>68</span></span><span class="main"><span>,</span></span><span class="numeral"><span>65</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>67</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>66</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x9_ul|fact"><span class="entity_def" id="KnightsTour.kp_8x9_ul|thm"><span>kp_8x9_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x9|const"><span>b8x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x9ul|const"><span>kp8x9ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x9_ul_hd|fact"><span class="entity_def" id="KnightsTour.kp_8x9_ul_hd|thm"><span>kp_8x9_ul_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x9ul|const"><span>kp8x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x9_ul_last|fact"><span class="entity_def" id="KnightsTour.kp_8x9_ul_last|thm"><span>kp_8x9_ul_last</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x9ul|const"><span>kp8x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8x9_ul_non_nil|fact"><span class="entity_def" id="KnightsTour.kp_8x9_ul_non_nil|thm"><span>kp_8x9_ul_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x9ul|const"><span>kp8x9ul</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's circuit for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(8Ã9)âº</span></span></span><span>-board.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      42 &amp; 19 &amp; 38 &amp;  5 &amp; 36 &amp; 21 &amp; 34 &amp;  7 &amp; 60 \\
</span><span>      39 &amp;  4 &amp; 41 &amp; 20 &amp; 63 &amp;  6 &amp; 59 &amp; 22 &amp; 33 \\
</span><span>      18 &amp; 43 &amp; 70 &amp; 37 &amp; 58 &amp; 35 &amp; 68 &amp; 61 &amp;  8 \\
</span><span>       3 &amp; 40 &amp; 49 &amp; 64 &amp; 69 &amp; 62 &amp; 57 &amp; 32 &amp; 23 \\
</span><span>      50 &amp; 17 &amp; 44 &amp; 71 &amp; 48 &amp; 67 &amp; 54 &amp;  9 &amp; 56 \\
</span><span>      45 &amp;  2 &amp; 65 &amp; 14 &amp; 27 &amp; 12 &amp; 29 &amp; 24 &amp; 31 \\
</span><span>      16 &amp; 51 &amp; 72 &amp; 47 &amp; 66 &amp; 53 &amp; 26 &amp; 55 &amp; 10 \\
</span><span>       1 &amp; 46 &amp; 15 &amp; 52 &amp; 13 &amp; 28 &amp; 11 &amp; 30 &amp; 25
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kc8x9|const"><span>kc8x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>70</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>68</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>69</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>71</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>67</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>65</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>72</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>66</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x9|fact"><span class="entity_def" id="KnightsTour.kc_8x9|thm"><span>kc_8x9</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x9|const"><span>b8x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x9|const"><span>kc8x9</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exec_simp|fact"><span>knights_circuit_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x9_hd|fact"><span class="entity_def" id="KnightsTour.kc_8x9_hd|thm"><span>kc_8x9_hd</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x9|const"><span>kc8x9</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x9_non_nil|fact"><span class="entity_def" id="KnightsTour.kc_8x9_non_nil|thm"><span>kc_8x9_non_nil</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x9|const"><span>kc8x9</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>â </span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8x9_si|fact"><span class="entity_def" id="KnightsTour.kc_8x9_si|thm"><span>kc_8x9_si</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x9|const"><span>kc8x9</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>_</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>55</span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>55</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>55</span></span><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_8xm_ul|fact"><span class="entity_def" id="KnightsTour.kp_8xm_ul(20)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(19)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(18)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(17)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(16)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(15)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(14)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(13)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(12)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(11)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(10)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(9)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(8)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(7)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(6)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(5)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(4)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(3)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(2)|thm"><span class="entity_def" id="KnightsTour.kp_8xm_ul(1)|thm"><span>kp_8xm_ul</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x5_ul|fact"><span>kp_8x5_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x5_ul_hd|fact"><span>kp_8x5_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x5_ul_last|fact"><span>kp_8x5_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x5_ul_non_nil|fact"><span>kp_8x5_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x6_ul|fact"><span>kp_8x6_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x6_ul_hd|fact"><span>kp_8x6_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x6_ul_last|fact"><span>kp_8x6_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x6_ul_non_nil|fact"><span>kp_8x6_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x7_ul|fact"><span>kp_8x7_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x7_ul_hd|fact"><span>kp_8x7_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x7_ul_last|fact"><span>kp_8x7_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x7_ul_non_nil|fact"><span>kp_8x7_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x8_ul|fact"><span>kp_8x8_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x8_ul_hd|fact"><span>kp_8x8_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x8_ul_last|fact"><span>kp_8x8_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x8_ul_non_nil|fact"><span>kp_8x8_ul_non_nil</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x9_ul|fact"><span>kp_8x9_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x9_ul_hd|fact"><span>kp_8x9_ul_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x9_ul_last|fact"><span>kp_8x9_ul_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8x9_ul_non_nil|fact"><span>kp_8x9_ul_non_nil</span></a><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kc_8xm|fact"><span class="entity_def" id="KnightsTour.kc_8xm(21)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(20)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(19)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(18)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(17)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(16)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(15)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(14)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(13)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(12)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(11)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(10)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(9)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(8)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(7)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(6)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(5)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(4)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(3)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(2)|thm"><span class="entity_def" id="KnightsTour.kc_8xm(1)|thm"><span>kc_8xm</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> 
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x5|fact"><span>kc_8x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x5_hd|fact"><span>kc_8x5_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x5_last|fact"><span>kc_8x5_last</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x5_non_nil|fact"><span>kc_8x5_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x5_si|fact"><span>kc_8x5_si</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x6|fact"><span>kc_8x6</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x6_hd|fact"><span>kc_8x6_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x6_non_nil|fact"><span>kc_8x6_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x6_si|fact"><span>kc_8x6_si</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x7|fact"><span>kc_8x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x7_hd|fact"><span>kc_8x7_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x7_non_nil|fact"><span>kc_8x7_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x7_si|fact"><span>kc_8x7_si</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x8|fact"><span>kc_8x8</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x8_hd|fact"><span>kc_8x8_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x8_non_nil|fact"><span>kc_8x8_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x8_si|fact"><span>kc_8x8_si</span></a><span>
  </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x9|fact"><span>kc_8x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x9_hd|fact"><span>kc_8x9_hd</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x9_non_nil|fact"><span>kc_8x9_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8x9_si|fact"><span>kc_8x9_si</span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's circuit.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_103640..103645">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_8xm_exists|fact"><span class="entity_def" id="KnightsTour.knights_circuit_8xm_exists|thm"><span>knights_circuit_8xm_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_103640..103645"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.wellorder_class.less_induct|fact"><span>less_induct</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_103835..103839">less</span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8xm|fact"><span>kc_8xm</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc8x5|const"><span>kc8x5</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_104070..104080">ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kc_8xm|fact"><span>kc_8xm</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>21</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>21</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>21</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_104307..104309">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_104421..104425">m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>ps<span class="hidden">â©</span><sub>1</sub>_IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
                                </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_103835..103839"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_104421..104425"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_104070..104080"><span>ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_104307..104309"><span>si</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_lr_concat|fact"><span>knights_circuit_lr_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>8</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>8Ãmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> there exists a knight's path that starts in 
</span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(1,1)âº</span></span></span><span> (bottom-left) and ends in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(7,2)âº</span></span></span><span> (top-left).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_104927..104932">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_8xm_ul_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_8xm_ul_exists|thm"><span>knights_path_8xm_ul_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_104927..104932"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_104927..104932"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>â</span></a></span><span> </span><span class="main"><span>{</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8xm_ul|fact"><span>kp_8xm_ul</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp8x5ul|const"><span>kp8x5ul</span></a><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_105296..105306">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b8x5|const"><span>b8x5</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_8xm_ul|fact"><span>kp_8xm_ul</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_105415..105419">m_ge</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="comment1"><span>(</span><span>*</span><span> â· 10 â¤ m </span><span>*</span><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_105460..105467">b_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105415..105419"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_8xm_exists|fact"><span>knights_circuit_8xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_105696..105708">ps<span class="hidden">â©</span><sub>2</sub>'_prems'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span> 
        </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105460..105467"><span>b_prems</span></a><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rotate_knights_circuit|fact"><span>rotate_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_105883..105893">ps<span class="hidden">â©</span><sub>2</sub>'_path</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_rev|fact"><span>knights_path_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_rev|fact"><span>hd_rev</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_rev|fact"><span>last_rev</span></a><span class="main"><span>)</span></span><span>

    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>34</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>34</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>34</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
              </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>              
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105415..105419"><span>m_ge</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105296..105306"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105696..105708"><span>ps<span class="hidden">â©</span><sub>2</sub>'_prems'</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105883..105893"><span>ps<span class="hidden">â©</span><sub>2</sub>'_path</span></a><span> 
            </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat|fact"><span>knights_path_split_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>8</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_105296..105306"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_8xm_exists|fact"><span>knights_circuit_8xm_exists</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>thm</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_ul_exists|fact"><span>knights_path_8xm_ul_exists</span></a><span class="antiquote"><span>}</span></span></span><span> formalize Lemma 3 
</span><span>from </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_8xm_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_8xm_exists(2)|thm"><span class="entity_def" id="KnightsTour.knights_path_8xm_exists(1)|thm"><span>knights_path_8xm_exists</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_8xm_exists|fact"><span>knights_circuit_8xm_exists</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_ul_exists|fact"><span>knights_path_8xm_ul_exists</span></a><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Knight's Paths and Circuits for </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-Boards</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>In this section the desired theorems are proved. The proof uses the previous lemmas to 
</span><span>construct paths and circuits for arbitrary </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-boards.</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã5)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllll}
</span><span>       7 &amp; 20 &amp;  9 &amp; 14 &amp;  5 \\
</span><span>      10 &amp; 25 &amp;  6 &amp; 21 &amp; 16 \\
</span><span>      19 &amp;  8 &amp; 15 &amp;  4 &amp; 13 \\
</span><span>      24 &amp; 11 &amp;  2 &amp; 17 &amp; 22 \\
</span><span>       1 &amp; 18 &amp; 23 &amp; 12 &amp;  3
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x5ul|const"><span>kp5x5ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x5_ul|fact"><span class="entity_def" id="KnightsTour.kp_5x5_ul|thm"><span>kp_5x5_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x5|const"><span>b5x5</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ul|const"><span>kp5x5ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>      17 &amp; 14 &amp; 25 &amp;  6 &amp; 19 &amp;  8 &amp; 29 \\
</span><span>      26 &amp; 35 &amp; 18 &amp; 15 &amp; 28 &amp;  5 &amp; 20 \\
</span><span>      13 &amp; 16 &amp; 27 &amp; 24 &amp;  7 &amp; 30 &amp;  9 \\
</span><span>      34 &amp; 23 &amp;  2 &amp; 11 &amp; 32 &amp; 21 &amp;  4 \\
</span><span>       1 &amp; 12 &amp; 33 &amp; 22 &amp;  3 &amp; 10 &amp; 31
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x7ul|const"><span>kp5x7ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x7_ul|fact"><span class="entity_def" id="KnightsTour.kp_5x7_ul|thm"><span>kp_5x7_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x7|const"><span>b5x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ul|const"><span>kp5x7ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(5Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>       7 &amp; 12 &amp; 37 &amp; 42 &amp;  5 &amp; 18 &amp; 23 &amp; 32 &amp; 27 \\
</span><span>      38 &amp; 45 &amp;  6 &amp; 11 &amp; 36 &amp; 31 &amp; 26 &amp; 19 &amp; 24 \\
</span><span>      13 &amp;  8 &amp; 43 &amp;  4 &amp; 41 &amp; 22 &amp; 17 &amp; 28 &amp; 33 \\
</span><span>      44 &amp; 39 &amp;  2 &amp; 15 &amp; 10 &amp; 35 &amp; 30 &amp; 25 &amp; 20 \\
</span><span>       1 &amp; 14 &amp;  9 &amp; 40 &amp;  3 &amp; 16 &amp; 21 &amp; 34 &amp; 29
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp5x9ul|const"><span>kp5x9ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_5x9_ul|fact"><span class="entity_def" id="KnightsTour.kp_5x9_ul|thm"><span>kp_5x9_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x9|const"><span>b5x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ul|const"><span>kp5x9ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b7x7|const"><span>b7x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(7Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>       9 &amp; 30 &amp; 19 &amp; 42 &amp;  7 &amp; 32 &amp; 17 \\
</span><span>      20 &amp; 49 &amp;  8 &amp; 31 &amp; 18 &amp; 43 &amp;  6 \\
</span><span>      29 &amp; 10 &amp; 41 &amp; 36 &amp; 39 &amp; 16 &amp; 33 \\
</span><span>      48 &amp; 21 &amp; 38 &amp; 27 &amp; 34 &amp;  5 &amp; 44 \\
</span><span>      11 &amp; 28 &amp; 35 &amp; 40 &amp; 37 &amp; 26 &amp; 15 \\
</span><span>      22 &amp; 47 &amp;  2 &amp; 13 &amp; 24 &amp; 45 &amp;  4 \\
</span><span>       1 &amp; 12 &amp; 23 &amp; 46 &amp;  3 &amp; 14 &amp; 25
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp7x7ul|const"><span>kp7x7ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_7x7_ul|fact"><span class="entity_def" id="KnightsTour.kp_7x7_ul|thm"><span>kp_7x7_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b7x7|const"><span>b7x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp7x7ul|const"><span>kp7x7ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b7x9|const"><span>b7x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(7Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      59 &amp;  4 &amp; 17 &amp; 50 &amp; 37 &amp;  6 &amp; 19 &amp; 30 &amp; 39 \\
</span><span>      16 &amp; 63 &amp; 58 &amp;  5 &amp; 18 &amp; 51 &amp; 38 &amp;  7 &amp; 20 \\
</span><span>       3 &amp; 60 &amp; 49 &amp; 36 &amp; 57 &amp; 42 &amp; 29 &amp; 40 &amp; 31 \\
</span><span>      48 &amp; 15 &amp; 62 &amp; 43 &amp; 52 &amp; 35 &amp; 56 &amp; 21 &amp;  8 \\
</span><span>      61 &amp;  2 &amp; 13 &amp; 26 &amp; 45 &amp; 28 &amp; 41 &amp; 32 &amp; 55 \\
</span><span>      14 &amp; 47 &amp; 44 &amp; 11 &amp; 24 &amp; 53 &amp; 34 &amp;  9 &amp; 22 \\
</span><span>       1 &amp; 12 &amp; 25 &amp; 46 &amp; 27 &amp; 10 &amp; 23 &amp; 54 &amp; 33
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp7x9ul|const"><span>kp7x9ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_7x9_ul|fact"><span class="entity_def" id="KnightsTour.kp_7x9_ul|thm"><span>kp_7x9_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b7x9|const"><span>b7x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp7x9ul|const"><span>kp7x9ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b9x7|const"><span>b9x7</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(9Ã7)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllll}
</span><span>       5 &amp; 20 &amp; 53 &amp; 48 &amp;  7 &amp; 22 &amp; 31 \\
</span><span>      52 &amp; 63 &amp;  6 &amp; 21 &amp; 32 &amp; 55 &amp;  8 \\
</span><span>      19 &amp;  4 &amp; 49 &amp; 54 &amp; 47 &amp; 30 &amp; 23 \\
</span><span>      62 &amp; 51 &amp; 46 &amp; 33 &amp; 56 &amp;  9 &amp; 58 \\
</span><span>       3 &amp; 18 &amp; 61 &amp; 50 &amp; 59 &amp; 24 &amp; 29 \\
</span><span>      14 &amp; 43 &amp; 34 &amp; 45 &amp; 28 &amp; 57 &amp; 10 \\
</span><span>      17 &amp;  2 &amp; 15 &amp; 60 &amp; 35 &amp; 38 &amp; 25 \\
</span><span>      42 &amp; 13 &amp; 44 &amp; 27 &amp; 40 &amp; 11 &amp; 36 \\
</span><span>       1 &amp; 16 &amp; 41 &amp; 12 &amp; 37 &amp; 26 &amp; 39
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp9x7ul|const"><span>kp9x7ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>29</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_9x7_ul|fact"><span class="entity_def" id="KnightsTour.kp_9x7_ul|thm"><span>kp_9x7_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b9x7|const"><span>b9x7</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp9x7ul|const"><span>kp9x7ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.b9x9|const"><span>b9x9</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>A Knight's path for the </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(9Ã9)âº</span></span></span><span>-board that starts in the lower-left and ends in the 
</span><span>upper-left.
</span><span>  \begin{table}[H]
</span><span>    \begin{tabular}{lllllllll}
</span><span>      13 &amp; 26 &amp; 39 &amp; 52 &amp; 11 &amp; 24 &amp; 37 &amp; 50 &amp;  9 \\
</span><span>      40 &amp; 81 &amp; 12 &amp; 25 &amp; 38 &amp; 51 &amp; 10 &amp; 23 &amp; 36 \\
</span><span>      27 &amp; 14 &amp; 53 &amp; 58 &amp; 63 &amp; 68 &amp; 73 &amp;  8 &amp; 49 \\
</span><span>      80 &amp; 41 &amp; 64 &amp; 67 &amp; 72 &amp; 57 &amp; 62 &amp; 35 &amp; 22 \\
</span><span>      15 &amp; 28 &amp; 59 &amp; 54 &amp; 65 &amp; 74 &amp; 69 &amp; 48 &amp;  7 \\
</span><span>      42 &amp; 79 &amp; 66 &amp; 71 &amp; 76 &amp; 61 &amp; 56 &amp; 21 &amp; 34 \\
</span><span>      29 &amp; 16 &amp; 77 &amp; 60 &amp; 55 &amp; 70 &amp; 75 &amp;  6 &amp; 47 \\
</span><span>      78 &amp; 43 &amp;  2 &amp; 31 &amp; 18 &amp; 45 &amp;  4 &amp; 33 &amp; 20 \\
</span><span>       1 &amp; 30 &amp; 17 &amp; 44 &amp;  3 &amp; 32 &amp; 19 &amp; 46 &amp;  5
</span><span>    \end{tabular}
</span><span>  \end{table}</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="KnightsTour.kp9x9ul|const"><span>kp9x9ul</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.to_path|const"><span>to_path</span></a><span> 
  </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><span class="numeral"><span>13</span></span><span class="main"><span>,</span></span><span class="numeral"><span>26</span></span><span class="main"><span>,</span></span><span class="numeral"><span>39</span></span><span class="main"><span>,</span></span><span class="numeral"><span>52</span></span><span class="main"><span>,</span></span><span class="numeral"><span>11</span></span><span class="main"><span>,</span></span><span class="numeral"><span>24</span></span><span class="main"><span>,</span></span><span class="numeral"><span>37</span></span><span class="main"><span>,</span></span><span class="numeral"><span>50</span></span><span class="main"><span>,</span></span><span class="numeral"><span>9</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>40</span></span><span class="main"><span>,</span></span><span class="numeral"><span>81</span></span><span class="main"><span>,</span></span><span class="numeral"><span>12</span></span><span class="main"><span>,</span></span><span class="numeral"><span>25</span></span><span class="main"><span>,</span></span><span class="numeral"><span>38</span></span><span class="main"><span>,</span></span><span class="numeral"><span>51</span></span><span class="main"><span>,</span></span><span class="numeral"><span>10</span></span><span class="main"><span>,</span></span><span class="numeral"><span>23</span></span><span class="main"><span>,</span></span><span class="numeral"><span>36</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>27</span></span><span class="main"><span>,</span></span><span class="numeral"><span>14</span></span><span class="main"><span>,</span></span><span class="numeral"><span>53</span></span><span class="main"><span>,</span></span><span class="numeral"><span>58</span></span><span class="main"><span>,</span></span><span class="numeral"><span>63</span></span><span class="main"><span>,</span></span><span class="numeral"><span>68</span></span><span class="main"><span>,</span></span><span class="numeral"><span>73</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>,</span></span><span class="numeral"><span>49</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>80</span></span><span class="main"><span>,</span></span><span class="numeral"><span>41</span></span><span class="main"><span>,</span></span><span class="numeral"><span>64</span></span><span class="main"><span>,</span></span><span class="numeral"><span>67</span></span><span class="main"><span>,</span></span><span class="numeral"><span>72</span></span><span class="main"><span>,</span></span><span class="numeral"><span>57</span></span><span class="main"><span>,</span></span><span class="numeral"><span>62</span></span><span class="main"><span>,</span></span><span class="numeral"><span>35</span></span><span class="main"><span>,</span></span><span class="numeral"><span>22</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>15</span></span><span class="main"><span>,</span></span><span class="numeral"><span>28</span></span><span class="main"><span>,</span></span><span class="numeral"><span>59</span></span><span class="main"><span>,</span></span><span class="numeral"><span>54</span></span><span class="main"><span>,</span></span><span class="numeral"><span>65</span></span><span class="main"><span>,</span></span><span class="numeral"><span>74</span></span><span class="main"><span>,</span></span><span class="numeral"><span>69</span></span><span class="main"><span>,</span></span><span class="numeral"><span>48</span></span><span class="main"><span>,</span></span><span class="numeral"><span>7</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>42</span></span><span class="main"><span>,</span></span><span class="numeral"><span>79</span></span><span class="main"><span>,</span></span><span class="numeral"><span>66</span></span><span class="main"><span>,</span></span><span class="numeral"><span>71</span></span><span class="main"><span>,</span></span><span class="numeral"><span>76</span></span><span class="main"><span>,</span></span><span class="numeral"><span>61</span></span><span class="main"><span>,</span></span><span class="numeral"><span>56</span></span><span class="main"><span>,</span></span><span class="numeral"><span>21</span></span><span class="main"><span>,</span></span><span class="numeral"><span>34</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>29</span></span><span class="main"><span>,</span></span><span class="numeral"><span>16</span></span><span class="main"><span>,</span></span><span class="numeral"><span>77</span></span><span class="main"><span>,</span></span><span class="numeral"><span>60</span></span><span class="main"><span>,</span></span><span class="numeral"><span>55</span></span><span class="main"><span>,</span></span><span class="numeral"><span>70</span></span><span class="main"><span>,</span></span><span class="numeral"><span>75</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>,</span></span><span class="numeral"><span>47</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="numeral"><span>78</span></span><span class="main"><span>,</span></span><span class="numeral"><span>43</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>31</span></span><span class="main"><span>,</span></span><span class="numeral"><span>18</span></span><span class="main"><span>,</span></span><span class="numeral"><span>45</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>33</span></span><span class="main"><span>,</span></span><span class="numeral"><span>20</span></span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span>
  </span><span class="main"><span>[</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>30</span></span><span class="main"><span>,</span></span><span class="numeral"><span>17</span></span><span class="main"><span>,</span></span><span class="numeral"><span>44</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>32</span></span><span class="main"><span>,</span></span><span class="numeral"><span>19</span></span><span class="main"><span>,</span></span><span class="numeral"><span>46</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.kp_9x9_ul|fact"><span class="entity_def" id="KnightsTour.kp_9x9_ul|thm"><span>kp_9x9_ul</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b9x9|const"><span>b9x9</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp9x9ul|const"><span>kp9x9ul</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_exec_simp|fact"><span>knights_path_exec_simp</span></a><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span> 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The following lemma is a sub-proof used in Lemma 4 in </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>. 
</span><span>I moved the sub-proof out to a separate lemma.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_113089..113094">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_exists_even_n_gr10|fact"><span class="entity_def" id="KnightsTour.knights_circuit_exists_even_n_gr10|thm"><span>knights_circuit_exists_even_n_gr10</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> 
            </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113089..113094"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_113425..113435">ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113089..113094"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_113592..113605">ps<span class="hidden">â©</span><sub>2</sub>_m2_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113425..113435"><span>ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_knights_path|fact"><span>mirror2_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_mirror2|fact"><span>hd_mirror2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror2|fact"><span>last_mirror2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_113806..113816">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113089..113094"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_exists|fact"><span>knights_path_5xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_114045..114056">ps<span class="hidden">â©</span><sub>1</sub>'_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113806..113816"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_knights_path|fact"><span>trans_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_trans_path|fact"><span>hd_trans_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?psT</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_114364..114369">inter</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_114462..114467">union</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_concatT|fact"><span>board_concatT</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_114560..114562">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114045..114056"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113592..113605"><span>ps<span class="hidden">â©</span><sub>2</sub>_m2_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_114731..114735">vs_c</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114045..114056"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113592..113605"><span>ps<span class="hidden">â©</span><sub>2</sub>_m2_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114045..114056"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_113592..113605"><span>ps<span class="hidden">â©</span><sub>2</sub>_m2_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114364..114369"><span>inter</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114560..114562"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114462..114467"><span>union</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub>'</span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>_m2</span></span></span></span><span class="main"><span>]</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_114731..114735"><span>vs_c</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>min n m â¥ 5âº</span></span></span><span> and odd </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nâº</span></span></span><span> there exists a Knight's path that 
</span><span>starts in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(n,1)âº</span></span></span><span> (top-left) and ends in </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>(n-1,m-1)âº</span></span></span><span> (top-right).</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>This lemma formalizes Lemma 4 from </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>. Formalizing the proof of 
</span><span>this lemma was quite challenging as a lot of details on how to exactly combine the boards are 
</span><span>left out in the original proof in </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>cite</span></span><span> "</span><span>cull_decurtins_1987</span><span>"</span><span class="antiquote"><span>}</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_115573..115578">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_odd_n_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_odd_n_exists|thm"><span>knights_path_odd_n_exists</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="bound"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115573..115578"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115573..115578"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induction</span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>n</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.wellorder_class.less_induct|fact"><span>less_induct</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_115891..115895">less</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ul|const"><span>kp5x5ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_116291..116293">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ul|fact"><span>kp_5x5_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_116291..116293"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7ul|const"><span>kp5x7ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_116638..116640">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_ul|fact"><span>kp_5x7_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_116638..116640"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9ul|const"><span>kp5x9ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_116985..116987">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_ul|fact"><span>kp_5x9_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_116985..116987"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="skolem"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span>
                    </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists_even_n_gr10|fact"><span>knights_circuit_exists_even_n_gr10</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rotate_knights_circuit|fact"><span>rotate_knights_circuit</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_118431..118445">rev_ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_rev|fact"><span>knights_path_rev</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_rev|fact"><span>hd_rev</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_rev|fact"><span>last_rev</span></a><span class="main"><span>)</span></span><span>

        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x5ul|const"><span>kp5x5ul</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_118712..118722">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x5_ul|fact"><span>kp_5x5_ul</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>16</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_118958..118960">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_119069..119071">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

        </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_118712..118722"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_118431..118445"><span>rev_ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_118958..118960"><span>si</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_119069..119071"><span>vs</span></a><span>
              </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concat|fact"><span>knights_path_split_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_rot90_knights_path|fact"><span>hd_rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_rot90_knights_path|fact"><span>last_rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> 
          </span><span class="entity_def" id="offset_119626..119634">ps_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>n</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_119626..119634"><span>ps_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_rot90_knights_path|fact"><span>hd_rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_rot90_knights_path|fact"><span>last_rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_120303..120305">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr|fact"><span>kp_5x7_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_knights_path|fact"><span>mirror1_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_120303..120305"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp7x7ul|const"><span>kp7x7ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_120652..120654">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_7x7_ul|fact"><span>kp_7x7_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_120652..120654"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp7x9ul|const"><span>kp7x9ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_120999..121001">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_7x9_ul|fact"><span>kp_7x9_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_120999..121001"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="skolem"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span>
                    </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists_even_n_gr10|fact"><span>knights_circuit_exists_even_n_gr10</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_122326..122336">ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rotate_knights_circuit|fact"><span>rotate_knights_circuit</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_122535..122546">ps<span class="hidden">â©</span><sub>2</sub>T_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_122326..122336"><span>ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> 
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x7lr|const"><span>kp5x7lr</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_122829..122839">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x7|const"><span>b5x7</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x7_lr|fact"><span>kp_5x7_lr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>29</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>29</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>29</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_123068..123070">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_123179..123181">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

        </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>6</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_122829..122839"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_122535..122546"><span>ps<span class="hidden">â©</span><sub>2</sub>T_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_123068..123070"><span>si</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_123179..123181"><span>vs</span></a><span>
              </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concatT|fact"><span>knights_path_split_concatT</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_knights_path|fact"><span>mirror1_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_mirror1|fact"><span>hd_mirror1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror1|fact"><span>last_mirror1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_123699..123707">ps_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>n</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="skolem"><span>ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_123699..123707"><span>ps_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_rot90_knights_path|fact"><span>hd_rot90_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_rot90_knights_path|fact"><span>last_rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="skolem"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_124387..124389">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr|fact"><span>kp_5x9_lr</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_knights_path|fact"><span>mirror1_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_124387..124389"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp9x7ul|const"><span>kp9x7ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_124736..124738">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_9x7_ul|fact"><span>kp_9x7_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>7</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_124736..124738"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1|const"><span>mirror1</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp9x9ul|const"><span>kp9x9ul</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_125083..125085">kp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_9x9_ul|fact"><span>kp_9x9_ul</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rot90_knights_path|fact"><span>rot90_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>only</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>9</span></span><span>âº</span></span></span><span> </span><span class="main"><span class="keyword3"><span>|</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_125083..125085"><span>kp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>m</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span>"</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> 
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Presburger.html#Presburger.presburger|method"><span class="operator"><span>presburger</span></span></a><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>m</span></span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
            </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> 
              </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="skolem"><span>m</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>10</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span>
                    </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists_even_n_gr10|fact"><span>knights_circuit_exists_even_n_gr10</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_126410..126420">ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
            </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>3</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.rotate_knights_circuit|fact"><span>rotate_knights_circuit</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose|const"><span>transpose</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.rev|const"><span>rev</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_126625..126636">ps<span class="hidden">â©</span><sub>2</sub>T_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_126410..126420"><span>ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_rev|fact"><span>knights_path_rev</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> 
                </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_transpose|fact"><span>hd_transpose</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_transpose|fact"><span>last_transpose</span></a><span> 
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_square_def|fact"><span>transpose_square_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.hd_rev|fact"><span>hd_rev</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last_rev|fact"><span>last_rev</span></a><span class="main"><span>)</span></span><span>

        </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp5x9lr|const"><span>kp5x9lr</span></a><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_126977..126987">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.b5x9|const"><span>b5x9</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.kp_5x9_lr|fact"><span>kp_5x9_lr</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>16</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="numeral"><span>16</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eval|method"><span class="operator"><span>eval</span></span></a><span class="main"><span class="keyword3"><span>+</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_127216..127218">si</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in|const"><span>step_in</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.step_in_def|fact"><span>step_in_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Num.html#Num.linordered_nonzero_semiring_class.zero_less_numeral|fact"><span>zero_less_numeral</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

        </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_127327..127329">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>3</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

        </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><span class="numeral"><span>8</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_126977..126987"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_126625..126636"><span>ps<span class="hidden">â©</span><sub>2</sub>T_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_127216..127218"><span>si</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_127327..127329"><span>vs</span></a><span>
              </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_split_concatT|fact"><span>knights_path_split_concatT</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>m</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>T</span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>5</span></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="numeral"><span>4</span></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror1_knights_path|fact"><span>mirror1_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_mirror1|fact"><span>hd_mirror1</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror1|fact"><span>last_mirror1</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b<span class="hidden">â©</span><sub>2</sub></span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>â¤</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_128005..128013">kp_prems</span><span class="main"><span>:</span></span><span> 
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>4</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_115891..115895"><span>less.IH</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><span>(</span></span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="numeral"><span>5</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_128005..128013"><span>kp_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="skolem"><span>n</span></span><span> </span><span class="skolem"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_128005..128013"><span>kp_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_concat|fact"><span>knights_path_concat</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>n</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span class="main"><span>]</span></span><span> 
              </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path_non_nil|fact"><span>trans_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Auxiliary lemma that constructs a Knight's circuit if </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>m â¥ 5âº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>n â¥ 10 â§ even nâº</span></span></span><span>.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_128843..128848">lemma</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_exists_n_even_gr_10|fact"><span class="entity_def" id="KnightsTour.knights_circuit_exists_n_even_gr_10|thm"><span>knights_circuit_exists_n_even_gr_10</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_128843..128848"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_129011..129021">ps<span class="hidden">â©</span><sub>1</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_128843..128848"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_5xm_exists|fact"><span>knights_path_5xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_path|const"><span>trans_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>1</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?b5xm'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board|const"><span>trans_board</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="numeral"><span>5</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_129259..129270">ps<span class="hidden">â©</span><sub>1</sub>'_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="var"><span>?b5xm'</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.plus_class.plus|const"><span>+</span></a></span><span class="numeral"><span>2</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129011..129021"><span>ps<span class="hidden">â©</span><sub>1</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_knights_path|fact"><span>trans_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_trans_path|fact"><span>hd_trans_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_trans_path|fact"><span>last_trans_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_128843..128848"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_129594..129604">ps<span class="hidden">â©</span><sub>2</sub>_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_odd_n_exists|fact"><span>knights_path_odd_n_exists</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2|const"><span>mirror2</span></a><span> </span><span class="skolem"><span>ps<span class="hidden">â©</span><sub>2</sub></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_129802..129813">ps<span class="hidden">â©</span><sub>2</sub>'_prems</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><span>,</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> 
      </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Int.html#Int.int|const"><span>int</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.one_class.one|const"><span>1</span></a></span><span class="main"><span>,</span></span><span class="numeral"><span>2</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129594..129604"><span>ps<span class="hidden">â©</span><sub>2</sub>_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.mirror2_knights_path|fact"><span>mirror2_knights_path</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.hd_mirror2|fact"><span>hd_mirror2</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.last_mirror2|fact"><span>last_mirror2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_130006..130011">inter</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?b5xm'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.inter|const"><span>â©</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.empty|const"><span>{}</span></a></span><span>"</span></span></span><span> 
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.trans_board_def|fact"><span>trans_board_def</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_def|fact"><span>board_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_130101..130106">union</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="var"><span>?b5xm'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>âª</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board_concatT|fact"><span>board_concatT</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>m</span></span></span><span> </span><span class="quoted"><span class="numeral"><span>5</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_130217..130219">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129259..129270"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129802..129813"><span>ps<span class="hidden">â©</span><sub>2</sub>'_prems</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step_def|fact"><span>valid_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?ps</span></span></span></span><span class="main"><span>=</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>2</sub>'</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps<span class="hidden">â©</span><sub>1</sub>'</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129259..129270"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129802..129813"><span>ps<span class="hidden">â©</span><sub>2</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_non_nil|fact"><span>knights_path_non_nil</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_130523..130527">vs_c</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.valid_step|const"><span>valid_step</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.last|const"><span>last</span></a><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.hd|const"><span>hd</span></a><span> </span><span class="var"><span>?ps</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130217..130219"><span>vs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="var"><span>?ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129259..129270"><span>ps<span class="hidden">â©</span><sub>1</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_129802..129813"><span>ps<span class="hidden">â©</span><sub>2</sub>'_prems</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130006..130011"><span>inter</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130101..130106"><span>union</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130217..130219"><span>vs</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_append|fact"><span>knights_path_append</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130523..130527"><span>vs_c</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Final Theorem 1: For every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>min n m â¥ 5âº</span></span></span><span> and </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>n*mâº</span></span></span><span> even there exists a 
</span><span>Knight's circuit.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_130892..130899">theorem</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_circuit_exists|fact"><span class="entity_def" id="KnightsTour.knights_circuit_exists|thm"><span>knights_circuit_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>6</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_6xm_exists|fact"><span>knights_path_6xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="numeral"><span>8</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_8xm_exists|fact"><span>knights_path_8xm_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists_n_even_gr_10|fact"><span>knights_circuit_exists_n_even_gr_10</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>10</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>â§</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit|const"><span>knights_circuit</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_130892..130899"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists_n_even_gr_10|fact"><span>knights_circuit_exists_n_even_gr_10</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_circuit|fact"><span>transpose_knights_circuit</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Final Theorem 2: for every </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>nÃmâº</span></span></span><span>-board with </span><span class="antiquoted"><span class="raw_text"><span class="operator"><span>â¹</span></span><span>min n m â¥ 5âº</span></span></span><span> there exists a Knight's path.</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_132217..132224">theorem</span></span></span><span> </span><span class="entity_def" id="KnightsTour.knights_path_exists|fact"><span class="entity_def" id="KnightsTour.knights_path_exists|thm"><span>knights_path_exists</span></span></span><span class="main"><span>:</span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.min|const"><span>min</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.greater_eq|const"><span>â¥</span></a></span><span> </span><span class="numeral"><span>5</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>â</span></a></span><span class="bound"><span>ps</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>ps</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_132217..132224"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="free"><span>n</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disj|const"><span>â¨</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>elim</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.disjE|fact"><span>disjE</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_132217..132224"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_odd_n_exists|fact"><span>knights_path_odd_n_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.odd|const"><span>odd</span></a><span> </span><span class="free"><span>m</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path|const"><span>knights_path</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="KnightsTour.html#KnightsTour.board|const"><span>board</span></a><span> </span><span class="free"><span>m</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_132217..132224"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_path_odd_n_exists|fact"><span>knights_path_odd_n_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.transpose_knights_path|fact"><span>transpose_knights_path</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../../HOL/HOL/Parity.html#Parity.semiring_parity_class.even|const"><span>even</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>n</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.times_class.times|const"><span>*</span></a></span><span class="free"><span>m</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#offset_132217..132224"><span>assms</span></a><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_exists|fact"><span>knights_circuit_exists</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="KnightsTour.html#KnightsTour.knights_circuit_def|fact"><span>knights_circuit_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>THE END</span><span>âº</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div>