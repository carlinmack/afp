<div id='Ground_Reduction_on_LV'><body>
<div class="head">
<h1>Theory Terms_Positions</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Preliminaries</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Terms_Positions</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="../Regular_Tree_Relations/Ground_Terms.html"><span>Regular_Tree_Relations.Ground_Terms</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Additional operations on terms and positions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Linearity</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.linear_term.elims|fact"><span class="entity_def" id="Terms_Positions.linear_term.induct|fact"><span class="entity_def" id="Terms_Positions.linear_term.simps|fact"><span class="entity_def" id="Terms_Positions.linear_term.pelims|fact"><span class="entity_def" id="Terms_Positions.linear_term.cases|fact"><span class="entity_def" id="Terms_Positions.linear_term.termination|fact"><span class="entity_def" id="Terms_Positions.linear_term.pinduct|fact"><span class="entity_def" id="Terms_Positions.linear_term.psimps|fact"><span class="entity_def" id="Terms_Positions.linear_term_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.linear_term_rel.simps|fact"><span class="entity_def" id="Terms_Positions.linear_term_rel.induct|fact"><span class="entity_def" id="Terms_Positions.linear_term_rel.cases|fact"><span class="entity_def" id="Terms_Positions.linear_term_rel.intros|fact"><span class="entity_def" id="Terms_Positions.linear_term_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.linear_term_graph.simps|fact"><span class="entity_def" id="Terms_Positions.linear_term_graph.induct|fact"><span class="entity_def" id="Terms_Positions.linear_term_graph.cases|fact"><span class="entity_def" id="Terms_Positions.linear_term_graph.intros|fact"><span class="entity_def" id="Terms_Positions.linear_term.elims(3)|thm"><span class="entity_def" id="Terms_Positions.linear_term.elims(2)|thm"><span class="entity_def" id="Terms_Positions.linear_term.elims(1)|thm"><span class="entity_def" id="Terms_Positions.linear_term.induct|thm"><span class="entity_def" id="Terms_Positions.linear_term.simps(2)|thm"><span class="entity_def" id="Terms_Positions.linear_term.simps(1)|thm"><span class="entity_def" id="Terms_Positions.linear_term.pelims(3)|thm"><span class="entity_def" id="Terms_Positions.linear_term.pelims(2)|thm"><span class="entity_def" id="Terms_Positions.linear_term.pelims(1)|thm"><span class="entity_def" id="Terms_Positions.linear_term.cases|thm"><span class="entity_def" id="Terms_Positions.linear_term.termination|thm"><span class="entity_def" id="Terms_Positions.linear_term.pinduct|thm"><span class="entity_def" id="Terms_Positions.linear_term.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.linear_term.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.linear_term_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.linear_term_rel.simps|thm"><span class="entity_def" id="Terms_Positions.linear_term_rel.induct|thm"><span class="entity_def" id="Terms_Positions.linear_term_rel.cases|thm"><span class="entity_def" id="Terms_Positions.linear_term_rel.intros|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.simps|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.induct|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.cases|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.linear_term_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.linear_term_def|axiom"><span class="entity_def" id="Terms_Positions.linear_term_rel_def|axiom"><span class="entity_def" id="Terms_Positions.linear_term_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.linear_term_graph_def|axiom"><span class="entity_def" id="Terms_Positions.linear_term_dom|const"><span class="entity_def" id="Terms_Positions.linear_term_rel|const"><span class="entity_def" id="Terms_Positions.linear_term_sumC|const"><span class="entity_def" id="Terms_Positions.linear_term_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.linear_term|const"><span>linear_term</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>linear_term</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>linear_term</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="main"><span class="bound"><span class="entity"><span>_</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.is_partition|const"><span>is_partition</span></a><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>t</span></span><span class="main"><span>â</span></span><span>set</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>linear_term</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.linear_sys|const"><span>linear_sys</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="bound"><span>r</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Positions induced by contexts, by variables and by given subterms</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.possc_def|fact"><span class="entity_def" id="Terms_Positions.possc_def|thm"><span class="entity_def" id="Terms_Positions.possc_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.possc|const"><span>possc</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.varposs_def|fact"><span class="entity_def" id="Terms_Positions.varposs_def|thm"><span class="entity_def" id="Terms_Positions.varposs_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.varposs|const"><span>varposs</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.is_Var|const"><span>is_Var</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.poss_of_term_def|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_def|thm"><span class="entity_def" id="Terms_Positions.poss_of_term_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.poss_of_term|const"><span>poss_of_term</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Replacing functions symbols that aren't specified in the signature by variables</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.funas_rel_def|fact"><span class="entity_def" id="Terms_Positions.funas_rel_def|thm"><span class="entity_def" id="Terms_Positions.funas_rel_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.funas_rel|const"><span>funas_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.term_to_sig.elims|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.induct|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.simps|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.pelims|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.cases|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.termination|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.pinduct|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.psimps|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.simps|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.induct|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.cases|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.intros|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.simps|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.induct|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.cases|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.intros|fact"><span class="entity_def" id="Terms_Positions.term_to_sig.elims|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.induct|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.simps(2)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.simps(1)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.pelims|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.cases|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.termination|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.pinduct|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.simps|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.induct|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.cases|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_rel.intros|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.simps|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.induct|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.cases|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.term_to_sig_def|axiom"><span class="entity_def" id="Terms_Positions.term_to_sig_rel_def|axiom"><span class="entity_def" id="Terms_Positions.term_to_sig_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.term_to_sig_graph_def|axiom"><span class="entity_def" id="Terms_Positions.term_to_sig_dom|const"><span class="entity_def" id="Terms_Positions.term_to_sig_rel|const"><span class="entity_def" id="Terms_Positions.term_to_sig_sumC|const"><span class="entity_def" id="Terms_Positions.term_to_sig_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.term_to_sig|const"><span>term_to_sig</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_sig</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>term_to_sig</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>term_to_sig</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.elims|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.induct|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.simps|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pelims|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.cases|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.termination|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pinduct|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.psimps|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.simps|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.induct|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.cases|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.intros|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.simps|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.induct|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.cases|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.intros|fact"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.elims(3)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.elims(2)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.elims(1)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.induct|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.simps(2)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.simps(1)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pelims(3)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pelims(2)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pelims(1)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.cases|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.termination|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.pinduct|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.simps|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.induct|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.cases|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel.intros|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.simps|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.induct|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.cases|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_def|axiom"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel_def|axiom"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph_def|axiom"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_dom|const"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_rel|const"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_sumC|const"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ctxt_well_def_hole_path</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span> </span><span class="main"><span>â·</span></span><span> </span><span>True</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ctxt_well_def_hole_path</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>ctxt_well_def_hole_path</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.elims|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.pelims|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.termination|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.pinduct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.psimps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.intros|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.intros|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.elims|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.simps(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.simps(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.pelims|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.termination|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.pinduct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.simps|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel.intros|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.simps|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_dom|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_rel|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_sumC|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.inv_const_ctxt|const"><span>inv_const_ctxt</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv_const_ctxt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv_const_ctxt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
              </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>inv_const_ctxt</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.elims|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.pelims|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.termination|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.pinduct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.psimps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.intros|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.simps|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.induct|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.cases|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.intros|fact"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.elims|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.simps(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.simps(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.pelims|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.termination|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.pinduct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.simps|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel.intros|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.simps|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.induct|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.cases|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph_def|axiom"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_dom|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_rel|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_sumC|const"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.inv_const_ctxt&apos;|const"><span>inv_const_ctxt'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv_const_ctxt'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>inv_const_ctxt'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> 
              </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span class="main"><span>,</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>inv_const_ctxt'</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>#</span></span><span> </span><span>map</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>v</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Replace term at a given position in contexts</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.replace_term_context_at.elims|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.induct|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.simps|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.pelims|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.cases|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.termination|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.pinduct|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.psimps|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.inducts|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.simps|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.induct|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.cases|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.intros|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.inducts|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.simps|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.induct|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.cases|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.intros|fact"><span class="entity_def" id="Terms_Positions.replace_term_context_at.elims|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.induct|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.simps(2)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.simps(1)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.pelims|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.cases|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.termination|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.pinduct|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.psimps(2)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at.psimps(1)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.inducts|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.simps|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.induct|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.cases|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel.intros|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.inducts|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.simps|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.induct|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.cases|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.intros(3)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.intros(2)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph.intros(1)|thm"><span class="entity_def" id="Terms_Positions.replace_term_context_at_def|axiom"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel_def|axiom"><span class="entity_def" id="Terms_Positions.replace_term_context_at_sumC_def|axiom"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph_def|axiom"><span class="entity_def" id="Terms_Positions.replace_term_context_at_dom|const"><span class="entity_def" id="Terms_Positions.replace_term_context_at_rel|const"><span class="entity_def" id="Terms_Positions.replace_term_context_at_sumC|const"><span class="entity_def" id="Terms_Positions.replace_term_context_at_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.replace_term_context_at|const"><span>replace_term_context_at</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt|type"><span>ctxt</span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos|type"><span>pos</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt|type"><span>ctxt</span></a><span>"</span></span></span><span>
  </span><span class="main"><span>(</span></span><span class="quoted"><span>"</span><span>_</span><span class="keyword1"><span>[</span></span><span>_</span><span> </span><span class="keyword1"><span>â</span></span><span> </span><span>_</span><span class="keyword1"><span>]<span class="hidden">â©</span><sub>C</sub></span></span><span>"</span></span><span> </span><span class="main"><span>[</span></span><span>1000</span><span class="main"><span>,</span></span><span> 0</span><span class="main"><span>]</span></span><span> 1000</span><span class="main"><span>)</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>replace_term_context_at</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>â¡</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>p</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>â¡</span></a></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>replace_term_context_at</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
    </span><span class="main"><span>(</span></span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span class="main"><span>[</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span>
     </span><span class="keyword1"><span>else</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>replace_term_context_at</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span>
     </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>[</span></span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>i</span></span></span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ss</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span class="bound"><span class="entity"><span>ps</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Terms_Positions.constT|const"><span>constT</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Multihole context closure of a term relation as inductive set</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Terms_Positions.all_ctxt_closed_def|fact"><span class="entity_def" id="Terms_Positions.all_ctxt_closed_def|thm"><span class="entity_def" id="Terms_Positions.all_ctxt_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>all_ctxt_closed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>â¶</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>F</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Destruction and introduction of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.all_ctxt_closedD|fact"><span class="entity_def" id="Terms_Positions.all_ctxt_closedD|thm"><span>all_ctxt_closedD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span>length</span><span> </span><span class="free"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ss</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â§</span></span><span>
  </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.trans_ctxt_sig_imp_all_ctxt_closed|fact"><span class="entity_def" id="Terms_Positions.trans_ctxt_sig_imp_all_ctxt_closed|thm"><span>trans_ctxt_sig_imp_all_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span> </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3062..3066">tran</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>trans</span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3084..3088">refl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3132..3136">ctxt</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>C</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="bound"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>F</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>intro</span></span><span> </span><span>allI</span><span> </span><span>impI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="skolem"><span>ss</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3354..3355">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
         </span><span class="entity_def" id="offset_3390..3391">l</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
         </span><span class="entity_def" id="offset_3430..3435">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
         </span><span class="entity_def" id="offset_3490..3493">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âª</span></span><span>  </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3490..3493"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3577..3583">sig_ts</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span>set</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>set_conv_nth</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?p</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="bound"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>xsi</span></span><span> </span><span class="bound"><span>ysi</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>xsi</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>ysi</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>ysi</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3793..3797">init</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>conjI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3084..3088"><span>refl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3354..3355"><span>f</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3577..3583"><span>sig_ts</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3390..3391"><span>l</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.parallel_list_update|fact"><span>parallel_list_update</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> p </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?p</span></span></span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>and</span></span></span></span></span><span> r </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span class="quoted"><span class="var"><span>?r</span></span></span></span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> _ </span><span>HOL.refl</span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3793..3797"><span>init</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3390..3391"><span>l</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>y</span></span><span>
    </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3992..3995">len</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4032..4033">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4062..4063">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?r</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>y</span></span><span>"</span></span></span><span>
       </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4092..4093">p</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="skolem"><span>xs</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span>take</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span> </span><span class="main"><span>(</span></span><span>drop</span><span> </span><span class="main"><span>(</span></span><span>Suc</span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4169..4172">id1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>id_take_nth_drop</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4032..4033"><span>i</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3992..3995"><span>len</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4258..4261">id2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>upd_conv_take_nth_drop</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4032..4033"><span>i</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>folded</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3992..3995"><span>len</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4092..4093"><span>p</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4169..4172"><span>id1</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4380..4381">C</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4407..4409">xi</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4062..4063"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>y</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4498..4500">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3132..3136"><span>ctxt</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4380..4381"><span>C</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4407..4409"><span>xi</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4498..4500"><span>this</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4380..4381"><span>C</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4541..4542">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>xs</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4591..4592">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>F</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4169..4172"><span>id1</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4258..4261"><span>id2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4092..4093"><span>p</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4541..4542"><span>r</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3062..3066"><span>tran</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>trans_def</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_4591..4592"><span>f</span></a><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?p</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>xs</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>y</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3490..3493"><span>sig</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3430..3435"><span>steps</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>..</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_3084..3088"><span>refl</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Lemmas for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span class="antiquote"><span>}</span></span></span><span> and ordering of positions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subst_poss_mono|fact"><span class="entity_def" id="Terms_Positions.subst_poss_mono|thm"><span>subst_poss_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.par_pos_prefix|fact"><span class="entity_def" id="Terms_Positions.par_pos_prefix|thm"><span>par_pos_prefix</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="free"><span>q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.par_Cons_iff|fact"><span>par_Cons_iff</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.pos_diff_itself|fact"><span class="entity_def" id="Terms_Positions.pos_diff_itself|thm"><span>pos_diff_itself</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff_def|fact"><span>pos_diff_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.pos_les_eq_append_diff|fact"><span class="entity_def" id="Terms_Positions.pos_les_eq_append_diff|thm"><span>pos_les_eq_append_diff</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>option.sel</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff_def|fact"><span>pos_diff_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.remove_prefix_append|fact"><span>remove_prefix_append</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.pos_diff_append_itself|fact"><span class="entity_def" id="Terms_Positions.pos_diff_append_itself|thm"><span>pos_diff_append_itself</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff_def|fact"><span>pos_diff_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.remove_prefix_append|fact"><span>remove_prefix_append</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_pos_diffI|fact"><span class="entity_def" id="Terms_Positions.poss_pos_diffI|thm"><span>poss_pos_diffI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.less_eq_poss_append_itself|fact"><span class="entity_def" id="Terms_Positions.less_eq_poss_append_itself|thm"><span>less_eq_poss_append_itself</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_ctxt_apply|fact"><span class="entity_def" id="Terms_Positions.poss_ctxt_apply|thm"><span>poss_ctxt_apply</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.pos_replace_at_pres|fact"><span class="entity_def" id="Terms_Positions.pos_replace_at_pres|thm"><span>pos_replace_at_pres</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_5857..5861">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_5857..5861"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_5857..5861"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.par_pos_replace_pres|fact"><span class="entity_def" id="Terms_Positions.par_pos_replace_pres|thm"><span>par_pos_replace_pres</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6063..6067">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_6063..6067"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_6063..6067"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_list_update</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.par_Cons_iff|fact"><span>par_Cons_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6215..6220">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_termE|fact"><span class="entity_def" id="Terms_Positions.poss_of_termE|thm"><span>poss_of_termE</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_6215..6220"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_term_Cons|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_Cons|thm"><span>poss_of_term_Cons</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6508..6513">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_term_const_ctxt_apply|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_const_ctxt_apply|thm"><span>poss_of_term_const_ctxt_apply</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_6508..6513"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.par_Cons_iff|fact"><span>par_Cons_iff</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_Cons|fact"><span>poss_of_term_Cons</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Lemmas for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>subt_at</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>replace_term_at</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subt_at_append_dist|fact"><span class="entity_def" id="Terms_Positions.subt_at_append_dist|thm"><span>subt_at_append_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>q</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ctxt_apply_term_subt_at_hole_pos|fact"><span class="entity_def" id="Terms_Positions.ctxt_apply_term_subt_at_hole_pos|thm"><span>ctxt_apply_term_subt_at_hole_pos</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>q</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subst_subt_at_dist|fact"><span class="entity_def" id="Terms_Positions.subst_subt_at_dist|thm"><span>subst_subt_at_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.replace_term_at_subt_at_id|fact"><span class="entity_def" id="Terms_Positions.replace_term_at_subt_at_id|thm"><span>replace_term_at_subt_at_id</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.replace_term_at_same_pos|fact"><span class="entity_def" id="Terms_Positions.replace_term_at_same_pos|thm"><span>replace_term_at_same_pos</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_refl|fact"><span>position_less_refl</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at_above|fact"><span>replace_term_at_above</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Replacement at under substitution</span><span>âº</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subt_at_vars_term|fact"><span class="entity_def" id="Terms_Positions.subt_at_vars_term|thm"><span>subt_at_vars_term</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>UnCI</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.set_intros|fact"><span>term.set_intros</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.vars_term_ctxt_apply|fact"><span>vars_term_ctxt_apply</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.linear_term_varposs_subst_replace_term|fact"><span class="entity_def" id="Terms_Positions.linear_term_varposs_subst_replace_term|thm"><span>linear_term_varposs_subst_replace_term</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span>
     </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8068..8072">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8068..8072"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8068..8072"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span> </span><span>nth_list_update</span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq_conv|fact"><span>term_subst_eq_conv</span></a><span>
      </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.is_partition_alt|fact"><span>is_partition_alt</span></a><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.is_partition_alt_def|fact"><span>is_partition_alt_def</span></a><span> </span><span>disjoint_iff</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subt_at_vars_term|fact"><span>subt_at_vars_term</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Replacement at context parallel to the hole position</span><span>âº</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.par_hole_pos_replace_term_context_at|fact"><span class="entity_def" id="Terms_Positions.par_hole_pos_replace_term_context_at|thm"><span>par_hole_pos_replace_term_context_at</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_context_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_context_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="keyword1"><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_context_at|const"><span>]<span class="hidden">â©</span><sub>C</sub></span></a></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8532..8536">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8532..8536"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ss</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span> 
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8532..8536"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>D</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8532..8536"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>list_update_append</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span> </span><span>minus_nat.simps</span><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nat.splits</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.par_pos_replace_term_at|fact"><span class="entity_def" id="Terms_Positions.par_pos_replace_term_at|thm"><span>par_pos_replace_term_at</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8890..8894">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8890..8894"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_8890..8894"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>metis</span></span><span> </span><span>nth_list_update</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.par_Cons_iff|fact"><span>par_Cons_iff</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.less_eq_subt_at_replace|fact"><span class="entity_def" id="Terms_Positions.less_eq_subt_at_replace|thm"><span>less_eq_subt_at_replace</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9176..9180">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9176..9180"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9176..9180"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.greater_eq_subt_at_replace|fact"><span class="entity_def" id="Terms_Positions.greater_eq_subt_at_replace|thm"><span>greater_eq_subt_at_replace</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>q</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>q</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9420..9424">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9420..9424"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9420..9424"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.replace_subterm_at_itself|fact"><span class="entity_def" id="Terms_Positions.replace_subterm_at_itself|thm"><span>replace_subterm_at_itself</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9651..9655">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9651..9655"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.hole_pos_replace_term_at|fact"><span class="entity_def" id="Terms_Positions.hole_pos_replace_term_at|thm"><span>hole_pos_replace_term_at</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>More</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9943..9948">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span class="entity_def" id="Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|thm"><span>ctxt_of_pos_term_apply_replace_at_ident</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_9943..9948"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_10107..10111">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10107..10111"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10107..10111"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ctxt_apply_term_replace_term_hole_pos|fact"><span class="entity_def" id="Terms_Positions.ctxt_apply_term_replace_term_hole_pos|thm"><span>ctxt_apply_term_replace_term_hole_pos</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="free"><span>q</span></span><span>  </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>q</span></span><span>  </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff_def|fact"><span>pos_diff_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.remove_prefix_append|fact"><span>remove_prefix_append</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ctxt_apply_subt_at_hole_pos|fact"><span class="entity_def" id="Terms_Positions.ctxt_apply_subt_at_hole_pos|thm"><span>ctxt_apply_subt_at_hole_pos</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10507..10512">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subt_at_imp_supteq&apos;|fact"><span class="entity_def" id="Terms_Positions.subt_at_imp_supteq&apos;|thm"><span>subt_at_imp_supteq'</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.supteq_pred|const"><span>âµ</span></a></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10507..10512"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_10636..10640">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10636..10640"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10636..10640"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10738..10743">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.subt_at_imp_supteq|fact"><span class="entity_def" id="Terms_Positions.subt_at_imp_supteq|thm"><span>subt_at_imp_supteq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.supteq_pred|const"><span>âµ</span></a></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span class="free"><span>p</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
 </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span class="free"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
 </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_10738..10743"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subt_at_imp_supteq&apos;|fact"><span>subt_at_imp_supteq'</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span class="antiquote"><span>}</span></span></span><span> invariants and distributions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.fuans_term_term_to_sig|fact"><span class="entity_def" id="Terms_Positions.fuans_term_term_to_sig|thm"><span>fuans_term_term_to_sig</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.term_to_sig_id|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_id|thm"><span>term_to_sig_id</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span> </span><span>map_idI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.term_to_sig_subst_sig|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_subst_sig|thm"><span>term_to_sig_subst_sig</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span>  </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_ctxt_ctxt_inv_const_ctxt_ind|fact"><span class="entity_def" id="Terms_Positions.funas_ctxt_ctxt_inv_const_ctxt_ind|thm"><span>funas_ctxt_ctxt_inv_const_ctxt_ind</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.inv_const_ctxt|const"><span>inv_const_ctxt</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.term_to_sig_ctxt_apply|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_ctxt_apply|thm"><span>term_to_sig_ctxt_apply</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.inv_const_ctxt|const"><span>inv_const_ctxt</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.term_to_sig_ctxt_apply&apos;|fact"><span class="entity_def" id="Terms_Positions.term_to_sig_ctxt_apply&apos;|thm"><span>term_to_sig_ctxt_apply'</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.inv_const_ctxt&apos;|const"><span>inv_const_ctxt'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_ctxt_ctxt_well_def_hole_path|fact"><span class="entity_def" id="Terms_Positions.funas_ctxt_ctxt_well_def_hole_path|thm"><span>funas_ctxt_ctxt_well_def_hole_path</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>C</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Misc</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_term_subt_at|fact"><span class="entity_def" id="Terms_Positions.funas_term_subt_at|thm"><span>funas_term_subt_at</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="bound"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_12063..12067">case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_12084..12086">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12063..12067"><span>this</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>n</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>i</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_12186..12187">i</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12084..12086"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.in_set_idx|fact"><span>in_set_idx</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12271..12273">by</span></span></span><span> </span><span class="operator"><span>force</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12084..12086"><span>IH</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12271..12273"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12271..12273"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12186..12187"><span>i</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_Cons_poss|fact"><span>poss_Cons_poss</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at.simps|fact"><span>subt_at.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.sel|fact"><span>term.sel</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.finite_poss|fact"><span class="entity_def" id="Terms_Positions.finite_poss|thm"><span>finite_poss</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>finite</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_12495..12498">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>insert</span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span>set</span><span> </span><span class="main"><span>(</span></span><span>map2</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(#)</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>`</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>0</span></span><span class="main"><span>..&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>(</span></span><span>map</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>image_iff</span><span> </span><span>set_zip</span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_12495..12498"><span>Fun</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss.simps|fact"><span>poss.simps</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>set_zip_rightD</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.finite_varposs|fact"><span class="entity_def" id="Terms_Positions.finite_varposs|thm"><span>finite_varposs</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>finite</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>finite_subset</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a></a></a><span> </span><span class="free"><span class="free"><span class="free"><span>s</span></span></span></span><span>"</span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a></a></a><span> </span><span class="free"><span class="free"><span class="free"><span>s</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.finite_poss|fact"><span>finite_poss</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.gound_linear|fact"><span class="entity_def" id="Terms_Positions.gound_linear|thm"><span>gound_linear</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.is_partition_alt|fact"><span>is_partition_alt</span></a><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.is_partition_alt_def|fact"><span>is_partition_alt_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_substI|fact"><span>ground_substI</span></a><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ground_ctxt_substI|fact"><span class="entity_def" id="Terms_Positions.ground_ctxt_substI|thm"><span>ground_ctxt_substI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.vars_ctxt|const"><span>vars_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_ctxt|const"><span>ground_ctxt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.subst_apply_ctxt|const"><span>â<span class="hidden">â©</span><sub>c</sub></span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_ctxt_subst_apply_ctxt|fact"><span class="entity_def" id="Terms_Positions.funas_ctxt_subst_apply_ctxt|thm"><span>funas_ctxt_subst_apply_ctxt</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.subst_apply_ctxt|const"><span>â<span class="hidden">â©</span><sub>c</sub></span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>`</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>`</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.vars_ctxt|const"><span>vars_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>More</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.varposs_Var|fact"><span class="entity_def" id="Terms_Positions.varposs_Var|thm"><span>varposs_Var</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>[]</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.varposs_Fun|fact"><span class="entity_def" id="Terms_Positions.varposs_Fun|thm"><span>varposs_Fun</span></span></span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.vars_term_varposs_iff|fact"><span class="entity_def" id="Terms_Positions.vars_term_varposs_iff|thm"><span>vars_term_varposs_iff</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_13721..13724">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_13721..13724"><span>Fun</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>in_set_conv_nth</span><span> </span><span>Bex_def</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.vars_term_empty_ground|fact"><span class="entity_def" id="Terms_Positions.vars_term_empty_ground|thm"><span>vars_term_empty_ground</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>equals0D</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_substI|fact"><span>ground_substI</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_ident|fact"><span>subst_ident</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.ground_subst_apply|fact"><span class="entity_def" id="Terms_Positions.ground_subst_apply|thm"><span>ground_subst_apply</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.varposs_imp_poss|fact"><span class="entity_def" id="Terms_Positions.varposs_imp_poss|thm"><span>varposs_imp_poss</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.varposs_empty_gound|fact"><span class="entity_def" id="Terms_Positions.varposs_empty_gound|thm"><span>varposs_empty_gound</span></span></span><span class="main"><span>:</span></span><span>
 </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>in_set_conv_nth</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_term_subterm_atI|fact"><span class="entity_def" id="Terms_Positions.funas_term_subterm_atI|thm"><span>funas_term_subterm_atI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span> </span><span>le_sup_iff</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.varposs_ground_replace_at|fact"><span class="entity_def" id="Terms_Positions.varposs_ground_replace_at|thm"><span>varposs_ground_replace_at</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="free"><span>p</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_empty_gound|fact"><span>varposs_empty_gound</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14600..14604">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_14600..14604"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_14600..14604"><span>Cons</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14704..14707">var</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_14600..14604"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_14704..14707"><span>var</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_14600..14604"><span>Cons</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span class="main"><span>[</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>=</span></span><span>
           </span><span class="main"><span>{</span></span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>|</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>j</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span class="main"><span>{</span></span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>j</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>j</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_list_update</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_term_replace_at_upper|fact"><span class="entity_def" id="Terms_Positions.funas_term_replace_at_upper|thm"><span>funas_term_replace_at_upper</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_15131..15135">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_15131..15135"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>in_set_conv_nth</span><span> </span><span>nth_list_update</span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.funas_term_replace_at_lower|fact"><span class="entity_def" id="Terms_Positions.funas_term_replace_at_lower|thm"><span>funas_term_replace_at_lower</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_15408..15412">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_15408..15412"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_15408..15412"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>in_set_conv_nth</span><span> </span><span>nth_list_update</span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_term_possI|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_possI|thm"><span>poss_of_term_possI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span class="main"><span class="main"><span class="main"><span>!</span></span></span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>u</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_term_replace_term_at|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_replace_term_at|thm"><span>poss_of_term_replace_term_at</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.constT_nfunas_term_poss_of_term_empty|fact"><span class="entity_def" id="Terms_Positions.constT_nfunas_term_poss_of_term_empty|thm"><span>constT_nfunas_term_poss_of_term_empty</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subt_at|fact"><span>funas_term_subt_at</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span> </span><span class="quoted"><span class="main"><span>0</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subterm_atI|fact"><span>funas_term_subterm_atI</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?â±</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16157..16162">lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.poss_of_term_poss_emptyD|fact"><span class="entity_def" id="Terms_Positions.poss_of_term_poss_emptyD|thm"><span>poss_of_term_poss_emptyD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>u</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_16157..16162"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Terms_Positions.possc_subt_at_ctxt_apply|fact"><span class="entity_def" id="Terms_Positions.possc_subt_at_ctxt_apply|thm"><span>possc_subt_at_ctxt_apply</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc|const"><span>possc</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_16435..16439">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>dest</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc|const"><span>possc</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc|const"><span>possc</span></a><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="skolem"><span>ts</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc_def|fact"><span>possc_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#offset_16435..16439"><span>Cons</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>
<div class="head">
<h1>Theory Rewriting</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Rewriting</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Rewriting</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Terms_Positions.html"><span>Terms_Positions</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Basic rewrite definitions</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Rewrite steps with implicit signature declaration (encoded in the type)</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting.rrstep.inducts|fact"><span class="entity_def" id="Rewriting.rrstep.simps|fact"><span class="entity_def" id="Rewriting.rrstep.induct|fact"><span class="entity_def" id="Rewriting.rrstep.cases|fact"><span class="entity_def" id="Rewriting.rrstep.intros|fact"><span class="entity_def" id="Rewriting.rrstepp_rrstep_eq|fact"><span class="entity_def" id="Rewriting.rrstep_def|fact"><span class="entity_def" id="Rewriting.rrstepp.inducts|fact"><span class="entity_def" id="Rewriting.rrstepp.simps|fact"><span class="entity_def" id="Rewriting.rrstepp.induct|fact"><span class="entity_def" id="Rewriting.rrstepp.cases|fact"><span class="entity_def" id="Rewriting.rrstepp.intros|fact"><span class="entity_def" id="Rewriting.rrstep.inducts|thm"><span class="entity_def" id="Rewriting.rrstep.simps|thm"><span class="entity_def" id="Rewriting.rrstep.induct|thm"><span class="entity_def" id="Rewriting.rrstep.cases|thm"><span class="entity_def" id="Rewriting.rrstep.intros|thm"><span class="entity_def" id="Rewriting.rrstepp_rrstep_eq|thm"><span class="entity_def" id="Rewriting.rrstep_def|thm"><span class="entity_def" id="Rewriting.rrstepp.inducts|thm"><span class="entity_def" id="Rewriting.rrstepp.simps|thm"><span class="entity_def" id="Rewriting.rrstepp.induct|thm"><span class="entity_def" id="Rewriting.rrstepp.cases|thm"><span class="entity_def" id="Rewriting.rrstepp.intros|thm"><span class="entity_def" id="Rewriting.rrstep_def|axiom"><span class="entity_def" id="Rewriting.rrstepp_def|axiom"><span>inductive_set</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting.rrstep|const"><span class="entity_def" id="Rewriting.rrstepp|const"><span>rrstep</span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>â</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>l</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>Ï</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>rrstep</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting.rstep.inducts|fact"><span class="entity_def" id="Rewriting.rstep.simps|fact"><span class="entity_def" id="Rewriting.rstep.induct|fact"><span class="entity_def" id="Rewriting.rstep.cases|fact"><span class="entity_def" id="Rewriting.rstep.intros|fact"><span class="entity_def" id="Rewriting.rstepp_rstep_eq|fact"><span class="entity_def" id="Rewriting.rstep_def|fact"><span class="entity_def" id="Rewriting.rstepp.inducts|fact"><span class="entity_def" id="Rewriting.rstepp.simps|fact"><span class="entity_def" id="Rewriting.rstepp.induct|fact"><span class="entity_def" id="Rewriting.rstepp.cases|fact"><span class="entity_def" id="Rewriting.rstepp.intros|fact"><span class="entity_def" id="Rewriting.rstep.inducts|thm"><span class="entity_def" id="Rewriting.rstep.simps|thm"><span class="entity_def" id="Rewriting.rstep.induct|thm"><span class="entity_def" id="Rewriting.rstep.cases|thm"><span class="entity_def" id="Rewriting.rstep.intros|thm"><span class="entity_def" id="Rewriting.rstepp_rstep_eq|thm"><span class="entity_def" id="Rewriting.rstep_def|thm"><span class="entity_def" id="Rewriting.rstepp.inducts|thm"><span class="entity_def" id="Rewriting.rstepp.simps|thm"><span class="entity_def" id="Rewriting.rstepp.induct|thm"><span class="entity_def" id="Rewriting.rstepp.cases|thm"><span class="entity_def" id="Rewriting.rstepp.intros|thm"><span class="entity_def" id="Rewriting.rstep_def|axiom"><span class="entity_def" id="Rewriting.rstepp_def|axiom"><span>inductive_set</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting.rstep|const"><span class="entity_def" id="Rewriting.rstepp|const"><span>rstep</span></span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="entity"><span>â</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>C</span></span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>rstep</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Restrict relations to terms induced by a given signature</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting.sig_step_def|fact"><span class="entity_def" id="Rewriting.sig_step_def|thm"><span class="entity_def" id="Rewriting.sig_step_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting.sig_step|const"><span>sig_step</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Restr</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>Collect</span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>s</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Rewriting under a given signature/restricted to ground terms</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting.srrstep|const"><span>srrstep</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting.srstep|const"><span>srstep</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting.gsrstep|const"><span>gsrstep</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span>Restr</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Collect</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Rewriting sequences involving a root step</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="main"><span>(</span></span><span>input</span><span class="main"><span>)</span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting.relto|const"><span>relto</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>relto</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>^*</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>R</span></span></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>S</span></span></span></span><span class="main"><span>^*</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting.srsteps_with_root_step_def|fact"><span class="entity_def" id="Rewriting.srsteps_with_root_step_def|thm"><span class="entity_def" id="Rewriting.srsteps_with_root_step_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.relto|const"><span>relto</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Monotonicity laws</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.Restr_mono|fact"><span class="entity_def" id="Rewriting.Restr_mono|thm"><span>Restr_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Restr</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.Restr_trancl_mono_set|fact"><span class="entity_def" id="Rewriting.Restr_trancl_mono_set|thm"><span>Restr_trancl_mono_set</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Restr</span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span> </span><span class="main"><span>Ã</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_subset_Sigma</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rrstep_rstep_mono|fact"><span class="entity_def" id="Rewriting.rrstep_rstep_mono|thm"><span>rrstep_rstep_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep.intros|fact"><span>rstep.intros</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span> </span><span class="quoted"><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>â¡</span></a></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>simplified</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_mono|fact"><span class="entity_def" id="Rewriting.sig_step_mono|thm"><span>sig_step_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_mono2|fact"><span class="entity_def" id="Rewriting.sig_step_mono2|thm"><span>sig_step_mono2</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srrstep_monp|fact"><span class="entity_def" id="Rewriting.srrstep_monp|thm"><span>srrstep_monp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstep_monp|fact"><span class="entity_def" id="Rewriting.srstep_monp|thm"><span>srstep_monp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_monp|fact"><span class="entity_def" id="Rewriting.srsteps_monp|thm"><span>srsteps_monp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.trancl_mono_set|fact"><span>trancl_mono_set</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_eq_monp|fact"><span class="entity_def" id="Rewriting.srsteps_eq_monp|thm"><span>srsteps_eq_monp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>rtrancl_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span> </span><span>subrelI</span><span> </span><span>subsetD</span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_with_root_step_sig_mono|fact"><span class="entity_def" id="Rewriting.srsteps_with_root_step_sig_mono|thm"><span>srsteps_with_root_step_sig_mono</span></span></span><span class="main"><span>:</span></span><span>
   </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>relcomp_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_monp|fact"><span>srrstep_monp</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_monp|fact"><span>srsteps_eq_monp</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Introduction, elimination, and destruction rules for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span class="antiquote"><span>}</span></span></span><span>, </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span class="antiquote"><span>}</span></span></span><span>, </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span class="antiquote"><span>}</span></span></span><span>,
</span><span>   </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span class="antiquote"><span>}</span></span></span><span>, and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_stepE|fact"><span class="entity_def" id="Rewriting.sig_stepE|thm"><span>sig_stepE</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>â¦</span></span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_stepI|fact"><span class="entity_def" id="Rewriting.sig_stepI|thm"><span>sig_stepI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2642..2647">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rrstep_subst|fact"><span class="entity_def" id="Rewriting.rrstep_subst|thm"><span>rrstep_subst</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_2642..2647"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.simps|fact"><span>rrstep.simps</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2811..2816">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_imp_C_s_r|fact"><span class="entity_def" id="Rewriting.rstep_imp_C_s_r|thm"><span>rstep_imp_C_s_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>C</span></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="bound"><span>l</span></span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span class="bound"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="bound"><span>r</span></span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span class="bound"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_2811..2816"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.cases|fact"><span>rrstep.cases</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep.simps|fact"><span>rstep.simps</span></a><span class="main"><span>)</span></span><span>

  
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2972..2977">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_imp_C_s_r&apos;|fact"><span class="entity_def" id="Rewriting.rstep_imp_C_s_r&apos;|thm"><span>rstep_imp_C_s_r'</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>elim</span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>consumes</span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>obtains</span></span></span><span> </span><span class="free"><span>C</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_2972..2977"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rrstep_basicI|fact"><span class="entity_def" id="Rewriting.rrstep_basicI|thm"><span>rrstep_basicI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstepp.intros|fact"><span>rrstepp.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstepp_rrstep_eq|fact"><span>rrstepp_rrstep_eq</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term_empty|fact"><span>subst_apply_term_empty</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_ruleI|fact"><span class="entity_def" id="Rewriting.rstep_ruleI|thm"><span>rstep_ruleI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep_rstep_mono|fact"><span>rrstep_rstep_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstepI|fact"><span class="entity_def" id="Rewriting.rstepI|thm"><span>rstepI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep.intros|fact"><span>rstep.intros</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_substI|fact"><span class="entity_def" id="Rewriting.rstep_substI|thm"><span>rstep_substI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r&apos;|fact"><span>rstep_imp_C_s_r'</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_subst_compose|fact"><span>subst_subst_compose</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_ctxtI|fact"><span class="entity_def" id="Rewriting.rstep_ctxtI|thm"><span>rstep_ctxtI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r&apos;|fact"><span>rstep_imp_C_s_r'</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_ctxt_compose|fact"><span>ctxt_ctxt_compose</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srrstepD|fact"><span class="entity_def" id="Rewriting.srrstepD|thm"><span>srrstepD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstepD|fact"><span class="entity_def" id="Rewriting.srstepD|thm"><span>srstepD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstepsD|fact"><span class="entity_def" id="Rewriting.srstepsD|thm"><span>srstepsD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.trancl_mono_set|fact"><span>trancl_mono_set</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_mono|fact"><span>Restr_mono</span></a><span class="main"><span>]</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_trancl_mono_set|fact"><span>Restr_trancl_mono_set</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Transitive and relfexive closure distribution over </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.funas_rel_converse|fact"><span class="entity_def" id="Rewriting.funas_rel_converse|thm"><span>funas_rel_converse</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4487..4492">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_term_to_sig_r|fact"><span class="entity_def" id="Rewriting.rstep_term_to_sig_r|thm"><span>rstep_term_to_sig_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4487..4492"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="offset_4680..4681">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4487..4492"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4680..4681"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4680..4681"><span>*</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><span>subset_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4680..4681"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4680..4681"><span>*</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_ctxt_ctxt_well_def_hole_path|fact"><span>funas_ctxt_ctxt_well_def_hole_path</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_4487..4492"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5071..5076">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_term_to_sig_l|fact"><span class="entity_def" id="Rewriting.rstep_term_to_sig_l|thm"><span>rstep_term_to_sig_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5071..5076"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="offset_5264..5265">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5071..5076"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5264..5265"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5264..5265"><span>*</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><span>subset_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5264..5265"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5264..5265"><span>*</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_ctxt_ctxt_well_def_hole_path|fact"><span>funas_ctxt_ctxt_well_def_hole_path</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5071..5076"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5655..5660">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_trancl_sig_step_r|fact"><span class="entity_def" id="Rewriting.rstep_trancl_sig_step_r|thm"><span>rstep_trancl_sig_step_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_5655..5660"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.fuans_term_term_to_sig|fact"><span>fuans_term_term_to_sig</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_term_to_sig_r|fact"><span>rstep_term_to_sig_r</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>r_into_trancl</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6014..6018">step</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6036..6038">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6014..6018"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span>  </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="offset_6131..6132">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>C</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_6253..6257">True</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6131..6132"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6014..6018"><span>step</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6253..6257"><span>True</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_6014..6018"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6131..6132"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6131..6132"><span>*</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span>_ </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6036..6038"><span>st</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6131..6132"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6036..6038"><span>st</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6763..6768">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_trancl_sig_step_l|fact"><span class="entity_def" id="Rewriting.rstep_trancl_sig_step_l|thm"><span>rstep_trancl_sig_step_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_6763..6768"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.fuans_term_term_to_sig|fact"><span>fuans_term_term_to_sig</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_term_to_sig_l|fact"><span>rstep_term_to_sig_l</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>r_into_trancl</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_7151..7155">step</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7173..7175">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7151..7155"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
    </span><span class="entity_def" id="offset_7267..7268">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_well_def_hole_path|const"><span>ctxt_well_def_hole_path</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>C</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7389..7393">True</span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7267..7268"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7151..7155"><span>step</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7389..7393"><span>True</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_7151..7155"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7267..7268"><span>*</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7267..7268"><span>*</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span>_ </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7173..7175"><span>st</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7267..7268"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_7173..7175"><span>st</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_srstepI|fact"><span class="entity_def" id="Rewriting.rstep_srstepI|thm"><span>rstep_srstepI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rsteps_srstepsI|fact"><span class="entity_def" id="Rewriting.rsteps_srstepsI|thm"><span>rsteps_srstepsI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_trancl_sig_step_r|fact"><span>rstep_trancl_sig_step_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rsteps_eq_srsteps_eqI|fact"><span class="entity_def" id="Rewriting.rsteps_eq_srsteps_eqI|thm"><span>rsteps_eq_srsteps_eqI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8421..8426">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span class="entity_def" id="Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|thm"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8528..8533">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8581..8586">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_8581..8586"><span>steps</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_trancl_sig_step_l|fact"><span>rstep_trancl_sig_step_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Rewriting.html#offset_8421..8426"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_8528..8533"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_trancl_sig_step_r|fact"><span>rstep_trancl_sig_step_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Rewriting.html#offset_8421..8426"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_8528..8533"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>v</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_8528..8533"><span>funas</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>    


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Distributivity laws</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_smycl_dist|fact"><span class="entity_def" id="Rewriting.rstep_smycl_dist|thm"><span>rstep_smycl_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_symcl_dist|fact"><span class="entity_def" id="Rewriting.sig_step_symcl_dist|thm"><span>sig_step_symcl_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstep_symcl_dist|fact"><span class="entity_def" id="Rewriting.srstep_symcl_dist|thm"><span>srstep_symcl_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.Restr_smycl_dist|fact"><span class="entity_def" id="Rewriting.Restr_smycl_dist|thm"><span>Restr_smycl_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Restr</span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Restr</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Rewriting.rew_symcl_inwards|fact"><span class="entity_def" id="Rewriting.rew_symcl_inwards(4)|thm"><span class="entity_def" id="Rewriting.rew_symcl_inwards(3)|thm"><span class="entity_def" id="Rewriting.rew_symcl_inwards(2)|thm"><span class="entity_def" id="Rewriting.rew_symcl_inwards(1)|thm"><span>rew_symcl_inwards</span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_smycl_dist|fact"><span>rstep_smycl_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_symcl_dist|fact"><span>sig_step_symcl_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_smycl_dist|fact"><span>Restr_smycl_dist</span></a><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Rewriting.rew_symcl_outwards|fact"><span class="entity_def" id="Rewriting.rew_symcl_outwards(4)|thm"><span class="entity_def" id="Rewriting.rew_symcl_outwards(3)|thm"><span class="entity_def" id="Rewriting.rew_symcl_outwards(2)|thm"><span class="entity_def" id="Rewriting.rew_symcl_outwards(1)|thm"><span>rew_symcl_outwards</span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_symcl_inwards|fact"><span>rew_symcl_inwards</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_converse_dist|fact"><span class="entity_def" id="Rewriting.rstep_converse_dist|thm"><span>rstep_converse_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srrstep_converse_dist|fact"><span class="entity_def" id="Rewriting.srrstep_converse_dist|thm"><span>srrstep_converse_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_converse_rstep|fact"><span class="entity_def" id="Rewriting.sig_step_converse_rstep|thm"><span>sig_step_converse_rstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>converse.simps</span><span> </span><span>set_eq_subset</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><span>subrelI</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstep_converse_dist|fact"><span class="entity_def" id="Rewriting.srstep_converse_dist|thm"><span>srstep_converse_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.Restr_converse|fact"><span class="entity_def" id="Rewriting.Restr_converse|thm"><span>Restr_converse</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span>Restr</span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>A</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Restr</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>A</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Rewriting.rew_converse_inwards|fact"><span class="entity_def" id="Rewriting.rew_converse_inwards(5)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(4)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(3)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(2)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(1)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(7)|thm"><span class="entity_def" id="Rewriting.rew_converse_inwards(6)|thm"><span>rew_converse_inwards</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_converse_dist|fact"><span>srrstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span>
   </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_converse|fact"><span>Restr_converse</span></a><span> </span><span>trancl_converse</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><span>rtrancl_converse</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Rewriting.rew_converse_outwards|fact"><span class="entity_def" id="Rewriting.rew_converse_outwards(7)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(6)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(5)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(4)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(3)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(2)|thm"><span class="entity_def" id="Rewriting.rew_converse_outwards(1)|thm"><span>rew_converse_outwards</span></span></span></span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_rsteps_dist|fact"><span class="entity_def" id="Rewriting.sig_step_rsteps_dist|thm"><span>sig_step_rsteps_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_rsteps_eq_dist|fact"><span class="entity_def" id="Rewriting.sig_step_rsteps_eq_dist|thm"><span>sig_step_rsteps_eq_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><span>Id</span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_rsteps_dist|fact"><span>sig_step_rsteps_dist</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_conversion_dist|fact"><span class="entity_def" id="Rewriting.sig_step_conversion_dist|thm"><span>sig_step_conversion_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_rsteps_dist|fact"><span>sig_step_rsteps_dist</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.gsrstep_conversion_dist|fact"><span class="entity_def" id="Rewriting.gsrstep_conversion_dist|thm"><span>gsrstep_conversion_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_symcl_inwards|fact"><span>rew_symcl_inwards</span></a><span class="main"><span>)</span></span><span>
                                                                                         
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_step_grstep_dist|fact"><span class="entity_def" id="Rewriting.sig_step_grstep_dist|thm"><span>sig_step_grstep_dist</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span>Restr</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Collect</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Substitution closure of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11218..11223">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstep_subst_closed|fact"><span class="entity_def" id="Rewriting.srstep_subst_closed|thm"><span>srstep_subst_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11218..11223"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11404..11409">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_subst_closed|fact"><span class="entity_def" id="Rewriting.srsteps_subst_closed|thm"><span>srsteps_subst_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11404..11409"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl.induct</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11596..11609">r_into_trancl</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11596..11609"><span>r_into_trancl</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_11404..11409"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_11708..11726">trancl_into_trancl</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11708..11726"><span>trancl_into_trancl</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11708..11726"><span>trancl_into_trancl</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11404..11409"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>rtrancl_into_trancl1</span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>  
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11902..11907">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_eq_subst_closed|fact"><span class="entity_def" id="Rewriting.srsteps_eq_subst_closed|thm"><span>srsteps_eq_subst_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_11902..11907"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12107..12112">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_eq_subst_relcomp_closed|fact"><span class="entity_def" id="Rewriting.srsteps_eq_subst_relcomp_closed|thm"><span>srsteps_eq_subst_relcomp_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12107..12112"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12107..12112"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Context closure of </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span class="antiquote"><span>}</span></span></span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12602..12607">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srstep_ctxt_closed|fact"><span class="entity_def" id="Rewriting.srstep_ctxt_closed|thm"><span>srstep_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12602..12607"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12776..12781">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_ctxt_closed|fact"><span class="entity_def" id="Rewriting.srsteps_ctxt_closed|thm"><span>srsteps_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12776..12781"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12776..12781"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>force</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12971..12976">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.srsteps_eq_ctxt_closed|fact"><span class="entity_def" id="Rewriting.srsteps_eq_ctxt_closed|thm"><span>srsteps_eq_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_ctxt_closed|fact"><span>srsteps_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12971..12976"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_12971..12976"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13183..13188">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.sig_steps_join_ctxt_closed|fact"><span class="entity_def" id="Rewriting.sig_steps_join_ctxt_closed|thm"><span>sig_steps_join_ctxt_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_ctxt_closed|fact"><span>srsteps_eq_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13183..13188"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13183..13188"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
                                 

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>The following lemma shows that every rewrite sequence either contains a root step or is root stable</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13562..13567">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span class="entity_def" id="Rewriting.nsrsteps_with_root_step_step_on_args|thm"><span>nsrsteps_with_root_step_step_on_args</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="bound"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>â§</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="bound"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13562..13567"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_13847..13851">base</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13920..13921">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13847..13851"><span>base</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14002..14007">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13847..13851"><span>base</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14002..14007"><span>funas</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13920..13921"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span> </span><span class="main"><span>â¹</span></span><span> </span><span>False</span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13847..13851"><span>base</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13920..13921"><span>r</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ss</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13847..13851"><span>base</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_13920..13921"><span>r</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14002..14007"><span>funas</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14002..14007"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_14559..14563">step</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14559..14563"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.relcomp3_I|fact"><span>relcomp3_I</span></a><span> </span><span>rtrancl.rtrancl_into_rtrancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_14828..14833">False</span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14859..14860">*</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14902..14903">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14559..14563"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14984..14989">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14559..14563"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14828..14833"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â </span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14984..14989"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14902..14903"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>f</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ss</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_15216..15217">c</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14559..14563"><span>step</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14828..14833"><span>False</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>sss</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>tss</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="entity_def" id="offset_15319..15321">**</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>sss</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>tss</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15365..15366">l</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>sss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>tss</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>
      </span><span class="entity_def" id="offset_15404..15407">inv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>tss</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>sss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>tss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15508..15510">lc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>sss</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15365..15366"><span>l</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14859..14860"><span>*</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15216..15217"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15319..15321"><span>**</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>+</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_14859..14860"><span>*</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14984..14989"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14902..14903"><span>r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span> </span><span>r_into_rtrancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep.intros|fact"><span>rstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>tss</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>sss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15404..15407"><span>inv</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14859..14860"><span>*</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_15365..15366"><span>l</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_15508..15510"><span>lc</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14984..14989"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_15319..15321"><span>**</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.nth_append_Cons|fact"><span>nth_append_Cons</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15319..15321"><span>**</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14859..14860"><span>*</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15404..15407"><span>inv</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_15365..15366"><span>l</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_15508..15510"><span>lc</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_14859..14860"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_15216..15217"><span>c</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16097..16102">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.rstep_to_pos_replace|fact"><span class="entity_def" id="Rewriting.rstep_to_pos_replace|thm"><span>rstep_to_pos_replace</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16097..16102"><span>assms</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16277..16279">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16277..16279"><span>st</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16384..16385">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16415..16417">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16415..16417"><span>this</span></a><span> </span><a class="entity_ref" href="Rewriting.html#offset_16277..16279"><span>st</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16384..16385"><span>*</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a></a></a><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>C</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16511..16516">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting.pos_replace_to_rstep|fact"><span class="entity_def" id="Rewriting.pos_replace_to_rstep|thm"><span>pos_replace_to_rstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16511..16516"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 3-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#offset_16511..16516"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>s</span></span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a></a></a><span> </span><span class="free"><span class="free"><span class="free"><span>s</span></span></span></span><span> </span><span class="free"><span class="free"><span class="free"><span>p</span></span></span></span><span>"</span></span></span></span></span><span> </span><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span class="quoted"><span class="free"><span>Ï</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>
<body>
<div class="head">
<h1>Theory Replace_Constant</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Replace_Constant</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Rewriting.html"><span>Rewriting</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Removing/Replacing constants in a rewrite sequence that do not appear in the rewrite system</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.funas_term_const_subst_conv|fact"><span class="entity_def" id="Replace_Constant.funas_term_const_subst_conv|thm"><span>funas_term_const_subst_conv</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>l</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>Â¬</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.supteq_pred|const"><span>âµ</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>l</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.Fun_supt|fact"><span>Fun_supt</span></a><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.supteq_supt_conv|fact"><span>supteq_supt_conv</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.inject|fact"><span>term.inject</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.supteq_var_imp_eq|fact"><span>supteq_var_imp_eq</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.fresh_const_single_step_replace|fact"><span class="entity_def" id="Replace_Constant.fresh_const_single_step_replace|thm"><span>fresh_const_single_step_replace</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_439..442">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_463..468">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_501..504">occ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_542..546">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¨</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_501..504"><span>occ</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_701..706">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_542..546"><span>step</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_782..783">t</span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_830..834">rule</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_830..834"><span>rule</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_439..442"><span>lin</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_879..882">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_463..468"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_830..834"><span>rule</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_953..959">nt_lhs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>par</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>below</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_501..504"><span>occ</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_const_ctxt_apply|fact"><span>poss_of_term_const_ctxt_apply</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_1183..1186">par</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1201..1206">possc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc|const"><span>possc</span></a><span> </span><span class="skolem"><span>C</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_701..706"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_782..783"><span>t</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc_def|fact"><span>possc_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_701..706"><span>const</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_hole_pos_replace_term_context_at|fact"><span>par_hole_pos_replace_term_context_at</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1183..1186"><span>par</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.possc_subt_at_ctxt_apply|fact"><span>possc_subt_at_ctxt_apply</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1201..1206"><span>possc</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1183..1186"><span>par</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_830..834"><span>rule</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1183..1186"><span>par</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_pres|fact"><span>par_pos_replace_pres</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_at_hole_pos|fact"><span>replace_at_hole_pos</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>below</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1651..1655">poss</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_701..706"><span>const</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_hole_pos|fact"><span>ctxt_at_pos_hole_pos</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_pos|fact"><span>ctxt_at_pos_subt_at_pos</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_782..783"><span>t</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1821..1826">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_701..706"><span>const</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_953..959"><span>nt_lhs</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1821..1826"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1651..1655"><span>poss</span></a><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>l</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_2045..2048">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2045..2048"><span>Fun</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>hd</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2045..2048"><span>Fun</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span>hd</span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span>tl</span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>q</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2045..2048"><span>Fun</span></a><span class="main"><span>(</span></span><span>2- 4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span>hd</span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>q</span></span></span></span><span> </span><span class="main"><span class="main"><span class="main"><span>#</span></span></span></span><span> </span><span class="skolem"><span class="skolem"><span class="skolem"><span>r</span></span></span></span><span>"</span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>x</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2316..2323">varposs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_def|fact"><span>varposs_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span>"</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2571..2580">varposs_r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q'</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q'</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_varposs_iff|fact"><span>vars_term_varposs_iff</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>q'</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_879..882"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2316..2323"><span>varposs</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_830..834"><span>rule</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2571..2580"><span>varposs_r</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term_varposs_subst_replace_term|fact"><span>linear_term_varposs_subst_replace_term</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_ctxtI|fact"><span>rstep_ctxtI</span></a><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_diff_append_itself|fact"><span>pos_diff_append_itself</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep_rstep_mono|fact"><span>rrstep_rstep_mono</span></a><span> </span><span>subset_eq</span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq|fact"><span>term_subst_eq</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>q'</span></span><span> </span><span class="main"><span>@</span></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2571..2580"><span>varposs_r</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2316..2323"><span>varposs</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1651..1655"><span>poss</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1821..1826"><span>const</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_pos_diffI|fact"><span>poss_pos_diffI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2316..2323"><span>varposs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_1651..1655"><span>poss</span></a><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subt_at_append_dist|fact"><span>subt_at_append_dist</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>q'</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>v</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subst_subt_at_dist|fact"><span>subst_subt_at_dist</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subst_poss_mono|fact"><span>subst_poss_mono</span></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_les_eq_append_diff|fact"><span>pos_les_eq_append_diff</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term.simps|fact"><span>subst_apply_term.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subst_subt_at_dist|fact"><span>subst_subt_at_dist</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subt_at_append_dist|fact"><span>subt_at_append_dist</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2316..2323"><span>varposs</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq_conv|fact"><span>term_subst_eq_conv</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_830..834"><span>rule</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_2316..2323"><span>varposs</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_879..882"><span>lin</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term_varposs_subst_replace_term|fact"><span>linear_term_varposs_subst_replace_term</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.fresh_const_steps_replace|fact"><span class="entity_def" id="Replace_Constant.fresh_const_steps_replace|thm"><span>fresh_const_steps_replace</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3822..3825">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3846..3851">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3884..3887">occ</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3925..3930">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¨</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3925..3930"><span>steps</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3884..3887"><span>occ</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4156..4160">base</span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.fresh_const_single_step_replace|fact"><span>fresh_const_single_step_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3822..3825"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3846..3851"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4156..4160"><span>base</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>r_into_trancl'</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4282..4286">step</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.fresh_const_single_step_replace|fact"><span>fresh_const_single_step_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3822..3825"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_3846..3851"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4282..4286"><span>step</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>a</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4282..4286"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>b</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4677..4679">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4282..4286"><span>step</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4677..4679"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4677..4679"><span>this</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>trancl_into_trancl2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_lhs_steps|fact"><span class="entity_def" id="Replace_Constant.remove_const_lhs_steps|thm"><span>remove_const_lhs_steps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4824..4827">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4848..4853">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4886..4891">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4925..4928">pos</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> 
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4971..4976">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4971..4976"><span>steps</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4925..4928"><span>pos</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4886..4891"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.fresh_const_steps_replace|fact"><span>fresh_const_steps_replace</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4848..4853"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.funas_term_const_subst_conv|fact"><span>funas_term_const_subst_conv</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_4824..4827"><span>lin</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_termE|fact"><span>poss_of_termE</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.subt_at_imp_supteq|fact"><span>subt_at_imp_supteq</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Now we can show that we may remove a constant substitution</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Replace_Constant.const_replace_closed_def|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_def|thm"><span class="entity_def" id="Replace_Constant.const_replace_closed_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>const_replace_closed</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span>
    </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span>
    </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>U</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5460..5465">lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closedD|fact"><span class="entity_def" id="Replace_Constant.const_replace_closedD|thm"><span>const_replace_closedD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="free"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="free"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_5460..5465"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_def|fact"><span>const_replace_closed_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5724..5729">lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closedI|fact"><span class="entity_def" id="Replace_Constant.const_replace_closedI|thm"><span>const_replace_closedI</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span> </span><span class="bound"><span>p</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¹</span></span><span>
       </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="bound"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_5724..5729"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_def|fact"><span>const_replace_closed_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Replace_Constant.const_subst|const"><span>const_subst</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'f</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>Term.term</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>const_subst</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>c</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span class="entity_def" id="Replace_Constant.lin_fresh_rstep_const_replace_closed|thm"><span>lin_fresh_rstep_const_replace_closed</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.fresh_const_single_step_replace|fact"><span>fresh_const_single_step_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedI|fact"><span>const_replace_closedI</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT_nfunas_term_poss_of_term_empty|fact"><span>constT_nfunas_term_poss_of_term_empty</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closed_symcl|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_symcl|thm"><span>const_replace_closed_symcl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_def|fact"><span>const_replace_closed_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>pair_in_Id_conv</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closed_trancl|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_trancl|thm"><span>const_replace_closed_trancl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedI|fact"><span>const_replace_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>p</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6692..6697">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6730..6733">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6775..6780">steps</span><span> </span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_6775..6780"><span>steps</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_6730..6733"><span>wit</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6978..6982">base</span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_6692..6697"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_6978..6982"><span>base</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_7082..7086">step</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_6692..6697"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7082..7086"><span>step</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>a</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7082..7086"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>trancl_into_trancl2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>b</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7082..7086"><span>step</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>trancl_into_trancl2</span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closed_rtrancl|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_rtrancl|thm"><span>const_replace_closed_rtrancl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedI|fact"><span>const_replace_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>p</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7648..7653">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7686..7689">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7731..7736">steps</span><span> </span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_trancl|fact"><span>const_replace_closed_trancl</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7648..7653"><span>const</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7686..7689"><span>wit</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_7731..7736"><span>steps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closed_relcomp|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_relcomp|thm"><span>const_replace_closed_relcomp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>V</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedI|fact"><span>const_replace_closedI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="skolem"><span>p</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_8154..8159">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>V</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8222..8225">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8263..8267">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>V</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8263..8267"><span>step</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>w</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8313..8314">w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>w</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>V</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8342..8344">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8154..8159"><span>const</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8222..8225"><span>wit</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8342..8344"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>w</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>w</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="bound"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>V</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>V</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>a</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8313..8314"><span>w</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>b</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8154..8159"><span>const</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Replace_Constant.html#offset_8313..8314"><span>w</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>relcomp.simps</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span class="antiquote"><span>}</span></span></span><span> allow the removal of a fresh constant substitution</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span class="entity_def" id="Replace_Constant.const_replace_closed_remove_subst_lhs|thm"><span>const_replace_closed_remove_subst_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8969..8974">repcl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed|const"><span>const_replace_closed</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9011..9016">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9050..9055">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9050..9055"><span>steps</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>card</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9174..9177">Suc</span><span> </span><span class="skolem"><span>n</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_9201..9203">vl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>insert</span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9174..9177"><span>Suc</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>card_le_Suc_iff</span><span> </span><span>dual_order.refl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9334..9336">vp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9201..9203"><span>vl</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_list_update</span><span> </span><span>map_update</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9201..9203"><span>vl</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_ground_replace_at|fact"><span>varposs_ground_replace_at</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>n</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>card</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="var"><span>?s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9201..9203"><span>vl</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9174..9177"><span>Suc</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9668..9670">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>card_insert_if</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.finite_varposs|fact"><span>finite_varposs</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9174..9177"><span>Suc</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9668..9670"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9742..9744">IH</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>U</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9174..9177"><span>Suc</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9201..9203"><span>vl</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9334..9336"><span>vp</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>âº</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closedD|fact"><span>const_replace_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_8969..8974"><span>repcl</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9011..9016"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_9742..9744"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT_nfunas_term_poss_of_term_empty|fact"><span>constT_nfunas_term_poss_of_term_empty</span></a><span> </span><span>empty_iff</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_same_pos|fact"><span>replace_term_at_same_pos</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span>card_eq_0_iff</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.finite_varposs|fact"><span>finite_varposs</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_empty_gound|fact"><span>varposs_empty_gound</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>subsubsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Removal lemma applied to various rewrite relations</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_step_lhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_step_lhs|thm"><span>remove_const_subst_step_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10354..10357">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10378..10383">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10416..10421">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10455..10459">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10354..10357"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10378..10383"><span>fresh</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span>const_replace_closed_remove_subst_lhs</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10416..10421"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10455..10459"><span>step</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_lhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_lhs|thm"><span>remove_const_subst_steps_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10699..10702">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10723..10728">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10761..10766">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10800..10805">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_trancl|fact"><span>const_replace_closed_trancl</span></a><span class="main"><span>,</span></span><span>
    </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10699..10702"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10723..10728"><span>fresh</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span>const_replace_closed_remove_subst_lhs</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10761..10766"><span>const</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_10800..10805"><span>steps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_eq_lhs|thm"><span>remove_const_subst_steps_eq_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_11099..11102">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11123..11128">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11161..11166">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11200..11205">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11200..11205"><span>steps</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11161..11166"><span>const</span></a><span> 
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_empty_ground|fact"><span>vars_term_empty_ground</span></a><span>
      </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_lhs|fact"><span>remove_const_subst_steps_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11099..11102"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11123..11128"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11161..11166"><span>const</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11489..11494">lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_rhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_rhs|thm"><span>remove_const_subst_steps_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11636..11641">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11636..11641"><span>steps</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11739..11743">revs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_11489..11494"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_lhs|fact"><span>remove_const_subst_steps_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ _ </span><a class="entity_ref" href="Replace_Constant.html#offset_11739..11743"><span>revs</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_eq_rhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_steps_eq_rhs|thm"><span>remove_const_subst_steps_eq_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12076..12079">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12100..12105">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12138..12143">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12177..12182">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12177..12182"><span>steps</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12138..12143"><span>const</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_empty_ground|fact"><span>vars_term_empty_ground</span></a><span>
      </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_rhs|fact"><span>remove_const_subst_steps_rhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12076..12079"><span>lin</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12100..12105"><span>fresh</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12138..12143"><span>const</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Main lemmas</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12488..12493">lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.const_subst_eq_ground_eq|fact"><span class="entity_def" id="Replace_Constant.const_subst_eq_ground_eq|thm"><span>const_subst_eq_ground_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12488..12493"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_12754..12757">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12754..12757"><span>Fun</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>g</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>g</span></span><span> </span><span class="skolem"><span>us</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>g</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>f</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12865..12866">l</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>us</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12754..12757"><span>Fun</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>map_eq_imp_length_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12754..12757"><span>Fun</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>for</span></span></span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12754..12757"><span>Fun</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12865..12866"><span>l</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.map_eq_conv&apos;|fact"><span>map_eq_conv'</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_12865..12866"><span>l</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13154..13159">lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_steps|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_steps|thm"><span>remove_const_subst_steps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_13480..13484">case</span></span></span><span> </span><span>True</span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst_eq_ground_eq|fact"><span>const_subst_eq_ground_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_13480..13484"><span>this</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_13154..13159"><span>assms</span></a><span class="main"><span>(</span></span><span>4 - 6</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13595..13599">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_13154..13159"><span>assms</span></a><span class="main"><span>(</span></span><span>7</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_13154..13159"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13779..13781">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_lhs|fact"><span>remove_const_subst_steps_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ _ </span><a class="entity_ref" href="Replace_Constant.html#offset_13595..13599"><span>step</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_rhs|fact"><span>remove_const_subst_steps_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ _ _ </span><a class="entity_ref" href="Replace_Constant.html#offset_13779..13781"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_13154..13159"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp_lhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp_lhs|thm"><span>remove_const_subst_relcomp_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14005..14008">sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14048..14050">fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14079..14081">fs</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14113..14118">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14152..14155">seq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14152..14155"><span>seq</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14005..14008"><span>sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14048..14050"><span>fr</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_rtrancl|fact"><span>const_replace_closed_rtrancl</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14005..14008"><span>sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14079..14081"><span>fs</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_rtrancl|fact"><span>const_replace_closed_rtrancl</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_relcomp|fact"><span>const_replace_closed_relcomp</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span>const_replace_closed_remove_subst_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Replace_Constant.html#offset_14113..14118"><span>funas</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14152..14155"><span>seq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>force</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp_rhs|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp_rhs|thm"><span>remove_const_subst_relcomp_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14612..14615">sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14655..14657">fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14686..14688">fs</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14720..14725">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14759..14762">seq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14759..14762"><span>seq</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>converse_relcomp</span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15050..15052">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_15066..15069">seq</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15050..15052"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><span>rtrancl_converse</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14612..14615"><span>sys</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14655..14657"><span>fr</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14686..14688"><span>fs</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15153..15157">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_lhs|fact"><span>remove_const_subst_relcomp_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15153..15157"><span>this</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_14720..14725"><span>funas</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15066..15069"><span>seq</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><span>converse_relcomp</span><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp|fact"><span class="entity_def" id="Replace_Constant.remove_const_subst_relcomp|thm"><span>remove_const_subst_relcomp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15541..15544">sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15584..15586">fr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15642..15644">fs</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15699..15703">diff</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15717..15722">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15780..15783">seq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15699..15703"><span>diff</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15717..15722"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15933..15934">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_rhs|fact"><span>remove_const_subst_relcomp_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15541..15544"><span>sys</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15584..15586"><span>fr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15642..15644"><span>fs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15717..15722"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span>
        </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_lhs|fact"><span>remove_const_subst_relcomp_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15541..15544"><span>sys</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15584..15586"><span>fr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15642..15644"><span>fs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15933..15934"><span>*</span></a><span> </span><a class="entity_ref" href="Replace_Constant.html#offset_15780..15783"><span>seq</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>d>


<body>
<div class="head">
<h1>Theory Rewriting_Properties</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Confluence related rewriting properties</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Rewriting_Properties</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Rewriting.html"><span>Rewriting</span></a><span>
    </span><span class="quoted"><span>"</span><a href="../Abstract-Rewriting/Abstract_Rewriting.html"><span>Abstract-Rewriting.Abstract_Rewriting</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Confluence related ARS properties</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.SCR_on_def|fact"><span class="entity_def" id="Rewriting_Properties.SCR_on_def|thm"><span class="entity_def" id="Rewriting_Properties.SCR_on_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.SCR_on|const"><span>SCR_on</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â¶</span></span><span>
  </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span> </span><span class="main"><span>â§</span></span><span>  </span><span class="main"><span>(</span></span><span class="bound"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.SCR|const"><span>SCR</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>SCR</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on|const"><span>SCR_on</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span>UNIV</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.NFP_on_def|fact"><span class="entity_def" id="Rewriting_Properties.NFP_on_def|thm"><span class="entity_def" id="Rewriting_Properties.NFP_on_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NFP_on|const"><span>NFP_on</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NFP_on</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability|const"><span><span class="hidden">â§</span><sup>!</sup></span></a></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NFP|const"><span>NFP</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NFP</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on|const"><span>NFP_on</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span>UNIV</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.CE_on_def|fact"><span class="entity_def" id="Rewriting_Properties.CE_on_def|thm"><span class="entity_def" id="Rewriting_Properties.CE_on_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.CE_on|const"><span>CE_on</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CE_on</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.CE|const"><span>CE</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>CE</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on|const"><span>CE_on</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span>UNIV</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.NE_on_def|fact"><span class="entity_def" id="Rewriting_Properties.NE_on_def|thm"><span class="entity_def" id="Rewriting_Properties.NE_on_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NE_on|const"><span>NE_on</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>set</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NE_on</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span class="bound"><span>a</span></span><span class="main"><span>â</span></span><span class="free"><span class="bound"><span class="entity"><span>A</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>b</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability|const"><span><span class="hidden">â§</span><sup>!</sup></span></a></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability|const"><span><span class="hidden">â§</span><sup>!</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NE|const"><span>NE</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span class="tfree"><span>'a</span></span><span> </span><span>rel</span><span> </span><span class="main"><span>â</span></span><span> </span><span>bool</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NE</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on|const"><span>NE_on</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>r</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span>UNIV</span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Signature closure of relation to model multihole context closure</span><span>âº</span></span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> AUX lemmas </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_sig_rsteps|fact"><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_sig_rsteps|thm"><span>all_ctxt_closed_sig_rsteps</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="main"><span>(</span></span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="main"><span>_</span></span><span> </span><span class="main"><span>(</span></span><span class="var"><span>?R</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.trans_ctxt_sig_imp_all_ctxt_closed|fact"><span>trans_ctxt_sig_imp_all_ctxt_closed</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt|type"><span>ctxt</span></a><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_1318..1319">C</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1402..1407">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?R</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1402..1407"><span>steps</span></a><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?R</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_1499..1503">step</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1499..1503"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1531..1533">tu</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1557..1558">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1583..1584">u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?R</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> _ _ </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_ctxtI|fact"><span>rstep_ctxtI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1531..1533"><span>tu</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>insert</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1318..1319"><span>C</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1557..1558"><span>t</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1583..1584"><span>u</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>with</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_1499..1503"><span>step</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trans_rtrancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.sigstep_trancl_funas|fact"><span class="entity_def" id="Rewriting_Properties.sigstep_trancl_funas(2)|thm"><span class="entity_def" id="Rewriting_Properties.sigstep_trancl_funas(1)|thm"><span>sigstep_trancl_funas</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.srrstep_to_srestep|fact"><span class="entity_def" id="Rewriting_Properties.srrstep_to_srestep|thm"><span>srrstep_to_srestep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>in_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep_rstep_mono|fact"><span>rrstep_rstep_mono</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono2|fact"><span>sig_step_mono2</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span class="entity_def" id="Rewriting_Properties.srsteps_with_root_step_srstepsD|thm"><span>srsteps_with_root_step_srstepsD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span class="entity_def" id="Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|thm"><span>srsteps_with_root_step_sresteps_eqD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.symcl_srstep_conversion|fact"><span class="entity_def" id="Rewriting_Properties.symcl_srstep_conversion|thm"><span>symcl_srstep_conversion</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.symcl_srsteps_conversion|fact"><span class="entity_def" id="Rewriting_Properties.symcl_srsteps_conversion|thm"><span>symcl_srsteps_conversion</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2817..2822">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NF_srstep_args|fact"><span class="entity_def" id="Rewriting_Properties.NF_srstep_args|thm"><span>NF_srstep_args</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ss</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3035..3039">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="free"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_def|fact"><span>NF_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_2817..2822"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>Suc</span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span>ss</span></span><span> </span><span class="main"><span>-</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ss</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_ctxtI|fact"><span>rstep_ctxtI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_3035..3039"><span>step</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ss</span></span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>  
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="free"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ss</span></span><span class="main"><span>[</span></span><span class="free"><span>i</span></span><span> </span><span class="main"><span>:=</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_3035..3039"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_2817..2822"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span>upd_conv_take_nth_drop</span><span> </span><span>min_def</span><span> </span><span>UN_subset_iff</span><span>
             </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>in_set_takeD</span><span> </span><span>in_set_dropD</span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>id_take_nth_drop</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_2817..2822"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_def|fact"><span>NF_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_srstep_conversions|fact"><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_srstep_conversions|thm"><span>all_ctxt_closed_srstep_conversions</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_rsteps|fact"><span>all_ctxt_closed_sig_rsteps</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>(</span><span>*</span><span> END AUX </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NFP_stepD|fact"><span class="entity_def" id="Rewriting_Properties.NFP_stepD|thm"><span>NFP_stepD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>b</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>b</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on_def|fact"><span>NFP_on_def</span></a><span class="main"><span>)</span></span><span>
  
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NE_symmetric|fact"><span class="entity_def" id="Rewriting_Properties.NE_symmetric|thm"><span>NE_symmetric</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CE_symmetric|fact"><span class="entity_def" id="Rewriting_Properties.CE_symmetric|thm"><span>CE_symmetric</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on_def|fact"><span>CE_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reducing the quantification over rewrite sequences for properties </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span class="antiquote"><span>}</span></span></span><span> ... to
</span><span>rewrite sequences containing at least one root step</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_sig_reflE|fact"><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_sig_reflE|thm"><span>all_ctxt_closed_sig_reflE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_4253..4256">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4253..4256"><span>Fun</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span>  </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4253..4256"><span>Fun</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4253..4256"><span>Fun</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>SUP_le_iff</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closedD|fact"><span>all_ctxt_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4253..4256"><span>Fun</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4253..4256"><span>Fun</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_relcomp|fact"><span class="entity_def" id="Rewriting_Properties.all_ctxt_closed_relcomp|thm"><span>all_ctxt_closed_relcomp</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
   </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
   </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4810..4815">funas</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="bound"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4964..4971">ctxt_cl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5039..5042">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5039..5042"><span>ass</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5272..5274">us</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Polynomial_Factorization/Missing_List.html#Missing_List.Ex_list_of_length_P|fact"><span>Ex_list_of_length_P</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4810..4815"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5519..5521">fu</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5272..5274"><span>us</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5039..5042"><span>ass</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>,</span></span><span> 5</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>in_mono</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>us</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5039..5042"><span>ass</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>,</span></span><span> 5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5272..5274"><span>us</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5519..5521"><span>fu</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closedD|fact"><span>all_ctxt_closedD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4964..4971"><span>ctxt_cl</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>f</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>us</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5039..5042"><span>ass</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5272..5274"><span>us</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_5519..5521"><span>fu</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closedD|fact"><span>all_ctxt_closedD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4964..4971"><span>ctxt_cl</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>f</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_4964..4971"><span>ctxt_cl</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.prop_to_rel|const"><span>prop_to_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span class="main"><span>|</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>}</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed|const"><span>all_ctxt_closed</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_to_rel|const"><span>prop_to_rel</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>P</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_Var|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_Var|thm"><span>prop_mctxt_cl_Var</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_refl_on|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_refl_on|thm"><span>prop_mctxt_cl_refl_on</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_reflE|fact"><span>all_ctxt_closed_sig_reflE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_reflcl_on|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_reflcl_on|thm"><span>prop_mctxt_cl_reflcl_on</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_reflE|fact"><span>all_ctxt_closed_sig_reflE</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_6679..6684">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.reduction_relations_to_root_step|fact"><span class="entity_def" id="Rewriting_Properties.reduction_relations_to_root_step|thm"><span>reduction_relations_to_root_step</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6790..6792">cl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6822..6826">well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6874..6879">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6874..6879"><span>steps</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6822..6826"><span>well</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_6978..6981">Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7111..7113">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6679..6684"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7111..7113"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6978..6981"><span>Var</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6790..6792"><span>cl</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_reflE|fact"><span>all_ctxt_closed_sig_reflE</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7249..7253">case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_7270..7272">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7249..7253"><span>this</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_7331..7335">True</span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7270..7272"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7331..7335"><span>True</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_reflcl_on|fact"><span>prop_mctxt_cl_reflcl_on</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6790..6792"><span>cl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>      
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7474..7478">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7270..7272"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>refl</span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7659..7663">case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7474..7478"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7659..7663"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_7756..7757">*</span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7784..7787">inv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span>
          </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7903..7908">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7270..7272"><span>IH</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7474..7478"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7784..7787"><span>inv</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_reflcl_on|fact"><span>prop_mctxt_cl_reflcl_on</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6790..6792"><span>cl</span></a><span class="main"><span>]</span></span><span>  </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7270..7272"><span>IH</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7784..7787"><span>inv</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7756..7757"><span>*</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7903..7908"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_7784..7787"><span>inv</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closedD|fact"><span>all_ctxt_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6790..6792"><span>cl</span></a><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_6679..6684"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>âª</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>âª</span></span><span>
  </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8628..8633">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.reduction_join_relations_to_root_step|fact"><span class="entity_def" id="Rewriting_Properties.reduction_join_relations_to_root_step|thm"><span>reduction_join_relations_to_root_step</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8739..8741">cl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>P</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8771..8775">well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8823..8828">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>P</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8823..8828"><span>steps</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8771..8775"><span>well</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>t</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8944..8947">Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8958..8959">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.simps|fact"><span>Term.term.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>UnI1</span><span> </span><span>relcomp.relcompI</span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9234..9235">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>ð®</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.simps|fact"><span>Term.term.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>UnI2</span><span> </span><span>relcomp.simps</span><span> </span><span>rtrancl.simps</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9500..9501">t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="skolem"><span>x</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>relcomp.simps</span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8944..8947"><span>Var</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8958..8959"><span>f</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9234..9235"><span>s</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9500..9501"><span>t</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_Var|fact"><span>prop_mctxt_cl_Var</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9901..9905">case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_9922..9924">IH</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9901..9905"><span>this</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_9983..9987">True</span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9983..9987"><span>True</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_refl_on|fact"><span>prop_mctxt_cl_refl_on</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_10112..10113">u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10112..10113"><span>u</span></a><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10362..10364">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10362..10364"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_10470..10474">case</span></span></span><span> </span><span>False</span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10486..10492">nt_fst</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10470..10474"><span>this</span></a><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span>
        </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10112..10113"><span>u</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
          </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10702..10704">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10702..10704"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_10787..10792">False</span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10798..10805">no_root</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10787..10792"><span>False</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10486..10492"><span>nt_fst</span></a><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_10902..10906">True</span><span>
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8628..8633"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10936..10937">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11008..11009">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?thesis</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10112..10113"><span>u</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10936..10937"><span>f</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="var"><span>?thesis</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10112..10113"><span>u</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11008..11009"><span>s</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10902..10906"><span>True</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
        </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
          </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
          </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11486..11491">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10112..10113"><span>u</span></a><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ts</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>us</span></span></span><span>
            </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>us</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11677..11682">inv_u</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>us</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
              </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11806..11811">inv_t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>us</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11486..11491"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10798..10805"><span>no_root</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.nsrsteps_with_root_step_step_on_args|fact"><span>nsrsteps_with_root_step_step_on_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11486..11491"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_10798..10805"><span>no_root</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
          </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11677..11682"><span>inv_u</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11806..11811"><span>inv_t</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><span>nth_mem</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>i</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword"><span>for</span></span></span></span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> 
          </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_9922..9924"><span>IH</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11677..11682"><span>inv_u</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_11806..11811"><span>inv_t</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closedD|fact"><span>all_ctxt_closedD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_8739..8741"><span>cl</span></a><span class="main"><span>]</span></span><span>
            </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.commute_redp_def|fact"><span class="entity_def" id="Rewriting_Properties.commute_redp_def|thm"><span class="entity_def" id="Rewriting_Properties.commute_redp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.commute_redp|const"><span>commute_redp</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span>subsetI</span><span class="main"><span>[</span></span><span class="operator"><span>rule</span></span><span> </span><span class="quasi_keyword"><span>del</span></span><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.commute_redp_mctxt_cl|fact"><span class="entity_def" id="Rewriting_Properties.commute_redp_mctxt_cl|thm"><span>commute_redp_mctxt_cl</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span>
    </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.sigstep_trancl_funas|fact"><span>sigstep_trancl_funas</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_relcomp|fact"><span>all_ctxt_closed_relcomp</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span>subsetI</span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12886..12891">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.commute_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.commute_rrstep_intro|thm"><span>commute_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="skolem"><span>â</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="skolem"><span>â</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>â</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="skolem"><span>â</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>x</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13356..13359">red</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_12886..12891"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13548..13552">comI</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span>
    </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span> </span><span>subsetD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_join_relations_to_root_step|fact"><span>reduction_join_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_13356..13359"><span>red</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_mctxt_cl|fact"><span>commute_redp_mctxt_cl</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>ð®</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_13548..13552"><span>comI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><span>relcompI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.sigstep_trancl_funas|fact"><span>sigstep_trancl_funas</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14006..14011">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.commute_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.commute_to_rrstep|thm"><span>commute_to_rrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_14006..14011"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14388..14393">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CR_Aux|fact"><span class="entity_def" id="Rewriting_Properties.CR_Aux|thm"><span>CR_Aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14593..14596">sym</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>converseI</span><span> </span><span>relcomp.relcompI</span><span> </span><span>rtrancl_converse</span><span> </span><span>rtrancl_converseD</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15001..15002">}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span>*</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_15001..15002"><span>this</span></a><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_15037..15040">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>u</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><span>rtrancl_converseI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_15037..15040"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15280..15284">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>mono_tags</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>O_assoc</span><span> </span><span>converse.simps</span><span> </span><span>converse_converse</span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.converse_inward|fact"><span>converse_inward</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>converse_relcomp</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_14388..14393"><span>assms</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_15280..15284"><span>this</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_14593..14596"><span>sym</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>UnE</span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_14388..14393"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15819..15824">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CR_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.CR_rrstep_intro|thm"><span>CR_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16076..16077">a</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span>True</span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16076..16077"><span>a</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16076..16077"><span>a</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_15819..15824"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16076..16077"><span>a</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16531..16532">}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_rrstep_intro|fact"><span>commute_rrstep_intro</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CR_Aux|fact"><span>CR_Aux</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16531..16532"><span>this</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_iff_self_commute|fact"><span>CR_iff_self_commute</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>reflcl_trancl</span><span> </span><span>relcomp_distrib</span><span> </span><span>relcomp_distrib2</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16700..16705">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CR_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.CR_to_rrstep|thm"><span>CR_to_rrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16700..16705"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_to_rrstep|fact"><span>commute_to_rrstep</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_16700..16705"><span>assms</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_iff_self_commute|fact"><span>CR_iff_self_commute</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.NFP_redp_def|fact"><span class="entity_def" id="Rewriting_Properties.NFP_redp_def|thm"><span class="entity_def" id="Rewriting_Properties.NFP_redp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NFP_redp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_NFP_redp|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_NFP_redp|thm"><span>prop_mctxt_cl_NFP_redp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_17184..17187">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17244..17249">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17341..17346">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17427..17429">NF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17244..17249"><span>steps</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>steps</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17184..17187"><span>sig</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17341..17346"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NF_srstep_args|fact"><span>NF_srstep_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17427..17429"><span>NF</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.in_set_idx|fact"><span>in_set_idx</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17184..17187"><span>sig</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_rsteps|fact"><span>all_ctxt_closed_sig_rsteps</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17341..17346"><span>funas</span></a><span> </span><span>le_sup_iff</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17869..17874">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NFP_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.NFP_rrstep_intro|thm"><span>NFP_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_17869..17874"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18018..18021">red</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span> </span><span>converseD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span> </span><span>trancl_converse</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_join_relations_to_root_step|fact"><span>reduction_join_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_18018..18021"><span>red</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_NFP_redp|fact"><span>prop_mctxt_cl_NFP_redp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>relcomp.relcompI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span>rtranclD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on_def|fact"><span>NFP_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.meetI|fact"><span>meetI</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.meet_def|fact"><span>meet_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18812..18817">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NFP_lift_to_conversion|fact"><span class="entity_def" id="Rewriting_Properties.NFP_lift_to_conversion|thm"><span>NFP_lift_to_conversion</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_18812..18817"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_rtrancl_induct</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_18988..18992">step</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability|const"><span><span class="hidden">â§</span><sup>!</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_18812..18817"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_18988..18992"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on_def|fact"><span>NFP_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19117..19122">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NFP_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.NFP_to_rrstep|thm"><span>NFP_to_rrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19117..19122"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_lift_to_conversion|fact"><span>NFP_lift_to_conversion</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19117..19122"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>r_into_rtrancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span>rtrancl_trans</span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.UN_redp_def|fact"><span class="entity_def" id="Rewriting_Properties.UN_redp_def|thm"><span class="entity_def" id="Rewriting_Properties.UN_redp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.UN_redp|const"><span>UN_redp</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_UN_redp|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_UN_redp|thm"><span>prop_mctxt_cl_UN_redp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_19727..19730">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19787..19792">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19893..19898">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19979..19981">NF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19787..19792"><span>steps</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19727..19730"><span>sig</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19893..19898"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NF_srstep_args|fact"><span>NF_srstep_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19979..19981"><span>NF</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NF_srstep_args|fact"><span>NF_srstep_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19979..19981"><span>NF</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.in_set_idx|fact"><span>in_set_idx</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_19727..19730"><span>sig</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20397..20402">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.UNC_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.UNC_rrstep_intro|thm"><span>UNC_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_20397..20402"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_UN_redp|fact"><span>prop_mctxt_cl_UN_redp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>rtranclD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_20840..20845">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.UNC_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.UNC_to_rrstep|thm"><span>UNC_to_rrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_20840..20845"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srstep_conversion|fact"><span>symcl_srstep_conversion</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srsteps_conversion|fact"><span>symcl_srsteps_conversion</span></a><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> opaque_lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><span>rtrancl_trans</span><span class="main"><span>)</span></span><span>


</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21274..21279">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.UNF_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.UNF_rrstep_intro|thm"><span>UNF_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_21274..21279"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_21423..21426">red</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span> </span><span>converseD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span> </span><span>trancl_converse</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_join_relations_to_root_step|fact"><span>reduction_join_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_21423..21426"><span>red</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_UN_redp|fact"><span>prop_mctxt_cl_UN_redp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>relcomp.relcompI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span>rtranclD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.meetI|fact"><span>meetI</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.meet_def|fact"><span>meet_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22211..22216">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.UNF_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.UNF_to_rrstep|thm"><span>UNF_to_rrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel|const"><span>comp_rrstep_rel</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_22211..22216"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span>
   </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span>rtrancl.rtrancl_into_rtrancl</span><span> </span><span>rtrancl_converseD</span><span> </span><span>rtrancl_idemp</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_22708..22713">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CE_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.CE_rrstep_intro|thm"><span>CE_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_22708..22713"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?s1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?t1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_22708..22713"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?s1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?t1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on_def|fact"><span>CE_on_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>converseI</span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_converse|fact"><span>conversion_converse</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.sigstep_trancl_funas|fact"><span>sigstep_trancl_funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_23310..23315">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.CE_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.CE_to_rrstep(2)|thm"><span class="entity_def" id="Rewriting_Properties.CE_to_rrstep(1)|thm"><span>CE_to_rrstep</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_23310..23315"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on_def|fact"><span>CE_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srsteps_conversion|fact"><span>symcl_srsteps_conversion</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srstep_conversion|fact"><span>symcl_srstep_conversion</span></a><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>converse_rtrancl_into_rtrancl</span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_rtrancl|fact"><span>conversion_rtrancl</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span class="antiquote"><span>}</span></span></span><span> to conversions involving root steps</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_Properties.NE_redp_def|fact"><span class="entity_def" id="Rewriting_Properties.NE_redp_def|thm"><span class="entity_def" id="Rewriting_Properties.NE_redp_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_Properties.NE_redp|const"><span>NE_redp</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>NE_redp</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>s</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ð®</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_NE_redp|fact"><span class="entity_def" id="Rewriting_Properties.prop_mctxt_cl_NE_redp|thm"><span>prop_mctxt_cl_NE_redp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl|const"><span>prop_mctxt_cl</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_24078..24081">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>length</span><span> </span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_24138..24143">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¶</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_24235..24240">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_24321..24323">NF</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24138..24143"><span>steps</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>steps</span><span class="main"><span>:</span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>i</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24078..24081"><span>sig</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24235..24240"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NF_srstep_args|fact"><span>NF_srstep_args</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24321..24323"><span>NF</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>UN_subset_iff</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Basic_Utils.html#Basic_Utils.in_set_idx|fact"><span>in_set_idx</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24078..24081"><span>sig</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.all_ctxt_closed_sig_rsteps|fact"><span>all_ctxt_closed_sig_rsteps</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24235..24240"><span>funas</span></a><span> </span><span>le_sup_iff</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.all_ctxt_closed_def|fact"><span>all_ctxt_closed_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_24762..24767">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NE_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.NE_rrstep_intro|thm"><span>NE_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24762..24767"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24762..24767"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_NE_redp|fact"><span>prop_mctxt_cl_NE_redp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.reduction_relations_to_root_step|fact"><span>reduction_relations_to_root_step</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_24762..24767"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.prop_mctxt_cl_NE_redp|fact"><span>prop_mctxt_cl_NE_redp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>ð®</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span>
     </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>rtrancl.rtrancl_refl</span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.sigstep_trancl_funas|fact"><span>sigstep_trancl_funas</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_25315..25320">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NE_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.NE_to_rrstep(2)|thm"><span class="entity_def" id="Rewriting_Properties.NE_to_rrstep(1)|thm"><span>NE_to_rrstep</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
         </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_25315..25320"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span>
     </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>converse_rtrancl_into_rtrancl</span><span> </span><span>rtrancl_trans</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.NE_NF_eq|fact"><span class="entity_def" id="Rewriting_Properties.NE_NF_eq|thm"><span>NE_NF_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_def|fact"><span>NF_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Reducing search space for </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span class="antiquote"><span>}</span></span></span><span> and </span><span class="antiquoted"><span class="antiquote"><span>@{</span></span><span class="operator"><span>const</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span class="antiquote"><span>}</span></span></span><span> involving root steps</span><span>âº</span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>Brute forced proofs could be done nicer with more lemmas related to positions </span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_Properties.SCRp|const"><span>SCRp</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>â</span></span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>u</span></span></span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_26098..26103">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.SCR_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.SCR_rrstep_intro|thm"><span>SCR_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_26353..26357">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26353..26357"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_26441..26443">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_to_pos_replace|fact"><span>rstep_to_pos_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26353..26357"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_26623..26625">su</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l2</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_to_pos_replace|fact"><span>rstep_to_pos_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26353..26357"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26795..26800">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_26898..26904">funas2</span><span> </span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_replace_at_lower|fact"><span>funas_term_replace_at_lower</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>c</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par_def|fact"><span>position_par_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_27174..27175">a</span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27174..27175"><span>a</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27194..27196">up</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27366..27368">fc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span> </span><span>le_sup_iff</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_27503..27508">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27174..27175"><span>a</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27194..27196"><span>up</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subterm_atI|fact"><span>funas_term_subterm_atI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27503..27508"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_termE|fact"><span>poss_of_termE</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27503..27508"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27174..27175"><span>a</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_pos|fact"><span>ctxt_at_pos_subt_at_pos</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span>
            </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_subterm_at_itself|fact"><span>replace_subterm_at_itself</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26098..26103"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_28362..28364">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28362..28364"><span>this</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_ctxt_closed|fact"><span>srsteps_eq_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27366..27368"><span>fc</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28362..28364"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27174..27175"><span>a</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_ctxt_closed|fact"><span>srsteps_eq_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27366..27368"><span>fc</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span class="var"><span>?C</span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span></a></span><span class="skolem"><span class="skolem"><span>v</span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_27366..27368"><span>fc</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_28767..28768">b</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28785..28787">up</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_28957..28959">fc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_subset_iff</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_29097..29102">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28785..28787"><span>up</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subterm_atI|fact"><span>funas_term_subterm_atI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_29097..29102"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> del_insts</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28767..28768"><span>b</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_pos|fact"><span>ctxt_at_pos_subt_at_pos</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span>
            </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_subterm_at_itself|fact"><span>replace_subterm_at_itself</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_29097..29102"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_termE|fact"><span>poss_of_termE</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26098..26103"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_29959..29961">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_29959..29961"><span>this</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_ctxt_closed|fact"><span>srsteps_eq_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28957..28959"><span>fc</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_29959..29961"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28767..28768"><span>b</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_ctxt_closed|fact"><span>srsteps_eq_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28957..28959"><span>fc</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><span>exI</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span class="var"><span>?C</span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span></a></span><span class="skolem"><span class="skolem"><span>v</span></span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span></a></span><span>"</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_28957..28959"><span>fc</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at_above|fact"><span>replace_term_at_above</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_30449..30450">c</span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_30457..30463">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_30504..30510">funasv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30457..30463"><span>v_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_replace_at_upper|fact"><span>funas_term_replace_at_upper</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26898..26904"><span>funas2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30449..30450"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_30647..30648">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30457..30463"><span>v_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.parallel_replace_term_commute|fact"><span>parallel_replace_term_commute</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30449..30450"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30457..30463"><span>v_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_pres|fact"><span>par_pos_replace_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_term_at|fact"><span>par_pos_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par_def|fact"><span>position_par_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30449..30450"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26623..26625"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30647..30648"><span>*</span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_pres|fact"><span>par_pos_replace_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26441..26443"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>of</span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="main"><span class="main"><span>_</span></span></span><span> </span><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span class="quoted"><span class="skolem"><span>l</span></span></span></span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_term_at|fact"><span>par_pos_replace_term_at</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_26795..26800"><span>funas</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_30504..30510"><span>funasv</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31306..31311">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.SCE_to_rrstep|fact"><span class="entity_def" id="Rewriting_Properties.SCE_to_rrstep(2)|thm"><span class="entity_def" id="Rewriting_Properties.SCE_to_rrstep(1)|thm"><span>SCE_to_rrstep</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
        </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31306..31311"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srsteps_conversion|fact"><span>symcl_srsteps_conversion</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srstep_conversion|fact"><span>symcl_srstep_conversion</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_31712..31717">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_Properties.WCR_rrstep_intro|fact"><span class="entity_def" id="Rewriting_Properties.WCR_rrstep_intro|thm"><span>WCR_rrstep_intro</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s</span></span><span> </span><span class="bound"><span>t</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_31891..31895">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31891..31895"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_31979..31981">st</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_to_pos_replace|fact"><span>rstep_to_pos_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31891..31895"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r2</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï2</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_32161..32163">su</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l2</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_to_pos_replace|fact"><span>rstep_to_pos_replace</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31891..31895"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32333..32338">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32436..32442">funas2</span><span> </span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_replace_at_lower|fact"><span>funas_term_replace_at_lower</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span> </span><span class="main"><span>(</span></span><span>c</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par_def|fact"><span>position_par_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_32723..32724">a</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32741..32743">up</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_32913..32915">fc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_subset_iff</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_33053..33058">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32723..32724"><span>a</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32741..32743"><span>up</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subterm_atI|fact"><span>funas_term_subterm_atI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_33053..33058"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_termE|fact"><span>poss_of_termE</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_33053..33058"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_threshold</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32723..32724"><span>a</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.greater_eq_subt_at_replace|fact"><span>greater_eq_subt_at_replace</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_diff_append_itself|fact"><span>pos_diff_append_itself</span></a><span>
            </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31712..31717"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_33884..33886">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_steps_join_ctxt_closed|fact"><span>sig_steps_join_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32913..32915"><span>fc</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_33884..33886"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32723..32724"><span>a</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32913..32915"><span>fc</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_34141..34142">b</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_34159..34161">up</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss|const"><span>poss</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_les_eq_append_diff|fact"><span>pos_les_eq_append_diff</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?C</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos|const"><span>ctxt_at_pos</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>q</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_34333..34335">fc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="var"><span>?C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_subset_iff</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ctxt_at_pos_subt_at_id|fact"><span>ctxt_at_pos_subt_at_id</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_34473..34478">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_replace_at_pres|fact"><span>pos_replace_at_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34159..34161"><span>up</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_subterm_atI|fact"><span>funas_term_subterm_atI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34473..34478"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> ccfv_SIG</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34141..34142"><span>b</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.greater_eq_subt_at_replace|fact"><span>greater_eq_subt_at_replace</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_diff_append_itself|fact"><span>pos_diff_append_itself</span></a><span>
            </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_def|fact"><span>position_less_eq_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.poss_append_poss|fact"><span>poss_append_poss</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.replace_term_at_subt_at_id|fact"><span>replace_term_at_subt_at_id</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34473..34478"><span>funas</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_termE|fact"><span>poss_of_termE</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep.intros|fact"><span>rrstep.intros</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>q</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31712..31717"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_35296..35298">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_steps_join_ctxt_closed|fact"><span>sig_steps_join_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34333..34335"><span>fc</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35296..35298"><span>this</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34141..34142"><span>b</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_34333..34335"><span>fc</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ctxt_of_pos_term_apply_replace_at_ident|fact"><span>ctxt_of_pos_term_apply_replace_at_ident</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_subt_at_replace|fact"><span>less_eq_subt_at_replace</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="entity_def" id="offset_35553..35554">c</span><span>
      </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_35561..35567">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>q</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r2</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï2</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35608..35614">funasv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35561..35567"><span>v_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_term_replace_at_upper|fact"><span>funas_term_replace_at_upper</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32436..32442"><span>funas2</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35553..35554"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_35751..35752">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35561..35567"><span>v_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.parallel_replace_term_commute|fact"><span>parallel_replace_term_commute</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35553..35554"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35561..35567"><span>v_def</span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_pres|fact"><span>par_pos_replace_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_term_at|fact"><span>par_pos_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par_def|fact"><span>position_par_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35553..35554"><span>c</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32161..32163"><span>su</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35751..35752"><span>*</span></a><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_pres|fact"><span>par_pos_replace_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_31979..31981"><span>st</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_pos_replace_term_at|fact"><span>par_pos_replace_term_at</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.pos_replace_to_rstep|fact"><span>pos_replace_to_rstep</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_32333..32338"><span>funas</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#offset_35608..35614"><span>funasv</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR_on_def|fact"><span>WCR_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'></head>


<body>
<div class="head">
<h1>Theory Rewriting_LLRG_LV_Mondaic</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Rewriting_LLRG_LV_Mondaic</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Rewriting.html"><span>Rewriting</span></a><span>
    </span><a href="Replace_Constant.html"><span>Replace_Constant</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Specific results about rewriting under a linear variable-separated system</span><span>âº</span></span></span><span>
</span><span class="comment1"><span>(</span><span>*</span><span>**************** AUX *******************</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.card_varposs_ground|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.card_varposs_ground|thm"><span>card_varposs_ground</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span>card</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â·</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.finite_varposs|fact"><span>finite_varposs</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_empty_gound|fact"><span>varposs_empty_gound</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_333..338">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.poss_of_term_subst_apply_varposs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.poss_of_term_subst_apply_varposs|thm"><span>poss_of_term_subst_apply_varposs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>q</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="bound"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_333..338"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>Nil</span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_611..615">Cons</span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_611..615"><span>Cons</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.args|const"><span>args</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>!</span></span><span> </span><span class="skolem"><span>i</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_611..615"><span>Cons</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>apply</span></span></span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq_Cons|fact"><span>position_less_eq_Cons</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span class="improper"><span class="command"><span>done</span></span></span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_793..798">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.poss_of_term_hole_poss|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.poss_of_term_hole_poss|thm"><span>poss_of_term_hole_poss</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="free"><span>p</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_793..798"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>p</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_978..982">More</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_978..982"><span>More</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>length</span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="main"><span>#</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_1058..1059">h</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>append_Cons</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos.simps|fact"><span>hole_pos.simps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.less_eq_poss_append_itself|fact"><span>less_eq_poss_append_itself</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.pos_les_eq_append_diff|fact"><span>pos_les_eq_append_diff</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_978..982"><span>More</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1058..1059"><span>h</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_978..982"><span>More</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_def|fact"><span>poss_of_term_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1266..1271">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_subst_from_match|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_subst_from_match|thm"><span>remove_const_subst_from_match</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>D</span></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="bound"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="bound"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1266..1271"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>card</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_1481..1484">Suc</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>p</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>ps</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1520..1527">varposs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>insert</span><span> </span><span class="skolem"><span>p</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>card_Suc_eq</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1625..1627">vp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1520..1527"><span>varposs</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1679..1680">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="var"><span>?s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span>  </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_list_update</span><span> </span><span>map_update</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>nth_equalityI</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ps</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1520..1527"><span>varposs</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_ground_replace_at|fact"><span>varposs_ground_replace_at</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>p</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?s</span></span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1520..1527"><span>varposs</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_1967..1972">split</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1679..1680"><span>*</span></a><span>"</span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>ps</span></span><span>âº</span></span></span><span> </span><span>card_insert_if</span><span> </span><span>diff_Suc_1</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.finite_varposs|fact"><span>finite_varposs</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2101..2104">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span>  </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><span>arg_cong</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1967..1972"><span>split</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1625..1627"><span>vp</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1625..1627"><span>vp</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1967..1972"><span>split</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2241..2246">cases</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_const_ctxt_apply|fact"><span>poss_of_term_const_ctxt_apply</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_par|const"><span>â¥</span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2101..2104"><span>wit</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.par_hole_pos_replace_term_context_at|fact"><span>par_hole_pos_replace_term_context_at</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2563..2567">hole</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2241..2246"><span>cases</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1625..1627"><span>vp</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1967..1972"><span>split</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>[</span></a></span><span class="skolem"><span>p</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.replace_term_at|const"><span>]</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term_replace_term_at|fact"><span>poss_of_term_replace_term_at</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs_imp_poss|fact"><span>varposs_imp_poss</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2735..2737">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.poss_of_term_hole_poss|fact"><span>poss_of_term_hole_poss</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2735..2737"><span>this</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1967..1972"><span>split</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2563..2567"><span>hole</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.poss_of_term|const"><span>poss_of_term</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.constT|const"><span>constT</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2874..2876">by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.poss_of_term_subst_apply_varposs|fact"><span>poss_of_term_subst_apply_varposs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2874..2876"><span>this</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span class="main"><span>(</span></span></span><span>4</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>q</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
      </span><span class="entity_def" id="offset_2961..2962">q</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.varposs|const"><span>varposs</span></a><span> </span><span class="free"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>q</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.position_less_eq|const"><span>â¤<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>p</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.pos_diff|const"><span>-<span class="hidden">â©</span><sub>p</sub></span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.hole_pos|const"><span>hole_pos</span></a><span> </span><span class="skolem"><span>D</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2101..2104"><span>wit</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span>(</span></span><span>5</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2563..2567"><span>hole</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term_varposs_subst_replace_term|fact"><span>linear_term_varposs_subst_replace_term</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_1481..1484"><span>Suc</span></a><span class="main"><span class="main"><span>(</span></span></span><span>5</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_2961..2962"><span>q</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.subt_at|const"><span>|_</span></a></span><span> </span><span class="skolem"><span>p</span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.card_varposs_ground|fact"><span>card_varposs_ground</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>




</span><span class="comment1"><span>(</span><span>*</span><span>**************** end AUX *******************</span><span>*</span><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_def|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_def|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><span>â©</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_def|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_def|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_def_raw|axiom"><span>definition</span></span></span></span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span> </span><span class="main"><span>â·</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>n</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â±</span></span></span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>n</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="comment1"><span>â â¹</span><span>NF of ground terms</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|thm"><span>ground_NF_srstep_gsrstep</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|thm"><span>NF_to_fresh_const_subst_NF</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3652..3655">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3676..3687">fresh_const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3738..3742">nf_f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><span>Restr</span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>Collect</span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3952..3956">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3952..3956"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4035..4036">l</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_term|const"><span>linear_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3652..3655"><span>lin</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3676..3687"><span>fresh_const</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_subst_from_match|fact"><span>remove_const_subst_from_match</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3952..3956"><span>step</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4035..4036"><span>l</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3952..3956"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3738..3742"><span>nf_f</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_3676..3687"><span>fresh_const</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>r_into_trancl'</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_trancl_sig_step_r|fact"><span>rstep_trancl_sig_step_r</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|thm"><span>fresh_const_subst_NF_pres</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4407..4418">fresh_const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4469..4473">nf_f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_4663..4667">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
  </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_4790..4796">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>C</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.subst_apply_ctxt|const"><span>â<span class="hidden">â©</span><sub>c</sub></span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4840..4841">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4790..4796"><span>D_def</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4663..4667"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_compose|fact"><span>subst_compose</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_subst_compose|fact"><span>subst_subst_compose</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq|fact"><span>term_subst_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4663..4667"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4469..4473"><span>nf_f</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4407..4418"><span>fresh_const</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4790..4796"><span>D_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_ctxt_subst_apply_ctxt|fact"><span>funas_ctxt_subst_apply_ctxt</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_ctxt|const"><span>ground_ctxt</span></a><span> </span><span class="skolem"><span>D</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>arg_cong</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4840..4841"><span>s</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4790..4796"><span>D_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_substI|fact"><span>ground_substI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>D</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4663..4667"><span>step</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstepI|fact"><span>rstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4469..4473"><span>nf_f</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_4840..4841"><span>s</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.linear_sys_gNF_eq_NF_eq|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.linear_sys_gNF_eq_NF_eq|thm"><span>linear_sys_gNF_eq_NF_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5598..5601">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5640..5644">well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5689..5694">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5749..5753">lift</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5783..5785">nf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_I|fact"><span>NF_I</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5979..5981">d1</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5783..5785"><span>nf</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6059..6061">d2</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5783..5785"><span>nf</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6148..6149">n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5598..5601"><span>lin</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5689..5694"><span>fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5640..5644"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_6148..6149"><span>n</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5979..5981"><span>d1</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|fact"><span>fresh_const_subst_NF_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5689..5694"><span>fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5640..5644"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5749..5753"><span>lift</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp_all</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6430..6431">n</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5598..5601"><span>lin</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5689..5694"><span>fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5640..5644"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_6430..6431"><span>n</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_6059..6061"><span>d2</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|fact"><span>fresh_const_subst_NF_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5689..5694"><span>fresh</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5640..5644"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_5749..5753"><span>lift</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp_all</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="comment1"><span>â â¹</span><span>Steps of ground</span><span>âº</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_to_srsteps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_to_srsteps|thm"><span>gsrsteps_to_srsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>inf_le1</span><span> </span><span>trancl_mono</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|thm"><span>gsrsteps_eq_to_srsteps_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_to_srsteps|fact"><span>gsrsteps_to_srsteps</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_to_rsteps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_to_rsteps|thm"><span>gsrsteps_to_rsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_to_srsteps|fact"><span>gsrsteps_to_srsteps</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|thm"><span>gsrsteps_eq_to_rsteps_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_srsteps_relcompD|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_srsteps_relcompD|thm"><span>gsrsteps_eq_relcomp_srsteps_relcompD</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|thm"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_srsteps_relcompD|fact"><span>gsrsteps_eq_relcomp_srsteps_relcompD</span></a><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7682..7687">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|thm"><span>ground_srsteps_gsrsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_7682..7687"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7863..7864">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_7682..7687"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_7863..7864"><span>f</span></a><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>base</span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_8143..8147">step</span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8143..8147"><span>step</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 4</span><span class="main"><span>,</span></span><span> 5</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8143..8147"><span>step</span></a><span class="main"><span>(</span></span><span>3 - 5</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>Transitive_Closure.trancl_into_trancl</span><span class="main"><span>)</span></span><span> 
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_7682..7687"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8438..8443">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|thm"><span>ground_srsteps_eq_gsrsteps_eq</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8438..8443"><span>assms</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8649..8654">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|thm"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8649..8654"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_8867..8872">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8867..8872"><span>steps</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8867..8872"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8867..8872"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8649..8654"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_8649..8654"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Steps of llrg systems</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_ground_rhs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_ground_rhs|thm"><span>llrg_ground_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>r</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9558..9563">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|thm"><span>llrg_rrsteps_groundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_9558..9563"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>fastforce</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_ground_rhs|fact"><span>llrg_ground_rhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_9558..9563"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_9795..9800">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_rsteps_pres_groundness|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_rsteps_pres_groundness|thm"><span>llrg_rsteps_pres_groundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_9795..9800"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl.induct</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_9973..9993">rtrancl_into_rtrancl</span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_9973..9993"><span>rtrancl_into_rtrancl</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.vars_term_ctxt_apply|fact"><span>vars_term_ctxt_apply</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span>
      </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_ground_rhs|fact"><span>llrg_ground_rhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_9795..9800"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10263..10268">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|thm"><span>llrg_srsteps_with_root_step_ground</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_10263..10268"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|fact"><span>llrg_rrsteps_groundness</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rsteps_pres_groundness|fact"><span>llrg_rsteps_pres_groundness</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10500..10505">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_inv_ground|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_inv_ground|thm"><span>llrg_srsteps_with_root_step_inv_ground</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_10500..10505"><span>assms</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|fact"><span>llrg_rrsteps_groundness</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rsteps_pres_groundness|fact"><span>llrg_rsteps_pres_groundness</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>converseD</span><span> </span><span>relcomp.cases</span><span> </span><span>rtrancl_converseD</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_converse_dist|fact"><span>srrstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10851..10856">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_funas_term_step_pres|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_funas_term_step_pres|thm"><span>llrg_funas_term_step_pres</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="skolem"><span>Ï</span></span><span>  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_10851..10856"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_10851..10856"><span>assms</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11229..11234">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_funas_term_steps_pres|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_funas_term_steps_pres|thm"><span>llrg_funas_term_steps_pres</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11229..11234"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_funas_term_step_pres|fact"><span>llrg_funas_term_step_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11229..11234"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Steps of monadic llrg systems</span><span>âº</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_ground_ctxt_apply|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_ground_ctxt_apply|thm"><span>monadic_ground_ctxt_apply</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="free"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>r</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>r</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_def|fact"><span>monadic_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_11606..11611">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|thm"><span>llrg_monadic_rstep_pres_groundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11606..11611"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11606..11611"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_11787..11788">r</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11807..11808">t</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11606..11611"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11906..11911">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_ground_rhs|fact"><span>llrg_ground_rhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11606..11611"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11787..11788"><span>r</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12023..12024">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span> 
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11906..11911"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11606..11611"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_11807..11808"><span>t</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_12023..12024"><span>*</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_ground_ctxt_apply|fact"><span>monadic_ground_ctxt_apply</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12174..12179">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_monadic_rsteps_groundness|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.llrg_monadic_rsteps_groundness|thm"><span>llrg_monadic_rsteps_groundness</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_12174..12179"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|fact"><span>llrg_monadic_rstep_pres_groundness</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_12174..12179"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1 </span><span class="main"><span class="main"><span>,</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl.induct</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Steps in monadic lv system</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.elims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pelims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.termination|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pinduct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.psimps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.elims(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.elims(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.elims(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.simps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.simps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.simps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pelims(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pelims(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pelims(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.termination|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.pinduct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.psimps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.psimps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term.psimps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel.intros|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.intros(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.intros(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph.intros(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_sumC_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_dom|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_rel|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_sumC|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_term</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_term</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>True</span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_term</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><span>length</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>0</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="free"><span>monadic_term</span></span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.elims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.pelims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.termination|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.pinduct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.psimps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.elims|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.simps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.simps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.simps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.pelims|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.termination|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.pinduct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.psimps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.psimps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave.psimps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel.intros|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.intros(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.intros(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph.intros(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_sumC_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_dom|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_rel|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_sumC|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_get_leave|const"><span>monadic_get_leave</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_get_leave</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_get_leave</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_get_leave</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>monadic_get_leave</span></span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.elims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.pelims|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.termination|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.pinduct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.psimps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.inducts|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.simps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.induct|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.cases|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.intros|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.elims|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.simps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.simps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.simps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.pelims|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.termination|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.pinduct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.psimps(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.psimps(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave.psimps(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel.intros|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.inducts|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.simps|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.induct|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.cases|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.intros(3)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.intros(2)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph.intros(1)|thm"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_sumC_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph_def|axiom"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_dom|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_rel|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_sumC|const"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_graph|const"><span>fun</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_replace_leave</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Var|const"><span>Var</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_replace_leave</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>[]</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span>"</span></span></span><span>
</span><span class="main"><span>|</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>monadic_replace_leave</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><span>[</span></span><span class="free"><span>monadic_replace_leave</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>t</span></span></span></span><span> </span><span class="main"><span>(</span></span><span>hd</span><span> </span><span class="free"><span class="bound"><span class="entity"><span>ts</span></span></span></span><span class="main"><span>)</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12977..12982">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_undo_const_subst|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_undo_const_subst|thm"><span>monadic_replace_leave_undo_const_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_get_leave|const"><span>monadic_get_leave</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_12977..12982"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13224..13229">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_context|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_context|thm"><span>monadic_replace_leave_context</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_13224..13229"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>C</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>More</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ss</span></span><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ss</span></span></span><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_13473..13478">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_subst|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_subst|thm"><span>monadic_replace_leave_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_13473..13478"><span>assms</span></a><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_sig|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_sig|thm"><span>monadic_sig</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span class="main"><span>,</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span>length</span><span> </span><span class="free"><span>ts</span></span><span> </span><span class="main"><span>â¤</span></span><span> </span><span>Suc</span><span> </span><span class="main"><span>0</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_def|fact"><span>monadic_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_sig_funas_term_mt|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_sig_funas_term_mt|thm"><span>monadic_sig_funas_term_mt</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_def|fact"><span>monadic_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_const_pres|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.monadic_term_const_pres|thm"><span>monadic_term_const_pres</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>intro</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_lhs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_lhs|thm"><span>remove_const_lv_mondaic_step_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14256..14258">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14271..14276">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14308..14311">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14332..14336">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14332..14336"><span>step</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_14450..14451">s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>fastforce</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14536..14538">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14256..14258"><span>lv</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14271..14276"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14646..14648">cl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14711..14716">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14271..14276"><span>fresh</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14332..14336"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14308..14311"><span>mon</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14904..14906">mt</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_sig_funas_term_mt|fact"><span>monadic_sig_funas_term_mt</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14308..14311"><span>mon</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15024..15026">ml</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_term|const"><span>monadic_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt_apply|fact"><span>funas_ctxt_apply</span></a><span> </span><span>le_sup_iff</span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14332..14336"><span>step</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14308..14311"><span>mon</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_sig_funas_term_mt|fact"><span>monadic_sig_funas_term_mt</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14332..14336"><span>step</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_15299..15303">case</span></span></span><span> </span><span>False</span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_15315..15317">ng</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15299..15303"><span>this</span></a><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15339..15341">cs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_empty_ground|fact"><span>vars_term_empty_ground</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15456..15460">ngrl</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Â¬</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15339..15341"><span>cs</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14904..14906"><span>mt</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15315..15317"><span>ng</span></a><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quoted"><span class="free"><span>s</span></span></span><span> </span><span class="quasi_keyword"><span>arbitrary</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span>Var</span><span> </span><span class="skolem"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14646..14648"><span>cl</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15339..15341"><span>cs</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>(</span></span><span class="entity_def" id="offset_15664..15667">Fun</span><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="skolem"><span>ts</span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15664..15667"><span>Fun</span></a><span class="main"><span>(</span></span><span>5-</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>ts</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>[</span></span><span class="skolem"><span>t</span></span><span class="main"><span>]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>ts</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?case</span></span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.Hole|const"><span>Hole</span></a><span>"</span></span></span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>True</span><span> </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15664..15667"><span>Fun</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14646..14648"><span>cl</span></a><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
        </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_15913..15917">case</span></span></span><span> </span><span>False</span><span>
        </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15913..15917"><span>this</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15664..15667"><span>Fun</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>D</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt.More|const"><span>More</span></a><span> </span><span class="skolem"><span>f</span></span><span> </span><span class="main"><span>[]</span></span><span> </span><span class="skolem"><span>D</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="skolem"><span>C</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>Cons_eq_append_conv</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15664..15667"><span>Fun</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>D</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15664..15667"><span>Fun</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span>
          </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
      </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_get_leave|const"><span>monadic_get_leave</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_get_leave|const"><span>monadic_get_leave</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq|fact"><span>term_subst_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>arg_cong</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave|const"><span>monadic_replace_leave</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_get_leave|const"><span>monadic_get_leave</span></a><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="main"><span>,</span></span><span>
      </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_undo_const_subst|fact"><span>monadic_replace_leave_undo_const_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14904..14906"><span>mt</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>c</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span>
      </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_context|fact"><span>monadic_replace_leave_context</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14904..14906"><span>mt</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span>
      </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_replace_leave_subst|fact"><span>monadic_replace_leave_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15024..15026"><span>ml</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_15456..15460"><span>ngrl</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>presburger</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14536..14538"><span>lv</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq|fact"><span>term_subst_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14450..14451"><span>s</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_14711..14716"><span>funas</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_rhs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_rhs|thm"><span>remove_const_lv_mondaic_step_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_16912..16914">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16927..16932">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16965..16968">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16990..16994">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17083..17088">inv_v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_16927..16932"><span>fresh</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_16912..16914"><span>lv</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_16990..16994"><span>step</span></a><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17246..17248">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_lhs|fact"><span>remove_const_lv_mondaic_step_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17083..17088"><span>inv_v</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_16965..16968"><span>mon</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17246..17248"><span>this</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_lhs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_lhs|thm"><span>remove_const_lv_mondaic_steps_lhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_17499..17501">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17514..17519">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17552..17555">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17577..17582">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_lhs|fact"><span>remove_const_lv_mondaic_step_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17499..17501"><span>lv</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17514..17519"><span>fresh</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17552..17555"><span>mon</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17577..17582"><span>steps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>converse_tranclE</span><span> </span><span>r_into_trancl</span><span> </span><span>trancl_into_trancl2</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_rhs|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_rhs|thm"><span>remove_const_lv_mondaic_steps_rhs</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_17840..17842">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17855..17860">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17893..17896">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17918..17923">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_step_rhs|fact"><span>remove_const_lv_mondaic_step_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17840..17842"><span>lv</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17855..17860"><span>fresh</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17893..17896"><span>mon</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_17918..17923"><span>steps</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>trancl.simps</span><span class="main"><span>)</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18093..18098">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps|thm"><span>remove_const_lv_mondaic_steps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_18140..18142">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18155..18160">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18193..18196">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_rhs|fact"><span>remove_const_lv_mondaic_steps_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18140..18142"><span>lv</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18155..18160"><span>fresh</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18193..18196"><span>mon</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps_lhs|fact"><span>remove_const_lv_mondaic_steps_lhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18093..18098"><span>assms</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>

</span><span class="comment1"><span>â â¹</span><span>Steps on lv trs</span><span>âº</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18452..18457">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_root_step_idep_subst|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_root_step_idep_subst|thm"><span>lv_root_step_idep_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18539..18543">well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span>  </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18452..18457"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Î³</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_18684..18687">mid</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Î³</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Î³</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18684..18687"><span>mid</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18452..18457"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18787..18789">vs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><span>if</span></span><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="keyword1"><span>then</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Î³</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="keyword1"><span>else</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>Î³</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18934..18939">subst</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18684..18687"><span>mid</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_subst_compose|fact"><span>subst_subst_compose</span></a><span class="main"><span>[</span></span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term_subst_eq_conv|fact"><span>term_subst_eq_conv</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_compose_def|fact"><span>subst_compose_def</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18787..18789"><span>vs</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18934..18939"><span>subst</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18452..18457"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18684..18687"><span>mid</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18539..18543"><span>well</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_18684..18687"><span>mid</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_19241..19246">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span class="entity_def" id="Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|thm"><span>lv_srsteps_with_root_step_idep_subst</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19356..19360">well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>Ï</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="free"><span>Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_19241..19246"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_root_step_idep_subst|fact"><span>lv_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_19241..19246"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_19356..19360"><span>well</span></a><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span>id</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?x2</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span>id</span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_19356..19360"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span>id</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#offset_19356..19360"><span>well</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?x1</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span>id</span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.relcomp3_I|fact"><span>relcomp3_I</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>body>
<div class="head">
<h1>Theory Rewriting_GTRS</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Rewriting_GTRS</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Rewriting.html"><span>Rewriting</span></a><span>
    </span><a href="Replace_Constant.html"><span>Replace_Constant</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Specific results about rewriting under a ground system</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>â</span></span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="bound"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="bound"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_206..211">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srrstep_ground|fact"><span class="entity_def" id="Rewriting_GTRS.srrstep_ground(2)|thm"><span class="entity_def" id="Rewriting_GTRS.srrstep_ground(1)|thm"><span>srrstep_ground</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_206..211"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.vars_term_subst|fact"><span>vars_term_subst</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep_subst|fact"><span>rrstep_subst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_413..418">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srstep_pres_ground_l|fact"><span class="entity_def" id="Rewriting_GTRS.srstep_pres_ground_l|thm"><span>srstep_pres_ground_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_413..418"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_612..617">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srstep_pres_ground_r|fact"><span class="entity_def" id="Rewriting_GTRS.srstep_pres_ground_r|thm"><span>srstep_pres_ground_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_612..617"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.vars_term_subst|fact"><span>vars_term_subst</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.vars_term_ctxt_apply|fact"><span>vars_term_ctxt_apply</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_871..876">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_pres_ground_l|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_pres_ground_l|thm"><span>srsteps_pres_ground_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_871..876"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_pres_ground_l|fact"><span>srstep_pres_ground_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_871..876"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1090..1095">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_pres_ground_r|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_pres_ground_r|thm"><span>srsteps_pres_ground_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1090..1095"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_pres_ground_r|fact"><span>srstep_pres_ground_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1090..1095"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1310..1315">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_pres_ground_l|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_pres_ground_l|thm"><span>srsteps_eq_pres_ground_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_l|fact"><span>srsteps_pres_ground_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1310..1315"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1310..1315"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1527..1532">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_pres_ground_r|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_pres_ground_r|thm"><span>srsteps_eq_pres_ground_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_r|fact"><span>srsteps_pres_ground_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1527..1532"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1527..1532"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1744..1749">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_ground(2)|thm"><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_ground(1)|thm"><span>srsteps_with_root_step_ground</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srrstep_ground|fact"><span>srrstep_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1744..1749"><a class="entity_ref" href="Rewriting_GTRS.html#offset_1744..1749"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_eq_pres_ground_l|fact"><span>srsteps_eq_pres_ground_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1744..1749"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_eq_pres_ground_r|fact"><span>srsteps_eq_pres_ground_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1744..1749"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_1744..1749"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>relcomp.cases</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>funas</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2111..2116">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srrstep_funas|fact"><span class="entity_def" id="Rewriting_GTRS.srrstep_funas(2)|thm"><span class="entity_def" id="Rewriting_GTRS.srrstep_funas(1)|thm"><span>srrstep_funas</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep|const"><span>srrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_2111..2116"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep_subst|fact"><span>rrstep_subst</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2391..2396">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srstep_funas_l|fact"><span class="entity_def" id="Rewriting_GTRS.srstep_funas_l|thm"><span>srstep_funas_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_2391..2396"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.vars_term_subst|fact"><span>vars_term_subst</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.vars_term_ctxt_apply|fact"><span>vars_term_ctxt_apply</span></a><span>
     </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2702..2707">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srstep_funas_r|fact"><span class="entity_def" id="Rewriting_GTRS.srstep_funas_r|thm"><span>srstep_funas_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_2702..2707"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_vars_term_empty|fact"><span>ground_vars_term_empty</span></a><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.vars_term_subst|fact"><span>vars_term_subst</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.vars_term_ctxt_apply|fact"><span>vars_term_ctxt_apply</span></a><span>
     </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>prod.splits</span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3013..3018">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_funas_l|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_funas_l|thm"><span>srsteps_funas_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3013..3018"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_funas_l|fact"><span>srstep_funas_l</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3013..3018"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3247..3252">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_funas_r|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_funas_r|thm"><span>srsteps_funas_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3247..3252"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>induct</span></span><span> </span><span class="quasi_keyword"><span>rule</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>converse_trancl_induct</span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_funas_r|fact"><span>srstep_funas_r</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3247..3252"><span>assms</span></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3481..3486">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_funas_l|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_funas_l|thm"><span>srsteps_eq_funas_l</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_funas_l|fact"><span>srsteps_funas_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3481..3486"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3481..3486"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3702..3707">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_funas_r|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_eq_funas_r|thm"><span>srsteps_eq_funas_r</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>âª</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_funas_r|fact"><span>srsteps_funas_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3702..3707"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3702..3707"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3923..3928">lemma</span></span></span><span> </span><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_funas|fact"><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_funas(2)|thm"><span class="entity_def" id="Rewriting_GTRS.srsteps_with_root_step_funas(1)|thm"><span>srsteps_with_root_step_funas</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srrstep_funas|fact"><span>srrstep_funas</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3923..3928"><a class="entity_ref" href="Rewriting_GTRS.html#offset_3923..3928"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_eq_funas_l|fact"><span>srsteps_eq_funas_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3923..3928"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_eq_funas_r|fact"><span>srsteps_eq_funas_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3923..3928"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#offset_3923..3928"><span>assms</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>relcompEpair</span><span> </span><span>sup_absorb2</span><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>/head>


<body>
<div class="head">
<h1>Theory Ground_Reduction_on_LLRG</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reducing Rewrite Properties to Properties on Ground Terms over Left-Linear Right-Ground Systems</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Ground_Reduction_on_LLRG</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="Rewriting_Properties.html"><span>Rewriting_Properties</span></a><span>
    </span><a href="Rewriting_LLRG_LV_Mondaic.html"><span>Rewriting_LLRG_LV_Mondaic</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_linear_sys|thm"><span>llrg_linear_sys</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>LLRG results</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_commute|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_commute|thm"><span>llrg_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_342..345">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_390..395">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_417..421">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_448..451">com</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.Fun|const"><span>Fun</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>[]</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_390..395"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_647..656">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_342..345"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_758..764">linear</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_417..421"><span>llrg</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_844..848">sig'</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_342..345"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_936..940">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_977..980">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_977..980"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1037..1042">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>relcomp.cases</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_977..980"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1180..1181">m</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>rtrancl_mono</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_936..940"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1371..1373">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_977..980"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_417..421"><span>llrg</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span>trancl_converse</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_inv_ground|fact"><span>llrg_srsteps_with_root_step_inv_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1571..1576">gstep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_relcomp_closed|fact"><span>srsteps_eq_subst_relcomp_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1180..1181"><span>m</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_448..451"><span>com</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground_substI|fact"><span>ground_substI</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1037..1042"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_390..395"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1979..1983">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_lhs|fact"><span>remove_const_subst_relcomp_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_758..764"><span>linear</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_647..656"><span>fresh_sys</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1571..1576"><span>gstep</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1371..1373"><span>gr</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_lhs|fact"><span>remove_const_subst_relcomp_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_758..764"><span>linear</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_647..656"><span>fresh_sys</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_rhs|fact"><span>remove_const_subst_relcomp_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_758..764"><span>linear</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_647..656"><span>fresh_sys</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>s</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_844..848"><span>sig'</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1037..1042"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_1979..1983"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_rrstep_intro|fact"><span>commute_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2601..2606">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_CR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_CR|thm"><span>llrg_CR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>com</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2601..2606"><span>assms</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_commute|fact"><span>llrg_commute</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_iff_self_commute|fact"><span>CR_iff_self_commute</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_SCR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_SCR|thm"><span>llrg_SCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_2867..2870">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2894..2899">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2921..2925">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2943..2946">scr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2894..2899"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3091..3100">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2867..2870"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3176..3180">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_3204..3213">sig_trans</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_monp|fact"><span>srstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3176..3180"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3269..3272">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3326..3330">root</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3269..3272"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3416..3421">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3326..3330"><span>root</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3533..3535">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3269..3272"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2921..2925"><span>llrg</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|fact"><span>llrg_rrsteps_groundness</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span>trancl_converse</span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3669..3670">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3726..3728">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3726..3728"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2943..2946"><span>scr</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_3767..3768">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3204..3213"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3269..3272"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3204..3213"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3269..3272"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3269..3272"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3669..3670"><span>*</span></a><span> </span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4060..4062">fv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3533..3535"><span>gr</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_funas_term_step_pres|fact"><span>llrg_funas_term_step_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2921..2925"><span>llrg</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_funas_term_steps_pres|fact"><span>llrg_funas_term_steps_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2921..2925"><span>llrg</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3416..3421"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2867..2870"><span>sig</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>elim</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4312..4318">c_free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>v</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2894..2899"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_4374..4378">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>arg_cong</span><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>v</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_empty_ground|fact"><span>vars_term_empty_ground</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_4374..4378"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3767..3768"><span>v</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span>remove_const_subst_steps_eq_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2921..2925"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3091..3100"><span>fresh_sys</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_4312..4318"><span>c_free</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2867..2870"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3416..3421"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_4060..4062"><span>fv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_step_lhs|fact"><span>remove_const_subst_step_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_2921..2925"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3091..3100"><span>fresh_sys</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_4312..4318"><span>c_free</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepI|fact"><span>sig_stepI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_3416..3421"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_4060..4062"><span>fv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_rrstep_intro|fact"><span>SCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_WCR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_WCR|thm"><span>llrg_WCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5118..5121">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5145..5150">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5172..5176">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5194..5197">wcr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5145..5150"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5342..5351">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5118..5121"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5453..5456">lin</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5172..5176"><span>llrg</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_def|fact"><span>llrg_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5536..5540">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5564..5573">sig_trans</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_monp|fact"><span>srstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5536..5540"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5629..5632">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5707..5712">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5801..5807">c_free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5145..5150"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5872..5874">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5172..5176"><span>llrg</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_rrsteps_groundness|fact"><span>llrg_rrsteps_groundness</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5944..5945">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5983..5985">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5983..5985"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5194..5197"><span>wcr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6014..6015">w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5564..5573"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5564..5573"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5629..5632"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR_on_def|fact"><span>WCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5944..5945"><span>*</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5872..5874"><span>gr</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp_rhs|fact"><span>remove_const_subst_relcomp_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5453..5456"><span>lin</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5342..5351"><span>fresh_sys</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5801..5807"><span>c_free</span></a><span>
        </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6014..6015"><span>w</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5118..5121"><span>sig</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.funas_rel_converse|fact"><span>funas_rel_converse</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5118..5121"><span>sig</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_5707..5712"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2-</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.WCR_rrstep_intro|fact"><span>WCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_UNF|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_UNF|thm"><span>llrg_UNF</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6739..6742">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6766..6771">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6793..6797">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6815..6818">unf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6766..6771"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6963..6972">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6739..6742"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7048..7052">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7089..7092">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7089..7092"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7149..7154">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>relcomp.cases</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7089..7092"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7292..7293">m</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>rtrancl_mono</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7048..7052"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7483..7485">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7089..7092"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6793..6797"><span>llrg</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span>trancl_converse</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_inv_ground|fact"><span>llrg_srsteps_with_root_step_inv_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7683..7686">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6815..6818"><span>unf</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_relcomp_closed|fact"><span>srsteps_eq_subst_relcomp_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7292..7293"><span>m</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7149..7154"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6793..6797"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6963..6972"><span>fresh_sys</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6739..6742"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7483..7485"><span>gr</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7149..7154"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_6766..6771"><span>fresh</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.vars_term_empty_ground|fact"><span>vars_term_empty_ground</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_7683..7686"><span>wit</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNF_rrstep_intro|fact"><span>UNF_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NFP|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NFP|thm"><span>llrg_NFP</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8513..8516">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8540..8545">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8567..8571">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8589..8592">nfp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8540..8545"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8737..8746">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8513..8516"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8822..8826">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_8863..8866">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8863..8866"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8923..8928">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><span>relcomp.cases</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8863..8866"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9066..9067">m</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>rtrancl_mono</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_mono|fact"><span>sig_step_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8822..8826"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9257..9259">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8863..8866"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8567..8571"><span>llrg</span></a><span> 
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span>trancl_converse</span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_inv_ground|fact"><span>llrg_srsteps_with_root_step_inv_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_9457..9460">wit</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_stepD|fact"><span>NFP_stepD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8589..8592"><span>nfp</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_relcomp_closed|fact"><span>srsteps_eq_subst_relcomp_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_9066..9067"><span>m</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8923..8928"><span>funas</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8567..8571"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8737..8746"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8513..8516"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_9257..9259"><span>gr</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8923..8928"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8540..8545"><span>fresh</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span>remove_const_subst_steps_eq_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8567..8571"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8737..8746"><span>fresh_sys</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8513..8516"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8923..8928"><span>funas</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_rhs|fact"><span>remove_const_subst_steps_eq_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8567..8571"><span>llrg</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8737..8746"><span>fresh_sys</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8513..8516"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_8923..8928"><span>funas</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_9457..9460"><span>wit</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_rrstep_intro|fact"><span>NFP_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10464..10469">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NE_aux|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NE_aux|thm"><span>llrg_NE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span>  </span><span class="entity_def" id="offset_10539..10542">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10584..10589">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10611..10615">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10642..10644">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10584..10589"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10765..10774">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10539..10542"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10955..10959">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10464..10469"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10999..11001">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_11018..11023">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10611..10615"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_11018..11023"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11195..11202">fresh_t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10584..10589"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_monp|fact"><span>srsteps_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10955..10959"><span>mono</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10464..10469"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10999..11001"><span>gr</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10611..10615"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10765..10774"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10539..10542"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_11018..11023"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10999..11001"><span>gr</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10642..10644"><span>ne</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10642..10644"><span>ne</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span>remove_const_subst_steps_eq_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10611..10615"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10765..10774"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_11195..11202"><span>fresh_t</span></a><span class="main"><span>,</span></span><span>
      </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_10539..10542"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_11018..11023"><span>funas</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NE|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.llrg_NE|thm"><span>llrg_NE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_12102..12105">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12147..12152">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12174..12178">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_12205..12207">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_12328..12329">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12147..12152"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12102..12105"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_12438..12444">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_NE_aux|fact"><span>llrg_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12438..12444"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12102..12105"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12147..12152"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12174..12178"><span>llrg</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12205..12207"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_12593..12599">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_NE_aux|fact"><span>llrg_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12593..12599"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12102..12105"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12147..12152"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12174..12178"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_symmetric|fact"><span>NE_symmetric</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12205..12207"><span>ne</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.linear_sys_gNF_eq_NF_eq|fact"><span>linear_sys_gNF_eq_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12174..12178"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
    </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.llrg_linear_sys|fact"><span>llrg_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12174..12178"><span>llrg</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12102..12105"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12328..12329"><span>f</span></a><span> _ _ </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12205..12207"><span>ne</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_rrstep_intro|fact"><span>NE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Specialized for monadic signature</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_12988..12993">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_commute|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_commute|thm"><span>monadic_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_13058..13061">com</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_13237..13242">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13392..13394">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13237..13242"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_12988..12993"><span>assms</span></a><span class="main"><span>(</span></span><span>1 - 3</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rsteps_groundness|fact"><span>llrg_monadic_rsteps_groundness</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13237..13242"><span>steps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13592..13593">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13237..13242"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13392..13394"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13592..13593"><span>f</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_13058..13061"><span>com</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14059..14061">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>relcomp.relcompI</span><span> </span><span>subsetD</span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_srsteps_relcompD|fact"><span>gsrsteps_eq_relcomp_srsteps_relcompD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14059..14061"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_rrstep_intro|fact"><span>commute_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_14336..14341">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_CR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_CR|thm"><span>monadic_CR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#Ground_Reduction_on_LLRG.monadic_commute|fact"><span>monadic_commute</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14336..14341"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_iff_self_commute|fact"><span>CR_iff_self_commute</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_SCR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_SCR|thm"><span>monadic_SCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_14539..14542">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14581..14585">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14603..14606">scr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_14683..14686">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_14740..14744">root</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14683..14686"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14830..14835">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14740..14744"><span>root</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14923..14925">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14683..14686"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14539..14542"><span>sig</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14581..14585"><span>llrg</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|fact"><span>llrg_monadic_rstep_pres_groundness</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>grs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14923..14925"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_15083..15085">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15083..15085"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14603..14606"><span>scr</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14683..14686"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14683..14686"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14923..14925"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Int_iff</span><span> </span><span>UNIV_I</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_14830..14835"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span>mem_Collect_eq</span><span> </span><span>mem_Sigma_iff</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Int_iff</span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_rrstep_intro|fact"><span>SCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_WCR|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_WCR|thm"><span>monadic_WCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15605..15608">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15647..15651">llrg</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_15669..15672">wcr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_15749..15752">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15827..15832">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15938..15940">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15605..15608"><span>sig</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15647..15651"><span>llrg</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|fact"><span>llrg_monadic_rstep_pres_groundness</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>grs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15938..15940"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16097..16099">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16097..16099"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15669..15672"><span>wcr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15938..15940"><span>gr</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15827..15832"><span>funas</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_15749..15752"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR_on_def|fact"><span>WCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>IntI</span><span> </span><span>SigmaI</span><span> </span><span>UNIV_I</span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span>mem_Collect_eq</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.joinD|fact"><span>joinD</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.joinI|fact"><span>joinI</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.WCR_rrstep_intro|fact"><span>WCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16582..16587">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_UNF|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_UNF|thm"><span>monadic_UNF</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_16639..16642">unf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span>ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_16783..16788">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16938..16940">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16783..16788"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16582..16587"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_srsteps_with_root_step_ground|fact"><span>llrg_srsteps_with_root_step_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rsteps_groundness|fact"><span>llrg_monadic_rsteps_groundness</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16783..16788"><span>steps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17137..17138">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16783..16788"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16938..16940"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17137..17138"><span>f</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16639..16642"><span>unf</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16938..16940"><span>gr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_16938..16940"><span>gr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
           </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNF_rrstep_intro|fact"><span>UNF_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17805..17810">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_UNC|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_UNC|thm"><span>monadic_UNC</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>well</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_17893..17896">unc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_17971..17974">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span> </span><span class="bound"><span>s'</span></span><span> </span><span class="bound"><span>t'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>s'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>t'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17971..17974"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>tranclD</span><span> </span><span>tranclD2</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>s'</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_18339..18344">split</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>s</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t'</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_18339..18344"><span>split</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18461..18463">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rstep_pres_groundness|fact"><span>llrg_monadic_rstep_pres_groundness</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17805..17810"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>,</span></span></span><span> 2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18552..18554">by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_18552..18554"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17971..17974"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_smycl_dist|fact"><span>Restr_smycl_dist</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17971..17974"><span>ass</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_17893..17896"><span>unc</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_18461..18463"><span>gr</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18983..18988">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_NFP|fact"><span class="entity_def" id="Ground_Reduction_on_LLRG.monadic_NFP|thm"><span>monadic_NFP</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg|const"><span>llrg</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_19040..19043">nfp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_19120..19123">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="entity_def" id="offset_19287..19291">True</span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19120..19123"><span>ass</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_not_suc|fact"><span>NF_not_suc</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19287..19291"><span>True</span></a><span> </span><span>rtrancl.rtrancl_refl</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
      </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>False</span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19413..19418">steps</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19120..19123"><span>ass</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19552..19554">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_18983..18988"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>,</span></span><span> 2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.llrg_monadic_rsteps_groundness|fact"><span>llrg_monadic_rsteps_groundness</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19413..19418"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19552..19554"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span>
           </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19040..19043"><span>nfp</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19120..19123"><span>ass</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LLRG.html#offset_19552..19554"><span>gr</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on_def|fact"><span>NFP_on_def</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_I|fact"><span>normalizability_I</span></a><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_on_def|fact"><span>NFP_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>/head>


<body>
<div class="head">
<h1>Theory Ground_Reduction_on_GTRS</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reducing Rewrite Properties to Properties on Ground Terms over Ground Systems</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Ground_Reduction_on_GTRS</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="Rewriting_Properties.html"><span>Rewriting_Properties</span></a><span>
    </span><a href="Rewriting_GTRS.html"><span>Rewriting_GTRS</span></a><span>
    </span><a href="Rewriting_LLRG_LV_Mondaic.html"><span>Rewriting_LLRG_LV_Mondaic</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_212..217">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_nf_eq_lift|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_nf_eq_lift|thm"><span>ground_sys_nf_eq_lift</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span> 
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span>gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>nf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>ð°</span></span><span> </span><span class="skolem"><span>ð±</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_443..446">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>ð°</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="skolem"><span>ð±</span></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>rule</span></span><span> </span><span>ccontr</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>C</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>l</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>r</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>Ï</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_687..691">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>r</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="skolem"><span>ð±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_710..713">rep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="skolem"><span>Ï</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span>
        </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_742..747">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_ctxt|const"><span>funas_ctxt</span></a><span> </span><span class="skolem"><span>C</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>r</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_443..446"><span>ass</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_def|fact"><span>NF_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_imp_C_s_r|fact"><span>rstep_imp_C_s_r</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_687..691"><span>step</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_443..446"><span>ass</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_710..713"><span>rep</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_941..944">rep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>C</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â¨</span></a></span><span class="skolem"><span>l</span></span><span class="main"><a class="entity_ref" href="../Knuth_Bendix_Order/Subterm_and_Context.html#Subterm_and_Context.ctxt_apply_term|const"><span>â©</span></a></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>l</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>r</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_687..691"><span>step</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_941..944"><span>rep</span></a><span class="main"><span>(</span></span><span>2-</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_742..747"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1089..1091">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_def|fact"><span>NF_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_def|fact"><span>sig_step_def</span></a><span> </span><span>Image_def</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1089..1091"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_443..446"><span>ass</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>l</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>t</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>ð°</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1241..1243">by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_ctxt_closed|fact"><span>srstep_ctxt_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_742..747"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1241..1243"><span>this</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_941..944"><span>rep</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span>False</span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_443..446"><span>ass</span></a><span class="main"><span>(</span></span><span>4</span><span class="main"><span>)</span></span><span> 
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_212..217"><span>assms</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>smt</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>verit</span><span class="main"><span class="main"><span>,</span></span></span><span> best</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>equalityI</span><span> </span><span>subsetI</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_inv|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_inv|thm"><span>ground_sys_inv</span></span></span><span class="main"><span>:</span></span><span>
 </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_symcl|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_symcl|thm"><span>ground_sys_symcl</span></span></span><span class="main"><span>:</span></span><span>
 </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1600..1605">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground(2)|thm"><span class="entity_def" id="Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground(1)|thm"><span>ground_sys_comp_rrstep_rel'_ground</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
 </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span>(</span></span><span>3</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>consider</span></span></span><span> </span><span class="main"><span>(</span></span><span>a</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="main"><span>|</span></span><span>
    </span><span class="main"><span>(</span></span><span>b</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>cases</span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>a</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_l|fact"><span>srsteps_pres_ground_l</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>next</span></span></span><span>
    </span><span class="keyword3"><span class="command"><span>case</span></span></span><span> </span><span>b</span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_r|fact"><span>srsteps_pres_ground_r</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_1600..1605"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2431..2436">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_commute|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_commute|thm"><span>GTRS_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_2498..2501">com</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_2611..2614">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_2677..2682">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground|fact"><span>ground_sys_comp_rrstep_rel'_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_inv|fact"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_inv|fact"><span>ground_sys_inv</span></a></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span class="operator"><span>OF</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2431..2436"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2431..2436"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2431..2436"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2431..2436"><span>assms</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>2</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2611..2614"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2611..2614"><span>ass</span></a></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_r|fact"><span>srsteps_pres_ground_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2431..2436"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2677..2682"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span>  </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2677..2682"><span>steps</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2498..2501"><span>com</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_2677..2682"><span>steps</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3275..3277">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_srsteps_relcompD|fact"><span>gsrsteps_eq_relcomp_srsteps_relcompD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3275..3277"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_rrstep_intro|fact"><span>commute_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3545..3550">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_CR|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_CR|thm"><span>GTRS_CR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.GTRS_commute|fact"><span>GTRS_commute</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3545..3550"><span>assms</span></a><span>
  </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_iff_self_commute|fact"><span>CR_iff_self_commute</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_SCR|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_SCR|thm"><span>GTRS_SCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_3733..3737">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3761..3764">scr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_3841..3844">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3898..3902">root</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3841..3844"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3898..3902"><span>root</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4081..4083">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3841..3844"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3733..3737"><span>gtrs</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srrstep_ground|fact"><span>srrstep_ground</span></a><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_pres_ground_l|fact"><span>srstep_pres_ground_l</span></a><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_pres_ground_r|fact"><span>srstep_pres_ground_r</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>metis</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3761..3764"><span>scr</span></a><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span>v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4081..4083"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Int_iff</span><span> </span><span>UNIV_I</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_3841..3844"><span>ass</span></a><span> </span><span>mem_Collect_eq</span><span> </span><span>mem_Sigma_iff</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>Int_iff</span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_rrstep_intro|fact"><span>SCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_WCR|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_WCR|thm"><span>GTRS_WCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4611..4615">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_4639..4642">wcr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4719..4722">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4719..4722"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4797..4802">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srrstep_ground|fact"><span>srrstep_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4611..4615"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4611..4615"><span>gtrs</span></a></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4719..4722"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4719..4722"><span>ass</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srstep_pres_ground_l|fact"><span>srstep_pres_ground_l</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4611..4615"><span>gtrs</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4719..4722"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5010..5012">by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5010..5012"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4639..4642"><span>wcr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4719..4722"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_4797..4802"><span>funas</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR_on_def|fact"><span>WCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>IntI</span><span> </span><span>SigmaI</span><span> </span><span>UNIV_I</span><span> </span><span>mem_Collect_eq</span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>full_types</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.joinD|fact"><span>joinD</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.joinI|fact"><span>joinI</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.WCR_rrstep_intro|fact"><span>WCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_UNF|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_UNF|thm"><span>GTRS_UNF</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5409..5413">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_5437..5440">unf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5515..5518">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>u</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="entity_def" id="offset_5581..5586">steps</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5736..5738">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground|fact"><span>ground_sys_comp_rrstep_rel'_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_inv|fact"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_inv|fact"><span>ground_sys_inv</span></a></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span class="operator"><span>OF</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5409..5413"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5409..5413"><span>gtrs</span></a></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5409..5413"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5409..5413"><span>gtrs</span></a></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5515..5518"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5515..5518"><span>ass</span></a></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_pres_ground_r|fact"><span>srsteps_pres_ground_r</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5409..5413"><span>gtrs</span></a><span>  _ </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5581..5586"><span>steps</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5581..5586"><span>steps</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5943..5944">f</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>Î»</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5581..5586"><span>steps</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5736..5738"><span>gr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_converse|fact"><span>Restr_converse</span></a><span> </span><span>trancl_converse</span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="main"><span>_</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5943..5944"><span>f</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5437..5440"><span>unf</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5736..5738"><span>gr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_5736..5738"><span>gr</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="free"><span>â±</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
           </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNF_rrstep_intro|fact"><span>UNF_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_UNC|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_UNC|thm"><span>GTRS_UNC</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_6667..6671">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_6695..6698">unc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_6773..6776">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6773..6776"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6773..6776"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_symcl|fact"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_symcl|fact"><span>ground_sys_symcl</span></a></a><span class="main"><span class="main"><span class="main"><span>[</span></span></span></span><span class="operator"><span class="operator"><span>OF</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6667..6671"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6667..6671"><span>gtrs</span></a></a><span class="main"><span class="main"><span class="main"><span>]</span></span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6773..6776"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_6695..6698"><span>unc</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep_conversion_dist|fact"><span>gsrstep_conversion_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNC_rrstep_intro|fact"><span>UNC_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7344..7349">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NFP|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NFP|thm"><span>GTRS_NFP</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_7392..7395">nfp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7470..7473">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7470..7473"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>Un_iff</span><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7470..7473"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7667..7671">have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7344..7349"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_comp_rrstep_rel&apos;_ground|fact"><span>ground_sys_comp_rrstep_rel'_ground</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_inv|fact"><span>ground_sys_inv</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7667..7671"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7470..7473"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span>  </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_stepD|fact"><span>NFP_stepD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_7392..7395"><span>nfp</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>â¹</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="skolem"><span>t</span></span><span>âº</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_NF_srstep_gsrstep|fact"><span>ground_NF_srstep_gsrstep</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_rrstep_intro|fact"><span>NFP_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_8277..8282">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NE_aux|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NE_aux|thm"><span>GTRS_NE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8351..8355">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_8394..8396">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8277..8282"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8488..8490">gr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8351..8355"><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8351..8355"><span>gtrs</span></a></a><span class="main"><span class="main"><span class="main"><span>(</span></span></span></span><span>1</span><span class="main"><span class="main"><span class="main"><span>)</span></span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp_all</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8488..8490"><span>gr</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8277..8282"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8488..8490"><span>gr</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_8394..8396"><span>ne</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NE|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.GTRS_NE|thm"><span>GTRS_NE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9031..9035">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9074..9076">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9169..9175">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.GTRS_NE_aux|fact"><span>GTRS_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9169..9175"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9031..9035"><span>gtrs</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9074..9076"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_9314..9320">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.GTRS_NE_aux|fact"><span>GTRS_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9314..9320"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9031..9035"><span>gtrs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_symmetric|fact"><span>NE_symmetric</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9074..9076"><span>ne</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_nf_eq_lift|fact"><span>ground_sys_nf_eq_lift</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9031..9035"><span>gtrs</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9074..9076"><span>ne</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_rrstep_intro|fact"><span>NE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.gtrs_CE_aux|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.gtrs_CE_aux|thm"><span>gtrs_CE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9612..9616">step</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9666..9670">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_9709..9711">ce</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9612..9616"><span>step</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9666..9670"><span>gtrs</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.ground_sys_symcl|fact"><span>ground_sys_symcl</span></a><span> </span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.srsteps_with_root_step_ground|fact"><span>srsteps_with_root_step_ground</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9612..9616"><span>step</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep_conversion_dist|fact"><span>gsrstep_conversion_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_9709..9711"><span>ce</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on_def|fact"><span>CE_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep_conversion_dist|fact"><span>gsrstep_conversion_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.symcl_srsteps_conversion|fact"><span>symcl_srsteps_conversion</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_GTRS.gtrs_CE|fact"><span class="entity_def" id="Ground_Reduction_on_GTRS.gtrs_CE|thm"><span>gtrs_CE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_10309..10313">gtrs</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_GTRS.html#Rewriting_GTRS.ground_sys|const"><span>ground_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
   </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10352..10354">ce</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_10447..10453">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.gtrs_CE_aux|fact"><span>gtrs_CE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10447..10453"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10309..10313"><span>gtrs</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10352..10354"><span>ce</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_10598..10604">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#Ground_Reduction_on_GTRS.gtrs_CE_aux|fact"><span>gtrs_CE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10598..10604"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10309..10313"><span>gtrs</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_symmetric|fact"><span>CE_symmetric</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_GTRS.html#offset_10352..10354"><span>ce</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_rrstep_intro|fact"><span>CE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div><div id='Ground_Reduction_on_LV'>ead>


<body>
<div class="head">
<h1>Theory Ground_Reduction_on_LV</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Reducing Rewrite Properties to Properties on Ground Terms over Linear Variable-Separated Systems</span><span>âº</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><span>Ground_Reduction_on_LV</span><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span>
    </span><a href="Rewriting_Properties.html"><span>Rewriting_Properties</span></a><span>
    </span><a href="Rewriting_LLRG_LV_Mondaic.html"><span>Rewriting_LLRG_LV_Mondaic</span></a><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.lv_linear_sys|fact"><span class="entity_def" id="Ground_Reduction_on_LV.lv_linear_sys|thm"><span>lv_linear_sys</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.comp_rrstep_rel&apos;_sig_mono|fact"><span class="entity_def" id="Ground_Reduction_on_LV.comp_rrstep_rel&apos;_sig_mono|thm"><span>comp_rrstep_rel'_sig_mono</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>ð¢</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>Un_mono</span><span> </span><span>relcomp_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_monp|fact"><span>srsteps_monp</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.srsteps_eqD|fact"><span class="entity_def" id="Ground_Reduction_on_LV.srsteps_eqD|thm"><span>srsteps_eqD</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>section</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Linear-variable separated results</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.intro|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_def|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.intro|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_def|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_def|axiom"><span>locale</span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv|locale"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv|const"><span>open_terms_two_const_lv</span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>c</span></span><span> </span><span class="free"><span>d</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv|thm"><span class="entity_def" id="offset_695..697">lv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig|thm"><span class="entity_def" id="offset_710..713">sig</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh(1)|thm"><span class="entity_def" id="offset_741..746">fresh</span></span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.diff|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.diff|thm"><span class="entity_def" id="offset_782..786">diff</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>c</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.\&lt;H&gt;|const"><span class="entity_def" id="offset_817..818">â</span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.\&lt;sigma&gt;\&lt;^sub&gt;c|const"><span class="entity_def" id="offset_867..870">Ï<span class="hidden">â©</span><sub>c</sub></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.\&lt;sigma&gt;\&lt;^sub&gt;d|const"><span class="entity_def" id="offset_902..905">Ï<span class="hidden">â©</span><sub>d</sub></span></span></span><span> </span><span class="main"><span>â¡</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span>"</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig_mono|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig_mono|thm"><span class="entity_def" id="offset_930..938">sig_mono</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_c|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_c|thm"><span class="entity_def" id="offset_962..973">fresh_sym_c</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_d|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_d|thm"><span class="entity_def" id="offset_1052..1063">fresh_sym_d</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_c_inv|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_c_inv|thm"><span class="entity_def" id="offset_1142..1157">fresh_sym_c_inv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_d_inv|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.fresh_sym_d_inv|thm"><span class="entity_def" id="offset_1239..1254">fresh_sym_d_inv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemmas</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.all_fresh|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.all_fresh(4)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.all_fresh(3)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.all_fresh(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.all_fresh(1)|thm"><span class="entity_def" id="offset_1338..1347">all_fresh</span></span></span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1142..1157"><span>fresh_sym_c_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1239..1254"><span>fresh_sym_d_inv</span></a><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig_inv|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.sig_inv|thm"><span class="entity_def" id="offset_1414..1421">sig_inv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_inv|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_inv|thm"><span class="entity_def" id="offset_1492..1498">lv_inv</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.well_subst|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.well_subst(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.well_subst(1)|thm"><span class="entity_def" id="offset_1550..1560">well_subst</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>â</span></span><span class="bound"><span>x</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>d</span></span><span class="main"><span>)</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_1659..1664">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.srsteps_with_root_step_to_grsteps|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.srsteps_with_root_step_to_grsteps|thm"><span>srsteps_with_root_step_to_grsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1659..1664"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_1821..1825">lift</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1821..1825"><span>lift</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_2328..2333">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.comp_rrstep_rel&apos;_to_grsteps|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.comp_rrstep_rel&apos;_to_grsteps|thm"><span class="entity_def" id="offset_2334..2361">comp_rrstep_rel'_to_grsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_2328..2333"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_2504..2508">lift</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>in_mono</span><span> </span><span>relcomp_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_monp|fact"><span>srsteps_monp</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span> </span><span>sup_mono</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_2504..2508"><span>lift</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_3200..3205">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.gsrsteps_eq_to_srsteps|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.gsrsteps_eq_to_srsteps|thm"><span class="entity_def" id="offset_3206..3228">gsrsteps_eq_to_srsteps</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3287..3292">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3287..3292"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_3392..3393">d</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_3423..3424">c</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3423..3424"><span>c</span></a><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3200..3205"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span>remove_const_subst_steps_eq_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_rhs|fact"><span>remove_const_subst_steps_eq_rhs</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3392..3393"><span>d</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3287..3292"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_NF_to_GNF|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_NF_to_GNF(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_NF_to_GNF(1)|thm"><span class="entity_def" id="offset_3820..3837">convert_NF_to_GNF</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_GNF_to_NF|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_GNF_to_NF(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.convert_GNF_to_NF(1)|thm"><span>convert_GNF_to_NF</span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|fact"><span>fresh_const_subst_NF_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.fresh_const_subst_NF_pres|fact"><span>fresh_const_subst_NF_pres</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_CR|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_CR|thm"><span>lv_CR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_4478..4480">cr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR|const"><span>CR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_4553..4556">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4553..4556"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_4634..4639">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Pair_inject</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4553..4556"><span>ass</span></a><span> </span><span>relcompE</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4553..4556"><span>ass</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_2334..2361"><span>comp_rrstep_rel'_to_grsteps</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>s</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4478..4480"><span>cr</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.CR_on_def|fact"><span>CR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_5002..5004">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5002..5004"><span>this</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4634..4639"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp|fact"><span>remove_const_subst_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1338..1347"><span>all_fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1414..1421"><span>sig_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_4634..4639"><span>funas</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span> </span><span>subsetD</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CR_rrstep_intro|fact"><span>CR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_WCR|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_WCR|thm"><span>lv_WCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_5492..5495">wcr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR|const"><span>WCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5559..5573">sig_trans_root</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_monp|fact"><span>srrstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_5621..5630">sig_trans</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_monp|fact"><span>srstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_5690..5693">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5690..5693"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5768..5773">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5856..5860">free</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_5941..5942">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5559..5573"><span>sig_trans_root</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5690..5693"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_root_step_idep_subst|fact"><span>lv_root_step_idep_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5621..5630"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5690..5693"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_6318..6319">w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5492..5495"><span>wcr</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.WCR_on_def|fact"><span>WCR_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5941..5942"><span>*</span></a><span> </span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_6445..6458">join_unfolded</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_6318..6319"><span>w</span></a><span class="main"><span>[</span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.join_def|fact"><span>join_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp|fact"><span>remove_const_subst_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1239..1254"><span>fresh_sym_d_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1142..1157"><span>fresh_sym_c_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>symmetric</span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5856..5860"><span>free</span></a><span>
          </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_6445..6458"><span>join_unfolded</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span>
          </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1414..1421"><span>sig_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_5768..5773"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2-</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.WCR_rrstep_intro|fact"><span>WCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_NFP|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_NFP|thm"><span>lv_NFP</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7020..7023">nfp</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP|const"><span>NFP</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7098..7101">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7098..7101"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7158..7163">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7098..7101"><span>ass</span></a><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_2334..2361"><span>comp_rrstep_rel'_to_grsteps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7098..7101"><span>ass</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_stepD|fact"><span>NFP_stepD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7020..7023"><span>nfp</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_7521..7523">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3206..3228"><span>gsrsteps_eq_to_srsteps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7521..7523"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7158..7163"><span>funas</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp|const"><span>NFP_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_redp_def|fact"><span>NFP_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3820..3837"><span>convert_NF_to_GNF</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7158..7163"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NFP_rrstep_intro|fact"><span>NFP_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_UNF|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_UNF|thm"><span>lv_UNF</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_7800..7803">unf</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF|const"><span>UNF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_7878..7881">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7878..7881"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_7938..7943">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7878..7881"><span>ass</span></a><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_2334..2361"><span>comp_rrstep_rel'_to_grsteps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7878..7881"><span>ass</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7800..7803"><span>unf</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNF_on_def|fact"><span>UNF_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3820..3837"><span>convert_NF_to_GNF</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7938..7943"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3820..3837"><span>convert_NF_to_GNF</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7938..7943"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_not_suc|fact"><span>NF_not_suc</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_7938..7943"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3206..3228"><span>gsrsteps_eq_to_srsteps</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNF_rrstep_intro|fact"><span>UNF_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_UNC|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_UNC|thm"><span>lv_UNC</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_8689..8692">unc</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC|const"><span>UNC</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8756..8763">lv_conv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_8826..8829">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8826..8829"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_8891..8896">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8826..8829"><span>ass</span></a><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8756..8763"><span>lv_conv</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8826..8829"><span>ass</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_smycl_dist|fact"><span>Restr_smycl_dist</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8689..8692"><span>unc</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.UNC_def|fact"><span>UNC_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_converse_rstep|fact"><span>sig_step_converse_rstep</span></a><span> </span><span>rtrancl_converse</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_converse|fact"><span>Restr_converse</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp|const"><span>UN_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UN_redp_def|fact"><span>UN_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3820..3837"><span>convert_NF_to_GNF</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8891..8896"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3820..3837"><span>convert_NF_to_GNF</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8891..8896"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_not_suc|fact"><span>NF_not_suc</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_8891..8896"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_3206..3228"><span>gsrsteps_eq_to_srsteps</span></a><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.UNC_rrstep_intro|fact"><span>UNC_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_SCR|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv.lv_SCR|thm"><span>lv_SCR</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_9909..9912">scr</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR|const"><span>SCR</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_9976..9990">sig_trans_root</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_monp|fact"><span>srrstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10038..10047">sig_trans</span><span> </span><span class="main"><span>=</span></span><span> </span><span>subsetD</span><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_monp|fact"><span>srstep_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10094..10101">cl_on_c</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1142..1157"><span>fresh_sym_c_inv</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="entity_def" id="offset_10271..10278">cl_on_d</span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span class="main"><span>]</span></span><span>
    </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.lin_fresh_rstep_const_replace_closed|fact"><span>lin_fresh_rstep_const_replace_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1239..1254"><span>fresh_sym_d_inv</span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_10461..10464">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10520..10524">root</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¨</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10461..10464"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10610..10615">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>force</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_10722..10731">fresh_c_t</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_10768..10777">fresh_d_u</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_10863..10867">have</span></span></span><span> </span><span>*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step|const"><span>sig_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rrstep|const"><span>rrstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â§</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10038..10047"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10461..10464"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10038..10047"><span>sig_trans</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10461..10464"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_root_step_idep_subst|fact"><span>lv_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_9976..9990"><span>sig_trans_root</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_9976..9990"><span>sig_trans_root</span></a><span class="main"><span>[</span></span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>u</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp_all</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10461..10464"><span>ass</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10038..10047"><span>sig_trans</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_subst_closed|fact"><span>srstep_subst_closed</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10863..10867"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_9909..9912"><span>scr</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10520..10524"><span>root</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_on_def|fact"><span>SCR_on_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>UNIV_I</span><span> </span><span>converse_iff</span><span> </span><span>relcomp.simps</span><span class="main"><span>)</span></span><span> 
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_11590..11591">v</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_srsteps_eq|fact"><span>gsrsteps_eq_to_srsteps_eq</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>v</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="skolem"><span>v</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="skolem"><span>x</span></span><span> </span><span class="skolem"><span>v</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>subset_insertI2</span><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span class="main"><span>)</span></span><span class="main"><span>Â¯</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
      </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_11590..11591"><span>v</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_relcomp|fact"><span>const_replace_closed_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span>const_replace_closed_remove_subst_lhs</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span>
         </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_rtrancl|fact"><span>const_replace_closed_rtrancl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10094..10101"><span>cl_on_c</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
         </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_symcl|fact"><span>const_replace_closed_symcl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10094..10101"><span>cl_on_c</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10722..10731"><span>fresh_c_t</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>u</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>relcomp.relcompI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepD|fact"><span>srstepD</span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>flip</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.srsteps_eqD|fact"><span>srsteps_eqD</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_relcomp|fact"><span>const_replace_closed_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_remove_subst_lhs|fact"><span>const_replace_closed_remove_subst_lhs</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span>
          </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_symcl|fact"><span>const_replace_closed_symcl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10271..10278"><span>cl_on_d</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_replace_closed_rtrancl|fact"><span>const_replace_closed_rtrancl</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10271..10278"><span>cl_on_d</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10768..10777"><span>fresh_d_u</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><span class="skolem"><span>t</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><span>converse_relcomp</span><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?s</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?r</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><span>converseD</span><span> </span><span>converse_Id</span><span> </span><span>converse_Un</span><span> </span><span>converse_converse</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_converse_dist|fact"><span>rstep_converse_dist</span></a><span> </span><span>rtrancl_converse</span><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>obtain</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>v</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>v</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep|const"><span>rstep</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>u</span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.term_to_sig|const"><span>term_to_sig</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>x</span></span><span> </span><span class="skolem"><span>v</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>=</sup></span></span><span>"</span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_10610..10615"><span>funas</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>,</span></span><span> 3</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>rtrancl_eq_or_trancl</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_trancl_sig_step_r|fact"><span>rstep_trancl_sig_step_r</span></a><span> </span><span>subset_insertI2</span><span>
          </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_outwards|fact"><span>rew_converse_outwards</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.fuans_term_term_to_sig|fact"><span>fuans_term_term_to_sig</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_term_to_sig_r|fact"><span>rstep_term_to_sig_r</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rstep_srstepI|fact"><span>rstep_srstepI</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span>)</span></span><span>
      </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
        </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>converse_Id</span><span> </span><span>converse_Un</span><span> </span><span>relcomp.relcompI</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCRp|const"><span>SCRp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="skolem"><span>u</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.SCR_rrstep_intro|fact"><span>SCR_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srrstep_to_srestep|fact"><span>srrstep_to_srestep</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.axioms|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.intro|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_def|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms.intro|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms_def|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.axioms(2)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.axioms(1)|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.intro|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_def|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms.intro|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms_def|thm"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_def|axiom"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms_def|axiom"><span>locale</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys|locale"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys|const"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys_axioms|const"><span>open_terms_two_const_lv_two_sys</span></span></span></span><span> </span><span class="main"><span>=</span></span><span>
  </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.open_terms_two_const_lv|locale"><span>open_terms_two_const_lv</span></a><span> </span><span class="quoted"><span class="free"><span>â</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span> </span><span class="main"><span>+</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="tfree"><span>'f</span></span><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'v</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term|type"><span>term</span></a><span> </span><span>rel</span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_S|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_S|thm"><span class="entity_def" id="offset_13571..13575">lv_S</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.sig_S|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.sig_S|thm"><span class="entity_def" id="offset_13588..13593">sig_S</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.fresh_sym_c_S|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.fresh_sym_c_S|thm"><span class="entity_def" id="offset_13626..13639">fresh_sym_c_S</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.fresh_sym_d_S|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.fresh_sym_d_S|thm"><span class="entity_def" id="offset_13720..13733">fresh_sym_d_S</span></span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
  </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_commute|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_commute|thm"><span>lv_commute</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_13837..13840">com</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute|const"><span>commute</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_13939..13945">linear</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.linear_sys|const"><span>linear_sys</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_14037..14040">ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.comp_rrstep_rel&apos;|const"><span>comp_rrstep_rel'</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_14037..14040"><span>ass</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14097..14102">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_14037..14040"><span>ass</span></a><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.comp_rrstep_rel&apos;_sig_mono|fact"><span>comp_rrstep_rel'_sig_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_14037..14040"><span>ass</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>trancl_into_rtrancl</span><span>
          </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1492..1498"><span>lv_inv</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span class="main"><span>]</span></span></span><span>
          </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.srsteps_eq_relcomp_gsrsteps_relcomp|fact"><span>srsteps_eq_relcomp_gsrsteps_relcomp</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_14835..14836">w</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13837..13840"><span>com</span></a><span>
      </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.commute_def|fact"><span>commute_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_converse|fact"><span>Restr_converse</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_converse_dist|fact"><span>srstep_converse_dist</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>blast</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span> </span><span class="keyword1"><span>O</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><span>Â¯</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_14097..14102"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1414..1421"><span>sig_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_relcomp|fact"><span>remove_const_subst_relcomp</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13939..13945"><span>linear</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13626..13639"><span>fresh_sym_c_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13720..13733"><span>fresh_sym_d_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1142..1157"><span>fresh_sym_c_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1239..1254"><span>fresh_sym_d_inv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span> _ _
          </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_relcomp_to_rsteps_relcomp|fact"><span>gsrsteps_eq_relcomp_to_rsteps_relcomp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_14835..14836"><span>w</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_relcomp_srsteps_eq_relcompI|fact"><span>rsteps_eq_relcomp_srsteps_eq_relcompI</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp|const"><span>commute_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_redp_def|fact"><span>commute_redp_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rew_converse_inwards|fact"><span>rew_converse_inwards</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.commute_rrstep_intro|fact"><span>commute_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>simp</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_NE|fact"><span class="entity_def" id="Ground_Reduction_on_LV.open_terms_two_const_lv_two_sys.lv_NE|thm"><span>lv_NE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_15503..15505">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15503..15505"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15615..15620">ne_eq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13626..13639"><span>fresh_sym_c_S</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span>  </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.linear_sys_gNF_eq_NF_eq|fact"><span>linear_sys_gNF_eq_NF_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_15797..15801">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15855..15860">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span>Un_iff</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15797..15801"><span>step</span></a><span> </span><span>relcompEpair</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_15998..16003">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15797..15801"><span>step</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15503..15505"><span>ne</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15503..15505"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_16500..16502">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_16500..16502"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps|fact"><span>remove_const_subst_steps</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13626..13639"><span>fresh_sym_c_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13720..13733"><span>fresh_sym_d_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15998..16003"><span>fresh</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13720..13733"><span>fresh_sym_d_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15855..15860"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15855..15860"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15615..15620"><span>ne_eq</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span>assume</span></span></span><span> </span><span class="entity_def" id="offset_16923..16927">step</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_16981..16986">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13588..13593"><span>sig_S</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_stepE|fact"><span>sig_stepE</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_rsteps_dist|fact"><span>sig_step_rsteps_dist</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_17127..17132">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>d</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="skolem"><span>s</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_741..746"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_sig_mono|fact"><span>srsteps_with_root_step_sig_mono</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_930..938"><span>sig_mono</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_16923..16927"><span>step</span></a><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_13571..13575"><span>lv_S</span></a><span> _ </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1550..1560"><span>well_subst</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
    </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_867..870"><span>Ï<span class="hidden">â©</span><sub>c</sub></span></a><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_902..905"><span>Ï<span class="hidden">â©</span><sub>d</sub></span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>*</sup></span></span><span>"</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15503..15505"><span>ne</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15503..15505"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span>
      </span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_17631..17633">by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span class="main"><span>)</span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_17631..17633"><span>this</span></a><span class="main"><span>[</span></span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps|fact"><span>remove_const_subst_steps</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_962..973"><span>fresh_sym_c</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_782..786"><span>diff</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_17127..17132"><span>fresh</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_695..697"><span>lv</span></a><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_1052..1063"><span>fresh_sym_d</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_16981..16986"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="quoted"><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_817..818"><span>â</span></a></span><span class="main"><span>]</span></span><span>
      </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_16981..16986"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_710..713"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15615..15620"><span>ne_eq</span></a><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_15615..15620"><span>ne_eq</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_rrstep_intro|fact"><span>NE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="comment1"><span>â â¹</span><span>CE is special as it only needs one additional constant therefore not
</span><span>   included in the locale</span><span>âº</span></span><span>
</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_18200..18205">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.lv_CE_aux|fact"><span class="entity_def" id="Ground_Reduction_on_LV.lv_CE_aux|thm"><span>lv_CE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18277..18280">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18326..18331">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18350..18355">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18378..18380">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_18404..18406">ce</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18551..18555">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18581..18588">lv_conv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18378..18380"><span>lv</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_def|fact"><span>lv_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18651..18659">sig_conv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18277..18280"><span>sig</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18326..18331"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18744..18753">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18277..18280"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18200..18205"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_18893..18897">lift</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step_def|fact"><span>srsteps_with_root_step_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>in_mono</span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18551..18555"><span>mono</span></a><span> </span><span>relcomp_mono</span><span> </span><span>rtrancl_mono</span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srrstep_monp|fact"><span>srrstep_monp</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_monp|fact"><span>srstep_monp</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18200..18205"><span>assms</span></a><span class="main"><span>(</span></span><span>1</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19083..19088">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18200..18205"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_monp|fact"><span>srsteps_eq_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18551..18555"><span>mono</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_eq_subst_closed|fact"><span>srsteps_eq_subst_closed</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18350..18355"><span>const</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv_srsteps_with_root_step_idep_subst|fact"><span>lv_srsteps_with_root_step_idep_subst</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18581..18588"><span>lv_conv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18893..18897"><span>lift</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_sresteps_eqD|fact"><span>srsteps_with_root_step_sresteps_eqD</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.ground|const"><span>ground</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_19808..19811">toS</span><span class="main"><span>:</span></span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_eq_gsrsteps_eq|fact"><span>ground_srsteps_eq_gsrsteps_eq</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><span class="operator"><span>where</span></span></span></span><span> </span><span class="var"><span>?â±</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span>and</span></span></span></span><span> </span><span class="var"><span>?â</span></span><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span>"</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18404..18406"><span>ce</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_on_def|fact"><span>CE_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.Restr_smycl_dist|fact"><span>Restr_smycl_dist</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_def|fact"><span>conversion_def</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep_symcl_dist|fact"><span>srstep_symcl_dist</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_20125..20126">*</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="var"><span>?â</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><span class="main"><span class="main"><span>(</span></span></span><span>no_types</span><span class="main"><span class="main"><span>,</span></span></span><span> lifting</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_inv|fact"><span>conversion_inv</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion_rtrancl|fact"><span>conversion_rtrancl</span></a><span> </span><span>rtrancl.rtrancl_into_rtrancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18350..18355"><span>const</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_19083..19088"><span>funas</span></a><span class="main"><span>(</span></span><span>2</span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18326..18331"><span>fresh</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_rhs|fact"><span>remove_const_subst_steps_eq_rhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18581..18588"><span>lv_conv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18744..18753"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> _
        </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_20125..20126"><span>*</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep_conversion_dist|fact"><span>gsrstep_conversion_dist</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18651..18659"><span>sig_conv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>a</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18350..18355"><span>const</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_19083..19088"><span>funas</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18326..18331"><span>fresh</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.remove_const_subst_steps_eq_lhs|fact"><span>remove_const_subst_steps_eq_lhs</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18581..18588"><span>lv_conv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18744..18753"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>3</span><span class="main"><span class="main"><span>)</span></span></span><span> _
        </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_eq_to_rsteps_eq|fact"><span>gsrsteps_eq_to_rsteps_eq</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_19808..19811"><span>toS</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>unfolded</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep_conversion_dist|fact"><span>gsrstep_conversion_dist</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>cases</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.term.vars_term|const"><span>vars_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="main"><span>{}</span></span><span>"</span></span></span><span class="main"><span>)</span></span><span>
      </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.sig_step_conversion_dist|fact"><span>sig_step_conversion_dist</span></a><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term_subst|fact"><span>funas_term_subst</span></a><span> </span><span class="quasi_keyword"><span>split</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><span>if_splits</span><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_eq_srsteps_eqI|fact"><span>rsteps_eq_srsteps_eqI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_18651..18659"><span>sig_conv</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversionE|fact"><span>conversionE</span></a><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversionI|fact"><span>conversionI</span></a><span> </span><span>rtrancl_trans</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21216..21221">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.lv_CE|fact"><span class="entity_def" id="Ground_Reduction_on_LV.lv_CE|thm"><span>lv_CE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_21239..21242">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21288..21293">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21312..21317">const</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>a</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21340..21342">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21366..21368">ce</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE|const"><span>CE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21493..21499">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>â</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_CE_aux|fact"><span>lv_CE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21493..21499"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21216..21221"><span>assms</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_21640..21646">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>ð®</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.symcl|const"><span><span class="hidden">â§</span><sup>â</sup></span></a></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_CE_aux|fact"><span>lv_CE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21640..21646"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21239..21242"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21288..21293"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21312..21317"><span>const</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21340..21342"><span>lv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_symmetric|fact"><span>CE_symmetric</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21366..21368"><span>ce</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.conversion|const"><span><span class="hidden">â§</span><sup>â</sup><span class="hidden">â§</span><sup>*</sup></span></a></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.CE_rrstep_intro|fact"><span>CE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>subsection</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>â¹</span><span>Specialized for monadic signature</span><span>âº</span></span></span><span>

</span><span class="keyword1"><span class="command"><span class="entity_def" id="offset_21930..21935">lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.lv_NE_aux|fact"><span class="entity_def" id="Ground_Reduction_on_LV.lv_NE_aux|thm"><span>lv_NE_aux</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_21999..22004">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22027..22030">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22076..22078">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22102..22105">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_22127..22129">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Replace_Constant.html#Replace_Constant.const_subst|const"><span>const_subst</span></a><span> </span><span class="free"><span>c</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>let</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span> </span><span class="main"><span>=</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22293..22297">mono</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>â±</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22102..22105"><span>mon</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22332..22334">mh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="var"><span>?â</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic_def|fact"><span>monadic_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21999..22004"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22395..22404">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22027..22030"><span>sig</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21930..21935"><span>assms</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22514..22519">funas</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span>)</span></span><span class="main"><span class="keyword3"><span>+</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22514..22519"><span>funas</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>fresh_t</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Regular_Tree_Relations/Term_Context.html#Term_Context.funas_term|const"><span>funas_term</span></a><span> </span><span class="free"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21999..22004"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>auto</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_subst_closed|fact"><span>srsteps_subst_closed</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_monp|fact"><span>srsteps_monp</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22293..22297"><span>mono</span></a><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><span>subsetD</span><span class="main"><span class="main"><span>,</span></span></span><span> </span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.srsteps_with_root_step_srstepsD|fact"><span>srsteps_with_root_step_srstepsD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_21930..21935"><span>assms</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?Ï</span></span></span></span><span class="main"><span>]</span></span><span>
  </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_22818..22823">gstep</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span> </span><span class="quasi_keyword"><span>intro</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.ground_srsteps_gsrsteps|fact"><span>ground_srsteps_gsrsteps</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span>neq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span> </span><span class="main"><span>â </span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22076..22078"><span>lv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22395..22404"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22027..22030"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22514..22519"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>metis</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF_no_trancl_step|fact"><span>NF_no_trancl_step</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="free"><span>t</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â¹</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>s</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>,</span></span><span> </span><span class="free"><span>t</span></span><span> </span><span class="main"><a class="entity_ref" href="../First_Order_Terms/Term.html#Term.subst_apply_term|const"><span>â</span></a></span><span> </span><span class="var"><span>?Ï</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span class="main"><span><span class="hidden">â§</span><sup>+</sup></span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22818..22823"><span>gstep</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.NF_to_fresh_const_subst_NF|fact"><span>NF_to_fresh_const_subst_NF</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22076..22078"><span>lv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22395..22404"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22027..22030"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22514..22519"><span>funas</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span class="main"><span>,</span></span><span> </span><span class="operator"><span>of</span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?â</span></span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22127..22129"><span>ne</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>symmetric</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22127..22129"><span>ne</span></a><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_on_def|fact"><span>NE_on_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.normalizability_def|fact"><span>normalizability_def</span></a><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.ground_subst_apply|fact"><span>ground_subst_apply</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>meson</span></span><span> </span><span>rtrancl_eq_or_trancl</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>then</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>unfolding</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp_def|fact"><span>NE_redp_def</span></a><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.remove_const_lv_mondaic_steps|fact"><span>remove_const_lv_mondaic_steps</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22076..22078"><span>lv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22395..22404"><span>fresh_sys</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22332..22334"><span>mh</span></a><span class="main"><span>,</span></span><span> </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srstepsD|fact"><span>srstepsD</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>THEN</span></span><span> </span><span>conjunct1</span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>,</span></span><span>
        </span><span class="operator"><span>THEN</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.rsteps_srstepsI|fact"><span>rsteps_srstepsI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22027..22030"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_22514..22519"><span>funas</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>!</span></span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.gsrsteps_to_srsteps|fact"><span>gsrsteps_to_srsteps</span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>lemma</span></span></span><span> </span><span class="entity_def" id="Ground_Reduction_on_LV.lv_NE|fact"><span class="entity_def" id="Ground_Reduction_on_LV.lv_NE|thm"><span>lv_NE</span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="entity_def" id="offset_23743..23746">sig</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23792..23795">mon</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.monadic|const"><span>monadic</span></a><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23813..23818">fresh</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><span class="free"><span>â±</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23841..23843">lv</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.lv|const"><span>lv</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="entity_def" id="offset_23867..23869">ne</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.gsrstep|const"><span>gsrstep</span></a><span> </span><span class="main"><span>(</span></span><span>insert</span><span> </span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>â±</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>shows</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE|const"><span>NE</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>proof</span></span></span><span> </span><span class="operator"><span>-</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23813..23818"><span>fresh</span></a><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24001..24010">fresh_sys</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="free"><span>c</span></span><span class="main"><span>,</span></span><span> </span><span class="main"><span>0</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel|const"><span>funas_rel</span></a><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23743..23746"><span>sig</span></a><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>simp</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Terms_Positions.html#Terms_Positions.funas_rel_def|fact"><span>funas_rel_def</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_NF_eq|fact"><span>NE_NF_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23867..23869"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="entity_def" id="offset_24130..24135">ne_eq</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../Abstract-Rewriting/Abstract_Rewriting.html#Abstract_Rewriting.NF|const"><span>NF</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Rewriting.html#Rewriting.srstep|const"><span>srstep</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span class="main"><span>)</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23841..23843"><span>lv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23743..23746"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_24001..24010"><span>fresh_sys</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span>  </span><a class="entity_ref" href="Rewriting_LLRG_LV_Mondaic.html#Rewriting_LLRG_LV_Mondaic.linear_sys_gNF_eq_NF_eq|fact"><span>linear_sys_gNF_eq_NF_eq</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>auto</span></span><span> </span><span class="quasi_keyword"><span>dest</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_linear_sys|fact"><span>lv_linear_sys</span></a><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_24274..24280">assume</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_NE_aux|fact"><span>lv_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_24274..24280"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23813..23818"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23743..23746"><span>sig</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23841..23843"><span>lv</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23792..23795"><span>mon</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23867..23869"><span>ne</span></a><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>moreover</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>{</span></span></span><span class="keyword3"><span class="command"><span>fix</span></span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span> </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_24423..24429">assume</span></span></span><span> </span><span>ass</span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><span class="main"><span>(</span></span><span class="skolem"><span>s</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>t</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>â</span></span><span> </span><a class="entity_ref" href="Rewriting.html#Rewriting.srsteps_with_root_step|const"><span>srsteps_with_root_step</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span>"</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>from</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#Ground_Reduction_on_LV.lv_NE_aux|fact"><span>lv_NE_aux</span></a><span class="main"><span>[</span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_24423..24429"><span>this</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23813..23818"><span>fresh</span></a><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23743..23746"><span>sig</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23841..23843"><span>lv</span></a><span class="main"><span class="main"><span>(</span></span></span><span>2</span><span class="main"><span class="main"><span>,</span></span></span><span> 1</span><span class="main"><span class="main"><span>)</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23792..23795"><span>mon</span></a><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_symmetric|fact"><span>NE_symmetric</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="operator"><span>OF</span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_23867..23869"><span>ne</span></a><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>"</span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_redp|const"><span>NE_redp</span></a><span> </span><span class="free"><span>â±</span></span><span> </span><span class="free"><span>ð®</span></span><span> </span><span class="free"><span>â</span></span><span> </span><span class="skolem"><span>s</span></span><span> </span><span class="skolem"><span>t</span></span><span>"</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="operator"><span>simp</span></span><span class="keyword1"><span class="command"><span>}</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>ultimately</span></span></span><span> </span><span class="keyword3"><span class="command"><span>show</span></span></span><span> </span><span class="var"><span class="quoted"><span class="var"><span>?thesis</span></span></span></span><span> </span><span class="keyword1"><span class="command"><span>using</span></span></span><span> </span><a class="entity_ref" href="Ground_Reduction_on_LV.html#offset_24130..24135"><span>ne_eq</span></a><span>
    </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><span class="operator"><span>intro</span></span><span> </span><a class="entity_ref" href="Rewriting_Properties.html#Rewriting_Properties.NE_rrstep_intro|fact"><span>NE_rrstep_intro</span></a><span class="main"><span>)</span></span><span> </span><span class="operator"><span>auto</span></span><span>
</span><span class="keyword1"><span class="command"><span>qed</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre></div>